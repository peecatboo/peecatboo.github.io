!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.player=t():e.player=t()}(this,(function(){return function(){var e={9597:function(e,t,n){"use strict";n.r(t),n.d(t,{HandlerType:function(){return ye},Logger:function(){return Me},StatusType:function(){return be},datadogLogs:function(){return Ft}});var i={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},r=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(i,e)||(e=i.log),r[e].apply(r,t)};function o(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{return e.apply(void 0,n)}catch(e){r.error(t,e)}}}r.debug=console.debug.bind(console),r.log=console.log.bind(console),r.info=console.info.bind(console),r.warn=console.warn.bind(console),r.error=console.error.bind(console);var s,a=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},u=!1;function c(e){u=e}function l(e,t,n){var i=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s?d(i):i;return n.apply(this,e)}}function d(e){return function(){return S(e,this,arguments)}}function S(e,t,n){try{return e.apply(t,n)}catch(e){if(f(i.error,e),s)try{s(e)}catch(e){f(i.error,e)}}}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u&&r.apply(void 0,a([e,"[MONITOR]"],t,!1))}var T=1e3;function N(e,t,n){var i,r,o=!n||void 0===n.leading||n.leading,s=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];a?i=n:(o?e.apply(void 0,n):i=n,a=!0,r=setTimeout((function(){s&&i&&e.apply(void 0,i),a=!1,i=void 0}),t))},cancel:function(){clearTimeout(r),a=!1,i=void 0}}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function O(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,O)}function A(e){return 0!==e&&100*Math.random()<=e}function g(){}function v(e,t,n){if(null==e)return JSON.stringify(e);var i=[!1,void 0];m(e)&&(i=[!0,e.toJSON],delete e.toJSON);var r,o,s=[!1,void 0];"object"==typeof e&&m(r=Object.getPrototypeOf(e))&&(s=[!0,r.toJSON],delete r.toJSON);try{o=JSON.stringify(e,t,n)}catch(e){o="<error: unable to serialize object>"}finally{i[0]&&(e.toJSON=i[1]),s[0]&&(r.toJSON=s[1])}return o}function m(e){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,"toJSON")}function C(e,t){return-1!==e.indexOf(t)}function I(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){return t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function E(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function h(e){return Object.keys(e).map((function(t){return e[t]}))}function _(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function R(e,t,n){void 0===n&&(n="");var i=e.charCodeAt(t-1),r=i>=55296&&i<=56319?t+1:t;return e.length<=r?e:"".concat(e.slice(0,r)).concat(n)}function b(e,t,n,i){return y(e,[t],n,i)}function y(e,t,n,i){var r=void 0===i?{}:i,o=r.once,s=r.capture,a=r.passive,u=d(o?function(e){l(),n(e)}:n),c=a?{capture:s,passive:a}:s;t.forEach((function(t){return e.addEventListener(t,u,c)}));var l=function(){return t.forEach((function(t){return e.removeEventListener(t,u,c)}))};return{stop:l}}function L(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var i=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,i)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var r=Array.isArray(e)?e:[],o=0;o<t.length;++o)r[o]=L(r[o],t[o],n);return r}var s,a="object"==(null===(s=e)?"null":Array.isArray(s)?"array":typeof s)?e:{};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(a[u]=L(a[u],t[u],n));return a}}function M(e){return L(void 0,e)}function D(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];null!=o&&(e=L(e,o))}return e}function P(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}var U,j,w,V,x=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}();function B(){return(new Date).getTime()}function k(){return B()}function G(){return performance.now()}function F(){return{relative:G(),timeStamp:k()}}function q(e,t){return t-e}function Y(){return void 0===U&&(U=performance.timing.navigationStart),U}function Q(){var e=_().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n){e.send(JSON.stringify({eventType:t,event:n}))}}}function W(e){var t;void 0===e&&(e=null===(t=_().location)||void 0===t?void 0:t.hostname);var n=Q();return!!n&&n.getAllowedWebViewHosts().some((function(t){var n=t.replace(/\./g,"\\.");return new RegExp("^(.+\\.)*".concat(n,"$")).test(e)}))}function z(e,t,n,i){var r=new Date;r.setTime(r.getTime()+n);var o="expires=".concat(r.toUTCString()),s=i&&i.crossSite?"none":"strict",a=i&&i.domain?";domain=".concat(i.domain):"",u=i&&i.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(s).concat(a).concat(u)}function H(e){return function(e,t){var n=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")).exec(e);return n?n[1]:void 0}(document.cookie,e)}function K(e,t){z(e,"",0,t)}function X(e){return!!w&&w.has(e)}function $(e){return function(e,t){if(function(){if(void 0!==V)return V;try{var e=new URL("http://test/path");return V="http://test/path"===e.href}catch(e){V=!1}return V}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var n=document,i=n.createElement("a");if(void 0!==t){var r=(n=document.implementation.createHTMLDocument("")).createElement("base");r.href=t,n.head.appendChild(r),n.body.appendChild(i)}return i.href=e,i}(e,function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}(window.location)).href}var J="datadoghq.com",Z={logs:"logs",rum:"rum",sessionReplay:"session-replay"},ee={logs:"logs",rum:"rum",sessionReplay:"replay"};function te(e,t,n){var i=e.site,r=void 0===i?J:i,o=e.clientToken,s=r.split("."),a=s.pop(),u="".concat(Z[t],".browser-intake-").concat(s.join("-"),".").concat(a),c="https://".concat(u,"/api/v2/").concat(ee[t]),l=e.proxyUrl&&$(e.proxyUrl);return{build:function(){var e="ddsource=browser"+"&ddtags=".concat(encodeURIComponent(["sdk_version:".concat("4.15.0")].concat(n).join(",")))+"&dd-api-key=".concat(o)+"&dd-evp-origin-version=".concat(encodeURIComponent("4.15.0"))+"&dd-evp-origin=browser"+"&dd-request-id=".concat(O());"rum"===t&&(e+="&batch_time=".concat(k()));var i="".concat(c,"?").concat(e);return l?"".concat(l,"?ddforward=").concat(encodeURIComponent(i)):i},buildIntakeUrl:function(){return l?"".concat(l,"?ddforward"):c},endpointType:t}}var ne=/[^a-z0-9_:./-]/;function ie(e,t){var n=200-e.length-1;(t.length>n||ne.test(t))&&r.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var i=t.replace(/,/g,"_");return"".concat(e,":").concat(i)}function re(e){var t,n;if(e&&e.clientToken)if(void 0===e.sampleRate||E(e.sampleRate)){var i;if(void 0===e.telemetrySampleRate||E(e.telemetrySampleRate))return i=e.enableExperimentalFeatures,Array.isArray(i)&&(w||(w=new Set(i)),i.filter((function(e){return"string"==typeof e})).forEach((function(e){w.add(e)}))),p({beforeSend:e.beforeSend&&o(e.beforeSend,"beforeSend threw an error:"),cookieOptions:oe(e),sampleRate:null!==(t=e.sampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:X("lower-batch-size")?10240:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},function(e){var t=function(e){var t=e.env,n=e.service,i=e.version,r=e.datacenter,o=[];return t&&o.push(ie("env",t)),n&&o.push(ie("service",n)),i&&o.push(ie("version",i)),r&&o.push(ie("datacenter",r)),o}(e),n=function(e,t){return{logsEndpointBuilder:te(e,"logs",t),rumEndpointBuilder:te(e,"rum",t),sessionReplayEndpointBuilder:te(e,"sessionReplay",t)}}(e,t),i=h(n).map((function(e){return e.buildIntakeUrl()})),r=function(e,t,n){if(e.replica){var i=p({},e,{site:J,clientToken:e.replica.clientToken}),r={logsEndpointBuilder:te(i,"logs",n),rumEndpointBuilder:te(i,"rum",n)};return t.push.apply(t,h(r).map((function(e){return e.buildIntakeUrl()}))),p({applicationId:e.replica.applicationId},r)}}(e,i,t);return p({isIntakeUrl:function(e){return i.some((function(t){return 0===e.indexOf(t)}))},replica:r,site:e.site||J},n)}(e));r.error("Telemetry Sample Rate should be a number between 0 and 100")}else r.error("Sample Rate should be a number between 0 and 100");else r.error("Client Token is not configured, we will not send any data.")}function oe(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===j){for(var e="dd_site_test_".concat(O()),t=window.location.hostname.split("."),n=t.pop();t.length&&!H(e);)z(e,"test",1e3,{domain:n="".concat(t.pop(),".").concat(n)});K(e,{domain:n}),j=n}return j}()),t}var se="?";function ae(e){var t=[],n=fe(e,"stack");return n&&n.split("\n").forEach((function(e){var n=function(e){var t=ue.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),i=t[2]&&0===t[2].indexOf("eval"),r=ce.exec(t[2]);return i&&r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||se,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=le.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||se,line:+t[3],url:t[2]}}(e)||function(e){var t=de.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,i=Se.exec(t[3]);return n&&i&&(t[3]=i[1],t[4]=i[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||se,line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func=se),t.push(n))})),{message:fe(e,"message"),name:fe(e,"name"),stack:t}}var ue=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ce=/\((\S*)(?::(\d+))(?::(\d+))\)/,le=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,de=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Se=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function fe(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var Te="agent",Ne="console",pe="logger",Oe="network",Ae="source",ge="report";function ve(e){var t=me(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,i=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",r=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(i," @ ").concat(e.url).concat(r).concat(o)})),t}function me(e){return"".concat(e.name||"Error",": ").concat(e.message)}function Ce(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return S((function(){var n=ae(t);n.stack=n.stack.slice(2),e=ve(n)})),e}var Ie=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function Ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new Ie((function(){var t=e.map((function(e){return e.subscribe((function(e){return n.notify(e)}))}));return function(){return t.forEach((function(e){return e.unsubscribe()}))}}));return n}var he={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function _e(e,t,n,i,r){return n&&ve({name:e,message:t,stack:[{func:"?",url:n,line:i,column:r}]})}function Re(e,t,n){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every((function(e){return C(t,e)}))?"all"===e?t:(i=e,o=new Set,i.forEach((function(e){return o.add(e)})),I(o)):void r.error("".concat(n,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));var i,o}var be={debug:"debug",error:"error",info:"info",warn:"warn"},ye={console:"console",http:"http",silent:"silent"},Le=Object.keys(be),Me=function(){function e(e,t,n,i,r){void 0===n&&(n=ye.http),void 0===i&&(i=be.debug),void 0===r&&(r={}),this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=P(),this.contextManager.set(p({},r,t?{logger:{name:t}}:void 0))}return e.prototype.log=function(e,t,n){void 0===n&&(n=be.info),this.handleLogStrategy({message:e,context:M(t),status:n},this)},e.prototype.debug=function(e,t){this.log(e,t,be.debug)},e.prototype.info=function(e,t){this.log(e,t,be.info)},e.prototype.warn=function(e,t){this.log(e,t,be.warn)},e.prototype.error=function(e,t){var n={error:{origin:pe}};this.log(e,D(n,t),be.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([l],e.prototype,"log",null),e}();function De(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||H("datadog-synthetics-injects-rum"))}function Pe(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||H("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}var Ue,je=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],we=["ddog-gov.com"],Ve={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1};function xe(e,t){f(i.debug,e,t),ke(p({message:e,status:"debug"},t))}function Be(e){ke(p({status:"error"},function(e){if(e instanceof Error){var t=ae(e);return{error:{kind:t.name,stack:ve(Ge(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(v(e))}}(e)))}function ke(e){Ue&&Ve.sentEventCount<Ve.maxEventsPerPage&&(Ve.sentEventCount+=1,Ue(e))}function Ge(e){return e.stack=e.stack.filter((function(e){return!e.url||je.some((function(t){return n=t,e.url.slice(0,n.length)===n;var n}))})),e}var Fe=/[^\u0000-\u007F]/,qe=function(){function e(e,t,n,i,r,o){void 0===o&&(o=g),this.request=e,this.batchMessagesLimit=t,this.batchBytesLimit=n,this.messageBytesLimit=i,this.flushTimeout=r,this.beforeUnloadCallback=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(e){if(0!==this.bufferMessagesCount){var t=this.pushOnlyBuffer.concat(h(this.upsertBuffer)),n=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.request.send(t.join("\n"),n,e)}},e.prototype.computeBytesCount=function(e){return Fe.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),i=n.processedMessage,o=n.messageBytesCount;o>=this.messageBytesLimit?r.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(o)&&this.flush("batch_bytes_limit"),this.push(i,o,t),this.isFull()&&this.flush("batch_messages_limit"))},e.prototype.process=function(e){var t=v(e);return{processedMessage:t,messageBytesCount:this.computeBytesCount(t)}},e.prototype.push=function(e,t,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=t,this.bufferMessagesCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.computeBytesCount(t);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout(d((function(){e.flush("batch_flush_timeout"),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(b(window,"beforeunload",this.beforeUnloadCallback),b(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush("visibility_hidden")})),b(window,"beforeunload",(function(){return e.flush("before_unload")})))},e}(),Ye=function(){function e(e,t){this.endpointBuilder=e,this.bytesLimit=t}return e.prototype.send=function(e,t,n){var i=this.endpointBuilder.build();if(navigator.sendBeacon&&t<this.bytesLimit)try{if(navigator.sendBeacon(i,e))return;!function(e,t,n){if(X("failed-sendbeacon")){var i={reason:n,endpointType:e,version:"4.15.0",connection:navigator.connection?navigator.connection.effectiveType:void 0,onLine:navigator.onLine,size:t};"before_unload"===n||"visibility_hidden"===n?window.localStorage.setItem("".concat("datadog-browser-sdk-failed-send-beacon","-").concat(O()),JSON.stringify(i)):xe("failed sendBeacon",i)}}(this.endpointBuilder.endpointType,t,n)}catch(e){!function(e){Qe||(Qe=!0,Be(e))}(e)}var r=new XMLHttpRequest;r.open("POST",i,!0),r.send(e)},e}(),Qe=!1;function We(e,t,n){var i,r=o(t);function o(t){return new qe(new Ye(t,e.batchBytesLimit),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout)}return n&&(i=o(n)),{add:function(e,t){void 0===t&&(t=!0),r.add(e),i&&t&&i.add(e)}}}var ze,He=1/0,Ke=function(){function e(e){var t=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval((function(){return t.clearOldContexts()}),6e4)}return e.prototype.add=function(e,t){var n=this,i={context:e,startTime:t,endTime:He,remove:function(){var e=n.entries.indexOf(i);e>=0&&n.entries.splice(e,1)},close:function(e){i.endTime=e}};return this.entries.unshift(i),i},e.prototype.find=function(e){void 0===e&&(e=He);for(var t=0,n=this.entries;t<n.length;t++){var i=n[t];if(i.startTime<=e){if(e<=i.endTime)return i.context;break}}},e.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===He&&t.close(e)},e.prototype.findAll=function(e){return void 0===e&&(e=He),this.entries.filter((function(t){return t.startTime<=e&&e<=t.endTime})).map((function(e){return e.context}))},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var e=G()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),Xe=9e5,$e=/^([a-z]+)=([a-z0-9-]+)$/,Je="_dd_s",Ze=[];function et(e,t){var n;if(void 0===t&&(t=0),ze||(ze=e),e===ze)if(t>=100)it();else{var i,r=st();if(tt()){if(r.lock)return void nt(e,t);if(i=O(),r.lock=i,ot(r,e.options),(r=st()).lock!==i)return void nt(e,t)}var o=e.process(r);if(tt()&&(r=st()).lock!==i)nt(e,t);else{if(o&&rt(o,e.options),tt()&&(!o||!at(o))){if((r=st()).lock!==i)return void nt(e,t);delete r.lock,ot(r,e.options),o=r}null===(n=e.after)||void 0===n||n.call(e,o||r),it()}}else Ze.push(e)}function tt(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function nt(e,t){setTimeout(d((function(){et(e,t+1)})),10)}function it(){ze=void 0;var e=Ze.shift();e&&et(e)}function rt(e,t){at(e)?function(e){z(Je,"",0,e)}(t):(e.expire=String(B()+Xe),ot(e,t))}function ot(e,t){z(Je,function(e){return(t=e,Object.keys(t).map((function(e){return[e,t[e]]}))).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join("&");var t}(e),Xe,t)}function st(){var e=H(Je),t={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||$e.test(e))}(e)&&e.split("&").forEach((function(e){var n=$e.exec(e);if(null!==n){var i=n[1],r=n[2];t[i]=r}})),t}function at(e){return t=e,0===Object.keys(t).length;var t}var ut,ct=[];function lt(e,t,n){!function(e){var t=H(Je),n=H("_dd"),i=H("_dd_r"),r=H("_dd_l");if(!t){var o={};n&&(o.id=n),r&&/^[01]$/.test(r)&&(o.logs=r),i&&/^[012]$/.test(i)&&(o.rum=i),rt(o,e)}}(e);var i=function(e,t,n){var i,r=new Ie,o=new Ie,s=setInterval(d((function(){et({options:e,process:function(e){return l(e)?void 0:{}},after:u})})),1e3),a=l(i=st())?i:{};function u(e){return l(e)||(e={}),c()&&(function(e){return a.id!==e.id||a[t]!==e[t]}(e)?(a={},o.notify()):a=e),e}function c(){return void 0!==a[t]}function l(e){return(void 0===e.created||B()-Number(e.created)<144e5)&&(void 0===e.expire||B()<Number(e.expire))}return{expandOrRenewSession:N(d((function(){var i;et({options:e,process:function(e){var r=u(e);return i=function(e){var i=n(e[t]),r=i.trackingType,o=i.isTracked;return e[t]=r,o&&!e.id&&(e.id=O(),e.created=String(B())),o}(r),r},after:function(e){i&&!c()&&function(e){a=e,r.notify()}(e),a=e}})})),1e3).throttled,expandSession:function(){et({options:e,process:function(e){return c()?u(e):void 0}})},getSession:function(){return a},renewObservable:r,expireObservable:o,stop:function(){clearInterval(s)}}}(e,t,n);ct.push((function(){return i.stop()}));var r,o=new Ke(144e5);function s(){return{id:i.getSession().id,trackingType:i.getSession()[t]}}return ct.push((function(){return o.stop()})),i.renewObservable.subscribe((function(){o.add(s(),G())})),i.expireObservable.subscribe((function(){o.closeActive(G())})),i.expandOrRenewSession(),o.add(s(),[0,Y()][0]),r=y(window,["click","touchstart","keydown","scroll"],(function(){return i.expandOrRenewSession()}),{capture:!0,passive:!0}).stop,ct.push(r),function(e){var t=d((function(){"visible"===document.visibilityState&&i.expandSession()})),n=b(document,"visibilitychange",t).stop;ct.push(n);var r=setInterval(t,6e4);ct.push((function(){clearInterval(r)}))}(),{findActiveSession:function(e){return o.find(e)},renewObservable:i.renewObservable,expireObservable:i.expireObservable}}function dt(e){return A(e.sampleRate)?"1":"0"}var St=((ut={})[be.debug]=0,ut[be.info]=1,ut[be.warn]=2,ut[be.error]=3,ut);function ft(e,t,n){var i=n.getHandler(),r=Array.isArray(i)?i:[i];return St[e]>=St[n.getLevel()]&&C(r,t)}var Tt=!1;function Nt(e){var t,n=window;if(De()){var i=r(n.DD_RUM_SYNTHETICS);return i||Tt||(Tt=!0,xe("Logs sent before RUM is injected by the synthetics worker",{testId:(t=window._DATADOG_SYNTHETICS_PUBLIC_ID||H("datadog-synthetics-public-id"),"string"==typeof t?t:void 0),resultId:Pe()})),i}return r(n.DD_RUM);function r(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}var pt,Ot={};function At(e,t,n){var r,o=e.map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?me(ae(e)):v(e,void 0,2)}(e)})).join(" ");if(t===i.error){var s=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n];if(i instanceof Error)return i}}(e);r=s?ve(ae(s)):void 0,o="console error: ".concat(o)}return{api:t,message:o,stack:r,handlingStack:n}}var gt,vt,mt=((pt={})[i.log]=be.info,pt[i.debug]=be.debug,pt[i.info]=be.info,pt[i.warn]=be.warn,pt[i.error]=be.error,pt),Ct=((gt={})[he.cspViolation]=be.error,gt[he.intervention]=be.error,gt[he.deprecation]=be.warn,gt);function It(e,t,n){var i=e[t],r=n(i),o=function(){return r.apply(this,arguments)};return e[t]=o,{stop:function(){e[t]===o?e[t]=i:r=i}}}function Et(e,t,n){var i=n.before,r=n.after;return It(e,t,(function(e){return function(){var t,n=arguments;return i&&S(i,this,n),"function"==typeof e&&(t=e.apply(this,n)),r&&S(r,this,n),t}}))}var ht,_t=new WeakMap;function Rt(){var e;return vt||(e=new Ie((function(){var t=Et(XMLHttpRequest.prototype,"open",{before:bt}).stop,n=Et(XMLHttpRequest.prototype,"send",{before:function(){yt.call(this,e)}}).stop,i=Et(XMLHttpRequest.prototype,"abort",{before:Lt}).stop;return function(){t(),n(),i()}})),vt=e),vt}function bt(e,t){_t.set(this,{state:"open",method:e,url:$(t.toString())})}function yt(e){var t=this,n=_t.get(this);if(n){var i=n;i.state="start",i.startTime=G(),i.startClocks=F(),i.isAborted=!1,i.xhr=this;var r=!1,o=Et(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&s()}}).stop,s=d((function(){if(t.removeEventListener("loadend",s),o(),!r){r=!0;var a=n;a.state="complete",a.duration=q(i.startClocks.timeStamp,k()),a.status=t.status,e.notify(p({},a))}}));this.addEventListener("loadend",s),e.notify(i)}}function Lt(){var e=_t.get(this);e&&(e.isAborted=!0)}function Mt(e,t,n){var i=n&&n.method||"object"==typeof t&&t.method||"GET",r=$("object"==typeof t&&t.url||t),o={state:"start",init:n,input:t,method:i,startClocks:F(),url:r};return e.notify(o),o}function Dt(e,t,n){var i=function(t){var i=n;i.state="complete",i.duration=q(i.startClocks.timeStamp,k()),"stack"in t||t instanceof Error?(i.status=0,i.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,i.error=t,e.notify(i)):"status"in t&&(i.response=t,i.responseType=t.type,i.status=t.status,i.isAborted=!1,e.notify(i))};t.then(d(i),d(i))}function Pt(e,t){if(!e.forwardErrorsToLogs)return{stop:g};var n,i=Rt().subscribe((function(e){"complete"===e.state&&o("xhr",e)})),r=(ht||(n=new Ie((function(){if(window.fetch)return It(window,"fetch",(function(e){return function(t,i){var r,o=S(Mt,null,[n,t,i]);return o?(r=e.call(this,o.input,o.init),S(Dt,null,[n,r,o])):r=e.call(this,t,i),r}})).stop})),ht=n),ht).subscribe((function(e){"complete"===e.state&&o("fetch",e)}));function o(n,i){function r(e){t.notify(0,{rawLogsEvent:{message:"".concat(jt(n)," error ").concat(i.method," ").concat(i.url),date:i.startClocks.timeStamp,error:{origin:Oe,stack:e||"Failed to load"},http:{method:i.method,status_code:i.status,url:i.url},status:be.error,origin:Oe}})}e.isIntakeUrl(i.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(i)&&!function(e){return e.status>=500}(i)||("xhr"in i?function(e,t,n){"string"==typeof e.response?n(Ut(e.response,t)):n(e.response)}(i.xhr,e,r):i.response?function(e,t,n){window.TextDecoder?e.body?function(e,t,n){!function(e,t,n){var i=e.getReader(),r=[],o=0;function s(){var e;if(i.cancel().catch(g),1===r.length)e=r[0];else{e=new Uint8Array(o);var s=0;r.forEach((function(t){e.set(t,s),s+=t.length}))}n(void 0,e.slice(0,t),e.length>t)}!function e(){i.read().then(d((function(n){n.done?s():(r.push(n.value),(o+=n.value.length)>t?s():e())})),d((function(e){return n(e)})))}()}(e,t,(function(e,t,i){if(e)n(e);else{var r=(new TextDecoder).decode(t);i&&(r+="..."),n(void 0,r)}}))}(e.clone().body,t.requestErrorResponseLengthLimit,(function(e,t){n(e?"Unable to retrieve response: ".concat(e):t)})):n():e.clone().text().then(d((function(e){return n(Ut(e,t))})),d((function(e){return n("Unable to retrieve response: ".concat(e))})))}(i.response,e,r):i.error&&function(e,t,n){n(Ut(ve(ae(e)),t))}(i.error,e,r))}return{stop:function(){i.unsubscribe(),r.unsubscribe()}}}function Ut(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function jt(e){return"xhr"===e?"XHR":"Fetch"}var wt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function Vt(e){return t=function(t,n){var i=function(e,t,n,i){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:ve(e),handlingStack:i,type:e.name}:{message:"".concat("Uncaught"," ").concat(v(t)),stack:"No stack, consider using an instance of Error",handlingStack:i,type:e&&e.name}}(t,n),r=i.stack,o=i.message,s=i.type;e.notify({message:o,stack:r,type:s,source:Ae,startClocks:F(),originalError:n,handling:"unhandled"})},n=function(e){return Et(window,"onerror",{before:function(t,n,i,r,o){var s;if(o)s=ae(o),e(s,o);else{var a,u={url:n,column:r,line:i},c=t;if("[object String]"==={}.toString.call(t)){var l=wt.exec(c);l&&(a=l[1],c=l[2])}e(s={name:a,message:"string"==typeof c?c:void 0,stack:[u]},t)}}})}(t).stop,i=function(e){return Et(window,"onunhandledrejection",{before:function(t){var n=t.reason||"Empty reason",i=ae(n);e(i,n)}})}(t).stop,{stop:function(){n(),i()}};var t,n,i}var xt,Bt,kt,Gt=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},e}(),Ft=function(e){var t,n,o=!1,a=P(),u={},l=function(){},f=new x,N=function(e,t,n,i){void 0===n&&(n=M(E())),void 0===i&&(i=k()),f.add((function(){return N(e,t,n,i)}))},v=function(){},m=new Me((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N.apply(void 0,e)}));function E(){return{view:{referrer:document.referrer,url:window.location.href},context:a.get()}}return t={logger:m,init:d((function(e){var t;if(W()&&(e=function(e){return p({},e,{clientToken:"empty"})}(e)),function(e){return!o||(e.silentMultipleInit||r.error("DD_LOGS is already initialized."),!1)}(e)){var n=function(e){var t=re(e),n=Re(e.forwardConsoleLogs,h(i),"Forward Console Logs"),r=Re(e.forwardReports,h(he),"Forward Reports");if(t&&n&&r)return e.forwardErrorsToLogs&&!C(n,i.error)&&n.push(i.error),p({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:32768},t)}(e);n&&(t=function(e,t,n){var o=new Gt,a=function(e){var t,n=function(e){var t,n=new Ie;return Ve.telemetryEnabled=A(e.telemetrySampleRate),Ue=function(i){!C(we,e.site)&&Ve.telemetryEnabled&&n.notify(function(e){return D({type:"telemetry",date:k(),service:"browser-sdk",version:"4.15.0",source:"browser",_dd:{format_version:2},telemetry:e,experimental_features:I(w||new Set)},void 0!==t?t():{})}(i))},s=Be,p(Ve,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){t=e},observable:n}}(e);if(W()){var i=Q();n.observable.subscribe((function(e){return i.send("internal_telemetry",e)}))}else{var r=We(e,e.rumEndpointBuilder,null===(t=e.replica)||void 0===t?void 0:t.rumEndpointBuilder);n.observable.subscribe((function(t){return r.add(t,function(e){return"datad0g.com"===e.site}(e))}))}return n}(e);a.setContextProvider((function(){var e,t,n,i,r,o;return{application:{id:null===(e=Nt())||void 0===e?void 0:e.application_id},session:{id:null===(t=l.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(i=null===(n=Nt())||void 0===n?void 0:n.view)||void 0===i?void 0:i.id},action:{id:null===(o=null===(r=Nt())||void 0===r?void 0:r.user_action)||void 0===o?void 0:o.id}}})),Pt(e,o),function(e,t){if(!e.forwardErrorsToLogs)return{stop:g};var n=new Ie;Vt(n).stop,n.subscribe((function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{kind:e.type,origin:Ae,stack:e.stack},origin:Ae,status:be.error}})}))}(e,o),function(e,t){var n,r;(n=e.forwardConsoleLogs,r=n.map((function(e){return Ot[e]||(Ot[e]=function(e){var t=new Ie((function(){var n=console[e];return console[e]=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];n.apply(console,i);var o=Ce();S((function(){t.notify(At(i,e,o))}))},function(){console[e]=n}}));return t}(e)),Ot[e]})),Ee.apply(void 0,r)).subscribe((function(e){t.notify(0,{rawLogsEvent:{date:k(),message:e.message,origin:Ne,error:e.api===i.error?{origin:Ne,stack:e.stack}:void 0,status:mt[e.api]}})}))}(e,o),function(e,t){(function(e){var t,n=[];C(e,he.cspViolation)&&n.push(t=new Ie((function(){var e=d((function(e){t.notify(function(e){var t=he.cspViolation,n="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:he.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(n),stack:_e(e.effectiveDirective,"".concat(n,' of the policy "').concat(R(e.originalPolicy,100,"..."),'"'),e.sourceFile,e.lineNumber,e.columnNumber)}}(e))}));return b(document,"securitypolicyviolation",e).stop})));var i=e.filter((function(e){return e!==he.cspViolation}));return i.length&&n.push(function(e){var t=new Ie((function(){if(window.ReportingObserver){var n=d((function(e){return e.forEach((function(e){t.notify(function(e){var t=e.type,n=e.body;return{type:t,subtype:n.id,message:"".concat(t,": ").concat(n.message),stack:_e(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(e))}))})),i=new window.ReportingObserver(n,{types:e,buffered:!0});return i.observe(),function(){i.disconnect()}}}));return t}(i)),Ee.apply(void 0,n)})(e.forwardReports).subscribe((function(e){var n,i=e.message,r=Ct[e.type];r===be.error?n={kind:e.subtype,origin:ge,stack:e.stack}:e.stack&&(i+=" Found in ".concat(function(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}(e.stack))),t.notify(0,{rawLogsEvent:{date:k(),message:i,origin:ge,error:n,status:r}})}))}(e,o);var u,c=function(e){return{handleLog:function(t,n,i,o){var s=t.context;ft(t.status,ye.console,n)&&r(t.status,t.message,D(n.getContext(),s)),e.notify(0,{rawLogsEvent:{date:o||k(),message:t.message,status:t.status,origin:pe},messageContext:s,savedCommonContext:i,logger:n})}}}(o).handleLog,l=!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(O()),n="test";z(t,n,T,e);var i=H(t)===n;return K(t,e),i}catch(e){return r.error(e),!1}}(e.cookieOptions)||W()||De()?function(e){var t="1"===dt(e)?{}:void 0;return{findTrackedSession:function(){return t}}}(e):function(e){var t=lt(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return"0"===e||"1"===e}(t)?t:dt(e);return{trackingType:n,isTracked:"1"===n}}(e,t)}));return{findTrackedSession:function(e){var n=t.findActiveSession(e);return n&&"1"===n.trackingType?{id:n.id}:void 0}}}(e);return function(e,t,n,i,r){var o=Le.concat(["custom"]),s={};o.forEach((function(e){var i,r,o,a,u;s[e]=(i=e,r=t.eventRateLimiterThreshold,o=function(e){return function(e,t){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:Te},origin:Te,status:be.error}})}(e,n)},a=0,u=!1,{isLimitReached:function(){if(0===a&&setTimeout((function(){a=0}),6e4),(a+=1)<=r||u)return u=!1,!1;if(a===r+1){u=!0;try{o({message:"Reached max number of ".concat(i,"s by minute: ").concat(r),source:Te,startClocks:F()})}finally{u=!1}}return!0}})})),n.subscribe(0,(function(o){var a,u,c,l=o.rawLogsEvent,d=o.messageContext,S=void 0===d?void 0:d,f=o.savedCommonContext,T=void 0===f?void 0:f,N=o.logger,p=void 0===N?r:N,O=l.date-Y(),A=e.findTrackedSession(O);if(A){var g=T||i(),v=D({service:t.service,session_id:A.id,view:g.view},g.context,Nt(O),l,p.getContext(),S);!ft(l.status,ye.http,p)||!1===(null===(a=t.beforeSend)||void 0===a?void 0:a.call(t,v))||(null===(u=v.error)||void 0===u?void 0:u.origin)!==Te&&(null!==(c=s[v.status])&&void 0!==c?c:s.custom).isLimitReached()||n.notify(1,v)}}))}(l,e,o,t,n),W()?function(e){var t=Q();e.subscribe(1,(function(e){t.send("log",e)}))}(o):function(e,t){var n,i=We(e,e.logsEndpointBuilder,null===(n=e.replica)||void 0===n?void 0:n.logsEndpointBuilder);t.subscribe(1,(function(e){i.add(e)}))}(e,o),{handleLog:c,getInternalContext:(u=l,{get:function(e){var t=u.findTrackedSession(e);if(t)return{session_id:t.id}}}).get}}(n,E,m),N=t.handleLog,l=t.getInternalContext,v=function(){return M(e)},f.drain(),o=!0)}})),getLoggerGlobalContext:d(a.get),setLoggerGlobalContext:d(a.set),addLoggerGlobalContext:d(a.add),removeLoggerGlobalContext:d(a.remove),createLogger:d((function(e,t){return void 0===t&&(t={}),u[e]=new Me((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N.apply(void 0,e)}),e,t.handler,t.level,t.context),u[e]})),getLogger:d((function(e){return u[e]})),getInitConfiguration:d((function(){return v()})),getInternalContext:d((function(e){return l(e)}))},n=p({version:"4.15.0",onReady:function(e){e()}},t),Object.defineProperty(n,"_setDebug",{get:function(){return c},enumerable:!1}),n}();xt=_(),Bt=Ft,kt=xt["DD_LOGS"],xt.DD_LOGS=Bt,kt&&kt.q&&kt.q.forEach((function(e){return o(e,"onReady callback threw an error:")()}))},6619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.API_1484_11=void 0;var i=a(n(383)),r=a(n(5529)),o=a(n(1086)),s=a(n(8238));function a(e){return e&&e.__esModule?e:{default:e}}var u="true",c="false",l={NO_ERRORS:"0",GENERAL_EXCEPTION:"101",GENERAL_INITIALIZATION_FAILURE:"102",ALREADY_INITIALIZED_ERROR:"103",INSTANCE_TERMINATED_ERROR:"104",GENERAL_TERMINATION_FAILURE:"111",TERMINATION_BEFORE_INITIALIZATION:"112",TERMINATION_AFTER_TERMINATION:"113",RETRIEVE_BEFORE_INITIALIZATION:"122",RETRIEVE_AFTER_TERMINATION:"123",STORE_BEFORE_INITIALIZATION:"132",STORE_AFTER_TERMINATION:"133",COMMIT_BEFORE_INITIALIZATION:"142",COMMIT_AFTER_TERMINATION:"143",GENERAL_ARGUMENT_ERROR:"201",NO_CHILDREN_ERROR:"202",NOT_ARRAY_ERROR:"203",GENERAL_GET_FAILURE:"301",GENERAL_SET_FAILURE:"351",GENERAL_COMMIT_FAILURE:"391",UNDEFINED_MODEL_ELEMENT:"401",UNIMPLEMENTED_MODEL_ELEMENT:"402",VALUE_NOT_INITIALIZED:"403",READ_ONLY_ERROR:"404",WRITE_ONLY_ERROR:"405",TYPE_MISMATCH:"406",VALUE_OUT_OF_RANGE:"407",DEPENDENCY_NOT_ESTABLISHED:"408"},d={0:"No errors",101:"General exception",102:"General Initialization Failure",103:"Already initialized",104:"Content instance terminated",111:"General Termination Failure",112:"Termination Before Initialization",113:"Termination After Termination",122:"Retrieve Data Before Initialization",123:"Retrieve Data After Termination",132:"Store Data Before Initialization",133:"Store Data After Termination",142:"Commit Before Initialization",143:"Commit After Termination",201:"General argument error",202:"Element cannot have children",203:"Element not an array - cannot have count",301:"General Get Failure",351:"General Set Failure",391:"General Commit Failure",401:"Undefined Data Model Element",402:"Unimplemented Data Model Element",403:"Data Model Element Value Not Initialized",404:"Data Model Element Is Read Only",405:"Data Model Element Is Write Only",406:"Data Model Element Type Mismatch",407:"Data Model Element Value Out Of Range",408:"Data Model Dependency Not Established"},S=!1,f=!1,T=l.NO_ERRORS,N=d[l.NO_ERRORS];function p(){return S}function O(){return f}function A(e){T=e}function g(e){N=e}function v(){A(l.NO_ERRORS),g("")}function m(e){return i.default.logger.debug("[API] Commit, param: ".concat(e)),v(),p()||O()?O()?(A(l.COMMIT_AFTER_TERMINATION),g("SCO attempted to commit data to persistent storage after the communication session has successfully terminated."),c):""!==e?(A(l.GENERAL_ARGUMENT_ERROR),g("Commit expects an empty string as an argument."),c):(s.default.commit(),u):(A(l.COMMIT_BEFORE_INITIALIZATION),g("SCO attempted to commit data to persistent storage prior to a successful communication session initialization."),c)}var C={initializeApi:function(){S=!1,f=!1,T=l.NO_ERRORS,N=d[l.NO_ERRORS]},setLastError:A,setLastErrorDiagnostic:g,clone:function(){return{initialized:S,terminated:f,lastError:T,lastErrorDiagnostic:N}},restore:function(e){S=e.initialized,f=e.terminated,T=e.lastError,N=e.lastErrorDiagnostic},ERRORS:l,TRUE:u,FALSE:c};t.default=C;var I={version:"1.0",Initialize:function(e){return i.default.logger.debug("[API] Initialize, param: ".concat(e)),v(),p()?(A(l.ALREADY_INITIALIZED_ERROR),g("SCO attempted to initialize the communication session after the communication session has already been initialized."),c):O()?(A(l.INSTANCE_TERMINATED_ERROR),g("SCO attempted to initialize the communication session after the communication session has already been terminated."),c):""!==e?(A(l.GENERAL_ARGUMENT_ERROR),g("Initialize expects an empty string as an argument."),c):(s.default.initialize(),S=!0,u)},Terminate:function(e){if(i.default.logger.debug("[API] Terminate, param: ".concat(e)),v(),!p())return A(l.TERMINATION_BEFORE_INITIALIZATION),g("SCO attempted to terminate the communication session before the communication session was ever initialized."),c;if(O())return A(l.TERMINATION_AFTER_TERMINATION),g("SCO attempted to terminate the communication session after the communication session has already been terminated."),c;if(""!==e)return A(l.GENERAL_ARGUMENT_ERROR),g("Terminate expects an empty string as an argument."),c;var t=o.default.getCurrentActivity().runTimeData.nav_request;return m("")!==u?(A(l.GENERAL_TERMINATION_FAILURE),g("Failed to Terminate because Commit returned an error"),c):(s.default.terminate(),f=!0,r.default.processNavigationRequest(t),u)},GetValue:function(e){if(i.default.logger.debug("[API] GetValue - param: ".concat(e)),v(),!p()&&!O())return A(l.RETRIEVE_BEFORE_INITIALIZATION),g("SCO attempted to retrieve data prior to a successful communication session initialization."),"";if(O())return A(l.RETRIEVE_AFTER_TERMINATION),g("SCO attempted to retrieve data after the communication session has successfully terminated."),"";if(null==e)return A(l.UNDEFINED_MODEL_ELEMENT),g("The data model element is not defined."),"";if(""===e)return A(l.GENERAL_GET_FAILURE),g("The data model element was not specified."),"";var t=s.default.getValue(e);return i.default.logger.debug("[API] get value - value: ".concat(t)),t},SetValue:function(e,t){return i.default.logger.debug("[API] SetValue - param: ".concat(e,", value: ").concat(t)),v(),p()||O()?O()?(A(l.STORE_AFTER_TERMINATION),g("SCO attempted to store data after the communication session has successfully terminated."),c):null==e?(A(l.UNDEFINED_MODEL_ELEMENT),g("The data model element is not defined."),c):null==t?(A(l.GENERAL_SET_FAILURE),g("The data model element value is null/undefined"),c):""===e?(A(l.GENERAL_SET_FAILURE),g("The data model element was not specified."),c):s.default.setValue(e,t):(A(l.STORE_BEFORE_INITIALIZATION),g("SCO attempted to store data prior to a successful communication session initialization."),c)},Commit:m,GetLastError:function(){return i.default.logger.debug("[API] GetLastError, error: ".concat(T)),T},GetErrorString:function(e){var t=d[e]||"";return i.default.logger.debug("[API] GetErrorString, errorCode: ".concat(e,", errorString: ").concat(t)),t},GetDiagnostic:function(){return i.default.logger.debug("[API] GetDiagnostic, lastErrorDiagnostic: ".concat(N)),N}};t.API_1484_11=I},5349:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CONSTANTS=void 0;var n={NAVIGATION_REQUESTS:{START:"start",RESUME_ALL:"resumeAll",CONTINUE:"continue",PREVIOUS:"previous",FORWARD:"forward",BACKWARD:"backward",CHOICE:"choice",EXIT:"exit",EXIT_ALL:"exitAll",SUSPEND_ALL:"suspendAll",ABANDON:"abandon",ABANDON_ALL:"abandonAll"},SEQUENCING_REQUESTS:{START:"start",CONTINUE:"continue",PREVIOUS:"previous",CHOICE:"choice",EXIT:"exit",EXIT_ALL:"exitAll",RETRY:"retry",RESUME_ALL:"resumeAll"},TERMINATION_REQUESTS:{EXIT:"exit",EXIT_ALL:"exitAll",SUSPEND_ALL:"suspendAll",ABANDON:"abandon",ABANDON_ALL:"abandonAll",EXIT_PARENT:"exitParent",RETRY:"retry"},VALIDITY:{VALID:"VALID",NOT_VALID:"NOT_VALID"},DIRECTIONS:{UNDEFINED:"UNDEFINED",FORWARD:"FORWARD",BACKWARD:"BACKWARD"},NAMESPACES:{ADLCP_NAMESPACE:"http://www.adlnet.org/xsd/adlcp_v1p3",ADLSEQ_NAMESPACE:"http://www.adlnet.org/xsd/adlseq_v1p3",ADLNAV_NAMESPACE:"http://www.adlnet.org/xsd/adlnav_v1p3",IMSSS_NAMESPACE:"http://www.imsglobal.org/xsd/imsss"},SEQUENCING_MODES:{CHOICE:"choice",CHOICE_EXIT:"choiceExit",FLOW:"flow",FORWARD_ONLY:"forwardOnly",USE_CURRENT_ATT_OBJ_PROGRESS_INFO:"useCurrentAttObjProgressInfo",USE_CURRENT_ATT_PROGRESS_INFO:"useCurrentAttProgressInfo"},SEQUENCING_RULES:{PRE_CONDITION:"preConditionRules",POST_CONDITION:"postConditionRules",EXIT_CONDITION:"exitConditionRules"},PRE_CONDITION_RULES_ACTIONS:{SKIP:"skip",DISABLED:"disabled",HIDDEN_FROM_CHOICE:"hiddenFromChoice",STOP_FORWARD_TRAVERSAL:"stopForwardTraversal"},POST_CONDITION_RULES_ACTIONS:{EXIT_PARENT:"exitParent",EXIT_ALL:"exitAll",RETRY:"retry",RETRY_ALL:"retryAll",CONTINUE:"continue",PREVIOUS:"previous"},EXIT_CONDITION_RULES_ACTIONS:{EXIT:"exit"},CONDITION_COMBINATIONS:{ANY:"any",ALL:"all"},CONDITIONS:{SATISFIED:"satisfied",OBJECTIVE_STATUS_KNOWN:"objectiveStatusKnown",OBJECTIVE_MEASURE_KNOWN:"objectiveMeasureKnown",OBJECTIVE_MEASURE_GREATER_THAN:"objectiveMeasureGreaterThan",OBJECTIVE_MEASURE_LESS_THAN:"objectiveMeasureLessThan",COMPLETED:"completed",ACTIVITY_PROGRESS_KNOWN:"activityProgressKnown",ATTEMPT_LIMIT_EXCEEDED:"attemptLimitExceeded",ATTEMPTED:"attempted",TIME_LIMIT_EXCEEDED:"timeLimitExceeded",OUTSIDE_AVAILABLE_TIME_RANGE:"outsideAvailableTimeRange",ALWAYS:"always"},ROLLUP_CHILD_ACTIVITY_SET:{ALL:"all",ANY:"any",NONE:"none",AT_LEAST_COUNT:"atLeastCount",AT_LEAST_PERCENT:"atLeastPercent"},ROLLUP_RULES_ACTIONS:{SATISFIED:"satisfied",NOT_SATISFIED:"notSatisfied",COMPLETED:"completed",INCOMPLETE:"incomplete"},ROLLUP_CONSIDERATION_CONDITIONS:{ALWAYS:"always",IF_ATTEMPTED:"ifAttempted",IF_NOT_SKIPPED:"ifNotSkipped",IF_NOT_SUSPENDED:"ifNotSuspended"},ROLLUP_CONTROLS:{},OPERATORS:{NO_OP:"noOp",NOT:"not"},DELIVERY_CONTROLS:{TRACKED:"tracked",COMPLETION_SET_BY_CONTENT:"completionSetByContent",OBJECTIVE_SET_BY_CONTENT:"objectiveSetByContent"},RANDOMIZATION_CONTROLS:{RANDOMIZATION_TIMING:"randomizationTiming",SELECT_COUNT:"selectCount",REORDER_CHILDREN:"reorderChildren",SELECTION_TIMING:"selectionTiming"},TIMING:{NEVER:"never",ONCE:"once",ON_EACH_NEW_ATTEMPT:"onEachNewAttempt"},LIMIT_CONDITIONS:{ATTEMPT_LIMIT:"attemptLimit",ATTEMPT_ABSOLUTE_DURATION_LIMIT:"attemptAbsoluteDurationLimit"},COURSE_STATUSES:{UNKNOWN:"unknown",NOT_ATTEMPTED:"not attempted",COMPLETED:"completed",INCOMPLETE:"incomplete",PASSED:"passed",FAILED:"failed"},CMI:{CREDIT:"credit",ENTRY:{AB_INITIO:"ab-initio",RESUME:"resume",EMPTY:""},EXIT:{TIMEOUT:"time-out",SUSPEND:"suspend",LOGOUT:"logout",NORMAL:"normal",EMPTY:""}},SCORM:{TRUE:!0,FALSE:!1,UNKNOWN:"unknown",PASSED:"passed",FAILED:"failed"},PROCESS_CODES:{NO_ERRORS:"NO_ERRORS",EXIT_SEQUENCING:"EXIT_SEQUENCING",NO_NEXT_ACTIVITY:"NO_NEXT_ACTIVITY",NO_PREVIOUS_ACTIVITY:"NO_PREVIOUS_ACTIVITY",INVALID_NAVIGATION_REQUEST:"INVALID_NAVIGATION_REQUEST",INVALID_CONTROL_MODE:"INVALID_CONTROL_MODE",CURRENT_ACTIVITY_NOT_TERMINATED:"CURRENT_ACTIVITY_NOT_TERMINATED",NO_ACTIVITY_TO_DELIVER:"NO_ACTIVITY_TO_DELIVER",SEQUENCING_SESSION_NOT_STARTED:"SEQUENCING_SESSION_NOT_STARTED",SEQUENCING_SESSION_STARTED:"SEQUENCING_SESSION_STARTED",NO_SUSPENDED_ACTIVITY:"NO_SUSPENDED_ACTIVITY",CURRENT_ACTIVITY_TERMINATED:"CURRENT_ACTIVITY_TERMINATED",ACTIVITY_NOT_FOUND:"ACTIVITY_NOT_FOUND",NO_TARGET_ACTIVITY:"NO_TARGET_ACTIVITY",NOTHING_TO_SUSPEND:"NOTHING_TO_SUSPEND",NOTHING_TO_ABANDON:"NOTHING_TO_ABANDON",LIMIT_CONDITIONS_VIOLATION:"LIMIT_CONDITIONS_VIOLATION",CURRENT_ACTIVITY_SUSPENDED:"CURRENT_ACTIVITY_SUSPENDED",ACTIVITY_HIDDEN_FOR_CHOICE:"ACTIVITY_HIDDEN_FOR_CHOICE",NO_ACTIVITIES_TO_CONSIDER:"NO_ACTIVITIES_TO_CONSIDER",NO_PARENT_FOR_ROOT:"NO_PARENT_FOR_ROOT",UNDEFINED_TERMINATION_REQUEST:"UNDEFINED_TERMINATION_REQUEST",NO_AVAILABLE_CHILDREN:"NO_AVAILABLE_CHILDREN",FORWARD_ONLY_VIOLATION:"FORWARD_ONLY_VIOLATION",UNABLE_TO_ACTIVATE_TARGET:"UNABLE_TO_ACTIVATE_TARGET",CHOICE_EXIT_VIOLATION:"CHOICE_EXIT_VIOLATION",CONSTRAINED_CHOICE_VIOLATION:"CONSTRAINED_CHOICE_VIOLATION",FLOW_VIOLATION:"FLOW_VIOLATION",NO_LEAF_TO_DELIVER:"NO_LEAF_TO_DELIVER"},MODE:{EXTERNAL:"external",DEBUG:"debug",DEBUG_LOCAL:"debug_local",TEST:"test"},INTERACTION_TYPE:{TRUE_FALSE:"true-false",CHOICE:"choice",FILL_IN:"fill-in",MATCHING:"matching",PERFORMANCE:"performance",SEQUENCING:"sequencing",LIKERT:"likert",NUMERIC:"numeric",OTHER:"other",LONG_FILL_IN:"long-fill-in"}};t.CONSTANTS=n;var i=n;t.default=i},2430:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,o=n(5349),s=(i=n(2500))&&i.__esModule?i:{default:i},a={},u={getCourseStateData:function(){return s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage["suspend-data"]:r},setCourseStateData:function(e){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage["suspend-data"]=e:r=e},getBookmark:function(){if(s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL)return window.localStorage.bookmark?window.localStorage.bookmark:""},setBookmark:function(e){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL&&(window.localStorage.bookmark=e)},getSystemGlobalObjectiveById:function(e){if(s.default.getMode()!==o.CONSTANTS.MODE.DEBUG_LOCAL)return a[e];var t=window.localStorage[e];return t?JSON.parse(t):void 0},addSystemGlobalObjective:function(e,t){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage[e]=JSON.stringify(t):a[e]=t},cleanCourseStateData:function(){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage["suspend-data"]="":r=void 0}};t.default=u},1119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(383))&&i.__esModule?i:{default:i},o=function(){var e=/P(\d+)Y/,t=/P\d*?Y?(\d+)M/,n=/(\d+)D/,i=/(\d+)H/,o=/T\d*?H?([0-9]+)M/,s=/(\d+)(\.\d+)?S/,a=/\.(\d+)S/;function u(r){var u=1970,c=0,l=1,d=0,S=0,f=0,T=0;if(e.test(r)&&(u+=+r.match(e)[1]),t.test(r)&&(c=+r.match(t)[1]),n.test(r)&&(l+=+r.match(n)[1]),i.test(r)&&(d=+r.match(i)[1]),o.test(r)&&(S=+r.match(o)[1]),s.test(r)&&(f=+r.match(s)[1]),a.test(r)){var N=r.match(a)[1];T=1===N.length?100*+N:10*+N}var p=new Date(u,c,l,d,S,f,T);return new Date(p.getTime()-6e4*p.getTimezoneOffset()).getTime()}function c(e){var t,n,i=new Date(e),r=i.getUTCFullYear()-1970,o=i.getUTCMonth(),s=i.getUTCDate()-1,a=i.getUTCHours(),u=i.getUTCMinutes(),c=i.getUTCSeconds(),l=i.getUTCMilliseconds(),d="";return r&&(d+="".concat(r,"Y")),o&&(d+="".concat(o,"M")),s&&(d+="".concat(s,"D")),0!==l&&(l<10?n=0:l<100?n="0".concat(Math.trunc(l/10)):(n=Math.trunc(l/10))%10==0&&(n/=10),0===n||isNaN(n)||(t=".".concat(n))),(a||u||c||t)&&(d+="T"),a&&(d+="".concat(a,"H")),u&&(d+="".concat(u,"M")),t?d+="".concat(c).concat(t,"S"):c&&(d+="".concat(c,"S")),""===d&&(d="T0S"),"P".concat(d)}return{ZERO_DURATION:"PT0H0M0S",validate:function(e){var t=/^P(?:\d+Y|Y)?(?:\d+M|M)?(?:\d+D|D)?(?:T(?:\d+H|H)?(?:\d+M|M)?(?:\d+(?:\.\d{1,2})?S|S)?)?$/.test(e)&&/[^T]$/.test(e);return t||r.default.logger.warn("Non valid duration format: ".concat(e)),t},validateTime:function(e){var t=/^((19[7-9]\d)|(20(([0-2]\d)|(3[0-8]))))(-((0[1-9])|(1[0-2]))(-((0[1-9])|([1-2]\d)|(3[0-1])))?)?(T(([0-1]\d)|(2[0-3]))(:[0-5]\d(:[0-5]\d(\.\d(\d)?([+-](([0-1]\d)|(2[0-3]))(:[0-5]\d)?|Z)?)?)?)?)?$/.test(e);return t||r.default.logger.warn("Non valid time format: ".concat(e)),t},normalize:function(e){return c(u(e))},toDuration:c,add:function(e,t){return c(u(e)+u(t))}}}();t.default=o},4222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=S(n(383)),r=S(n(1645)),o=S(n(3331)),s=S(n(1086)),a=n(5349),u=S(n(6997)),c=S(n(6846)),l=S(n(9076)),d=S(n(7904));function S(e){return e&&e.__esModule?e:{default:e}}var f=null,T=null,N={};function p(e,t){var n=e.ItemIdentifier,i=e.Children;N[n]=e;var o,s,a=new r.default(n,t);if(i.length>0){a.leaf=!1;for(var u=0,c=i.length;u<c;u++)a.children.push(p(i[u],a))}return a.resourceAddress=(o=e.Href,s=a.getParameters(),!/#/.test(o)&&s&&(o+=/\?/.test(o)?"&":"?".concat(s)),o),a.resourceScormType=e.ScormType,a.identifierRef=e.ResourceIdentifier,a.href=e.Href?"".concat(e.Href,".html"):"",a.guid=e.Href,a}function O(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""}function A(e){return e?e.replace(/\s+/g,""):""}var g={parseManifest:function(e){return i.default.logger.debug("Parsing manifest...."),f=e.LearningObject[0],i.default.logger.debug("Parsing activities..."),T=p(f,null),i.default.logger.debug("Activities parsed."),i.default.logger.debug("Manifest parsed."),{root:T}},parseSequencingControlModes:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.SEQUENCING_MODES.CHOICE]=t.ControlChoice,n[a.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT]=t.ControlChoiceExit,n[a.CONSTANTS.SEQUENCING_MODES.FLOW]=t.ControlFlow,n[a.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY]=t.ControlForwardOnly,n[a.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO]=t.UseCurrentAttemptObjectiveInformation,n[a.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO]=t.UseCurrentAttemptProgressInformation,n},parseSequencingRules:function(e){var t=N[e].SequencingData,n={};function i(e){for(var t=[],n=0,i=e.length;n<i;n++){for(var r=e[n],o=[],s=O(r.ConditionCombination),a=O(A(r.Action)),l=0,d=r.RuleConditions.length;l<d;l++){var S=r.RuleConditions[l],f=S.ReferencedObjective,T=S.MeasureThreshold,N=O(S.Operator),p=O(A(S.Condition));o.push(new c.default(p,N,T,f))}t.push(new u.default(o,s,a))}return t}return n[a.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=i(t.PreConditionSequencingRules),n[a.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=i(t.PostConditionSequencingRules),n[a.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=i(t.ExitSequencingRules),n},parseRollupRules:function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=[],o=void 0,s=void 0,u=void 0;switch(i.ChildActivitySet){case"None":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.NONE;break;case"All":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL;break;case"Any":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ANY;break;case"At Least Count":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_COUNT;break;case"At Least Percent":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_PERCENT}for(var c=0;c<i.Conditions.length;c++){var S=i.Conditions[c],f=void 0,T=void 0;switch(S.Operator){case"No Op":f=a.CONSTANTS.OPERATORS.NO_OP;break;case"Not":f=a.CONSTANTS.OPERATORS.NOT}switch(S.Condition){case"Objective Status Known":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_STATUS_KNOWN;break;case"Objective Measure Greater Than":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_GREATER_THAN;break;case"Objective Measure Known":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_KNOWN;break;case"Objective Measure Less Than":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_LESS_THAN;break;case"Always":T=a.CONSTANTS.CONDITIONS.ALWAYS;break;case"Satisfied":T=a.CONSTANTS.CONDITIONS.SATISFIED;break;case"Completed":T=a.CONSTANTS.CONDITIONS.COMPLETED;break;case"Activity Progress Known":T=a.CONSTANTS.CONDITIONS.ACTIVITY_PROGRESS_KNOWN;break;case"Attempt Limit Exceeded":T=a.CONSTANTS.CONDITIONS.ATTEMPT_LIMIT_EXCEEDED;break;case"Time Limit Exceeded":T=a.CONSTANTS.CONDITIONS.TIME_LIMIT_EXCEEDED;break;case"Outside Available Time Range":T=a.CONSTANTS.CONDITIONS.OUTSIDE_AVAILABLE_TIME_RANGE;break;case"Attempted":T=a.CONSTANTS.CONDITIONS.ATTEMPTED}r.push(new d.default(f,T))}switch(i.ConditionCombination){case"All":u=a.CONSTANTS.CONDITION_COMBINATIONS.ALL;break;case"Any":u=a.CONSTANTS.CONDITION_COMBINATIONS.ANY}switch(i.Action){case"Not Satisfied":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED;break;case"Satisfied":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED;break;case"Completed":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED;break;case"Incomplete":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE}t.push(new l.default(s,i.MinimumCount,i.MinimumPercent,r,u,o))}return t}(N[e].SequencingData.RollupRules)},parseRollupControls:function(e){var t=N[e].SequencingData;return{rollupObjectiveSatisfied:t.RollupObjectiveSatisfied,rollupProgressCompletion:t.RollupProgressCompletion,objectiveMeasureWeight:t.RollupObjectiveMeasureWeight}},parseDeliveryControls:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.DELIVERY_CONTROLS.TRACKED]=t.Tracked,n[a.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]=t.CompletionSetByContent,n[a.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]=t.ObjectiveSetByContent,n},parseRandomizationControls:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]=O(A(t.RandomizationTiming)),n[a.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]=0!==t.SelectionCount?t.SelectionCount:void 0,n[a.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]=t.RandomizeChildren,n[a.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]=O(A(t.SelectionTiming)),n},parseLimitConditions:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]=t.LimitConditionAttemptControl?t.LimitConditionAttemptLimit:void 0,n[a.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]=t.LimitConditionAttemptAbsoluteDurationControl?t.LimitConditionAttemptAbsoluteDurationLimit:void 0,n},parseObjectives:function(e,t){var n,i,r=N[e].SequencingData,a=[];(i=r.PrimaryObjective)&&(n=l(i,t,!0),a.push(n));for(var u=0,c=r.Objectives.length;u<c;u++)n=l(i=r.Objectives[u],t,!1),a.push(n);function l(e,t,n){for(var i,r,a=[],u=0,c=e.Maps.length;u<c;u++)r=e.Maps[u],(i={}).targetObjectiveID=r.TargetObjectiveId,i.readSatisfiedStatus=r.ReadSatisfiedStatus,i.readNormalizedMeasure=r.ReadNormalizedMeasure,i.writeSatisfiedStatus=r.WriteSatisfiedStatus,i.writeNormalizedMeasure=r.WriteNormalizedMeasure,a.push(i),s.default.getGlobalObjective(r.TargetObjectiveId).registerMappedActivity(t.getId(),i);return new o.default(t,e.SatisfiedByMeasure,e.Id,e.MinNormalizedMeasure,a,n)}return a},parseParameters:function(e){return N[e].Parameters},parseRollupConsiderations:function(e){var t=N[e].SequencingData;return{requiredForSatisfied:t.RequiredForSatisfied,requiredForNotSatisfied:t.RequiredForNotSatisfied,requiredForCompleted:t.RequiredForCompleted,requiredForIncomplete:t.RequiredForIncomplete,measureSatisfactionIfActive:t.MeasureSatisfactionIfActive}},parseConstrainedChoiceConsiderations:function(e){var t=N[e].SequencingData;return{preventActivation:t.PreventActivation,constrainChoice:t.ConstrainChoice}},getCompletionThreshold:function(e){var t=N[e];return null!==t.CompletionThreshold?t.CompletionThreshold:void 0},getTimeLimitAction:function(e){return N[e].TimeLimitAction},getLaunchData:function(e){return N[e].DataFromLms},getIdRef:function(e){var t=N[e];return"".concat(t.Identifierref)},getPublishIndex:function(e){var t=N[e];return"".concat(t.PublishIndex)},parsePresentation:function(e){var t=N[e].SequencingData,n=[];return t.HideAbandon&&n.push("abandon"),t.HideAbandonAll&&n.push("abandonAll"),t.HideContinue&&n.push("continue"),t.HidePrevious&&n.push("previous"),t.HideExit&&n.push("exit"),t.HideExitAll&&n.push("exitAll"),t.HideSuspendAll&&n.push("suspendAll"),n},getTitle:function(e){return N[e].Title},getVisibility:function(e){var t=N[e];return"".concat(t.Visible)},useObjectivesGlobalToSystem:function(){return"true"}};t.default=g},8890:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t="`",n=(e=e||{}).referenceIntBase||96,i=" ".charCodeAt(0),r=i+n-1,o=Math.pow(n,2)-1,s=e.minStringLength||5,a=Math.pow(n,1)-1+s,u=e.defaultWindowLength||144,c=o+s;function l(e,t){if(e>=0&&e<Math.pow(n,t)-1){for(var r="";e>0;)r=String.fromCharCode(e%n+i)+r,e=Math.floor(e/n);for(var o=t-r.length,s=0;s<o;s++)r=String.fromCharCode(i)+r;return r}throw"Reference int out of range: ".concat(e," (width = ").concat(t,")")}function d(e,t){for(var o=0,s=0;s<t;s++){o*=n;var a=e.charCodeAt(s);if(!(a>=i&&a<=r))throw"Invalid char code in reference int: ".concat(a);o+=a-i}return o}function S(e){return d(e,1)+s}return{compress:function(e,n){if((n=n||u)>c)throw"Window length too large";for(var i="",r=0,d=e.length-s;r<d;){for(var S=Math.max(r-n,0),f=s,T=!1,N={distance:o,length:0},p=null;S+f<r;)if(e.substr(S,f)==e.substr(r,f)&&f<a)f++,T=!0;else{var O=f-1;T&&O>N.length&&(N.distance=r-S-O,N.length=O),f=s,S++,T=!1}N.length?(p=t+l(N.distance,2)+l(N.length-s,1),r+=N.length):(p=e.charAt(r)!=t?e.charAt(r):"``",r++),i+=p}return i+e.slice(r).replace(/`/g,"``")},decompress:function(e){for(var n="",i=0;i<e.length;){var r=e.charAt(i);if(r!=t)n+=r,i++;else if(e.charAt(i+1)!=t){var o=d(e.substr(i+1,2),2),a=S(e.charAt(i+3));n+=n.substr(n.length-o-a,a),i+=s-1}else n+=t,i+=2}return n}}}();t.default=n},5529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(n(893)),r=f(n(1086)),o=f(n(1997)),s=n(5349),a=f(n(965)),u=f(n(3557)),c=f(n(6157)),l=f(n(355)),d=f(n(1493)),S=f(n(7603));function f(e){return e&&e.__esModule?e:{default:e}}var T=!1,N=new Map;function p(e){return!e.exception&&null!==e.sequencingRequest}function O(e){var t=e.requestResult;t.exception?e.evaluationResult=t.exception:null==t.sequencingRequest&&(e.evaluationResult=!1)}function A(e,t){e.activityId=t?t.getId():null}function g(e){return!e.endSession&&e.validity===s.CONSTANTS.VALIDITY.VALID&&null!==e.deliveryRequest}function v(e,t){e.evaluationResult=t.validity===s.CONSTANTS.VALIDITY.VALID||t.exception}function m(e,t){!0===t.endSession?e.evaluationResult=!1:t.validity===s.CONSTANTS.VALIDITY.NOT_VALID?e.evaluationResult=t.exception:null===t.deliveryRequest&&(e.evaluationResult=!1)}function C(e,t){return function(e){return e===s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE}(e)&&t?"".concat(e,"-").concat(t):e}function I(e){return e===s.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS}function E(e){return e===s.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE}var h={isEvaluationRequest:function(){return T},evaluateRequestOptions:function(){T=!0;var e=i.default.clone(),t=function(){var e=[];e.push(new u.default(s.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS)),e.push(new u.default(s.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE));for(var t=a.default.getAvailableActivitiesList(),n=0,i=t.length;n<i;n++){var r=t[n].getId();e.push(new u.default(s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,r))}return e}(),n=r.default.getCurrentActivity();n&&(n.setAttemptProgressStatus(!0),n.setAttemptCompletionStatus(!0),o.default.isCourseCompleted()),function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];i.requestResult=c.default.process(i.type,i.activityId)}}(t),function(e){for(var t=l.default.process(s.CONSTANTS.TERMINATION_REQUESTS.EXIT),n=0,i=e.length;n<i;n++){var r=e[n].requestResult;r.exception||null===r.terminationRequest||(t.validity===s.CONSTANTS.VALIDITY.NOT_VALID?r.exception=t.exception:t.sequencingRequest&&(r.sequencingRequest=t.sequencingRequest))}}(t),function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t],r=i.requestResult;if(p(r)){var o=d.default.process(r.sequencingRequest,i.activityId);(I(i.type)||E(i.type))&&A(i,o.deliveryRequest),g(o)?v(i,S.default.process(o.deliveryRequest)):m(i,o)}else O(i)}}(t),function(e){N.clear();for(var t=0,n=e.length;t<n;t++){var i=e[t],r=C(i.type,i.activityId);N.set(r,i)}}(t),i.default.restore(e)},isNavigationValid:function(e,t){var n=C(e,t),i=N.has(n)?N.get(n).evaluationResult:null;return{validity:!0===i,exception:"string"==typeof i?i:void 0}},isAvailableInTheTree:function(e){var t=this.isNavigationValid(s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,e.getId());return{enabled:t.validity,visible:e.isVisible()&&"SB.2.9-3"!==t.exception&&"SB.2.9-6"!==t.exception}},getActivityToLoad:function(e){var t;if(I(e)||E(e)){var n=N.get(e);t=n&&!0===n.evaluationResult?n.activityId:null}return t},processNavigationRequest:function(e){var t;switch(/^\{target=.+}choice$/.test(e)&&(t=e.match(/^\{target=(.+)}choice$/)[1],e=s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE),e){case s.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE:o.default.next();break;case s.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS:o.default.previous();break;case s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE:o.default.choice(t);break;case s.CONSTANTS.NAVIGATION_REQUESTS.EXIT:o.default.exit();break;case s.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL:o.default.exitAll();break;case s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON:o.default.abandon();break;case s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL:o.default.abandonAll();break;case s.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL:o.default.suspendAll()}}};t.default=h},6362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=a(n(1390)),o=a(n(4222)),s=a(n(383));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var c={parseManifest:function(e){if("Element"===e.manifest.constructor.name||e.manifest.documentElement)i=r.default;else{if("object"!==u(e.manifest))throw s.default.logger.error("Not valid inputs, cannot parse manifest."),new Error("Not valid inputs, cannot parse manifest.");i=o.default}return i.parseManifest(e.manifest)},parseSequencingControlModes:function(e){return i.parseSequencingControlModes(e)},parseSequencingRules:function(e){return i.parseSequencingRules(e)},parseRollupRules:function(e){return i.parseRollupRules(e)},parseRollupControls:function(e){return i.parseRollupControls(e)},parseDeliveryControls:function(e){return i.parseDeliveryControls(e)},parseRandomizationControls:function(e){return i.parseRandomizationControls(e)},parseLimitConditions:function(e){return i.parseLimitConditions(e)},parseObjectives:function(e,t){return i.parseObjectives(e,t)},parseParameters:function(e){return i.parseParameters(e)},parseRollupConsiderations:function(e){return i.parseRollupConsiderations(e)},parseConstrainedChoiceConsiderations:function(e){return i.parseConstrainedChoiceConsiderations(e)},getCompletionThreshold:function(e){return i.getCompletionThreshold(e)},getTimeLimitAction:function(e){return i.getTimeLimitAction(e)},getLaunchData:function(e){return i.getLaunchData(e)},getIdRef:function(e){return i.getIdRef(e)},getPublishIndex:function(e){return i.getPublishIndex(e)},parsePresentation:function(e){return i.parsePresentation(e)},getTitle:function(e){return i.getTitle(e)},getVisibility:function(e){return i.getVisibility(e)},useObjectivesGlobalToSystem:function(e){return i.useObjectivesGlobalToSystem(e)}};t.default=c},893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(1086)),r=l(n(965)),o=l(n(6619)),s=l(n(5720)),a=l(n(2430)),u=l(n(2500)),c=n(5349);function l(e){return e&&e.__esModule?e:{default:e}}var d="",S={clone:function(){return{packagingModel:r.default.clone(),globalState:i.default.clone(),runTimeAPI:o.default.clone()}},restore:function(e){r.default.restore(e.packagingModel),i.default.restore(e.globalState),o.default.restore(e.runTimeAPI)},suspend:function(){var e,t={};return t.packagingModel=r.default.suspend(),t.globalState=i.default.suspend(),t.additionalData=d,e=u.default.getMode()!==c.CONSTANTS.MODE.TEST?s.default.suspend(t):t,a.default.setCourseStateData(e),e},resume:function(e,t){var n,o;return void 0!==e?(n=e,o=t):(n=a.default.getCourseStateData(),o=!0),u.default.getMode()!==c.CONSTANTS.MODE.TEST&&n&&(n=s.default.restore(n,o)),!!n&&(r.default.resume(n.packagingModel),i.default.resume(n.globalState),d=n.additionalData,!!i.default.getSuspendedActivity())},cleanState:function(){a.default.cleanCourseStateData()},setAdditionalData:function(e){d=e},getAdditionalData:function(){return d}};t.default=S},383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,o=(i=n(2500))&&i.__esModule?i:{default:i},s=n(9597),a=n(5349);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={};t.default=c;var l="trace",d="debug",S="info",f="warn",T="error",N=(u(r={},l,4),u(r,d,3),u(r,S,2),u(r,f,1),u(r,T,0),r);c.logger=function(){var e=o.default.isDebug()?N.debug:N.info,t=o.default.isLocallyRunning(),n=o.default.getMode();function i(i,r,o){t||n===a.CONSTANTS.MODE.TEST||n===a.CONSTANTS.MODE.DEBUG_LOCAL||function(t,n,i){N[n]<=e&&("function"==typeof s.datadogLogs.logger[n]?s.datadogLogs.logger[n](t,i):s.datadogLogs.logger.log("".concat(n.toUpperCase(),": ").concat(t),i))}(i,r,o),(t||e===N.debug)&&function(t,n,i){var r=i?", context: ".concat(JSON.stringify(i)):"";N[n]<=e&&"undefined"!=typeof window&&void 0!==window.console&&("function"==typeof window.console[n]?window.console[n]("".concat(t).concat(r)):"function"==typeof window.console.log&&window.console.log("".concat(n.toUpperCase(),": ").concat(t).concat(r)))}(i,r,o)}return{trace:function(e){i(e,l)},info:function(e){i(e,S)},warn:function(e){i(e,f)},error:function(e,t){i(e,T,t)},debug:function(e){i(e,d)}}}(),c.contains=function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(t===e[n])return!0;return!1},c.onlyUnique=function(e){var t,n,i=[];for(t=0,n=e.length;t<n;t++)-1===i.indexOf(e[t])&&""!==e[t]&&i.push(e[t]);return i},c.shuffle=function(e){var t,n,i;for(t=e.length-1;t>0;t--)n=Math.floor(Math.random()*(t+1)),i=e[t],e[t]=e[n],e[n]=i;return e},c.trim=function(e){return"function"!=typeof String.prototype.trim?e.replace(/^\s+|\s+$/g,""):e.trim()},c.filter=function(e,t){var n,i=[];if(!e||!t)return e;for(var r=0,o=e.length;r<o;r++)t(n=e[r])&&i.push(n);return i},c.compareByProperty=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,i){return(n[e]<i[e]?-1:n[e]>i[e]?1:0)*t}},c.sortByKey=function(e){var t=[];return Object.keys(e).sort().forEach((function(n){t.push(e[n])})),t},c.invert=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[e[n]]=n);return t},c.isEmptyObject=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},c.isNumber=function(e){return!isNaN(e)&&!isNaN(parseFloat(e))},c.countDecimals=function(e){return e%1!=0?e.toString().split(".")[1].length:0},c.retrieveActivitiesList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push(e);for(var n=0;n<e.children.length;n++)c.retrieveActivitiesList(e.children[n],t);return t},c.getParamDetails=function(e){var t,n,i,r,o,s,a=!0;return/^[^\.]*\.[^\.]*\.([0-9]*)\..*$/.test(e)?(/^[^\.]*\.[^\.]*\.([0-9]*)\.[^\.]*\.([0-9]*)\.[^\.]*$/.test(e)?(s=e.match(/^([^\.]*\.[^\.]*)\.(0|[1-9][0-9]*)\.[^\.]*\.([0|[1-9][0-9]*)\.[^\.]*$/))?(n=s[1],r=s[2],o=s[3]):a=!1:(s=e.match(/^([^\.]*\.[^\.]*)\.(0|[1-9][0-9]*)\..*$/))?(n=s[1],r=s[2]):a=!1,t=(t=e.replace(/\.(0|[1-9][0-9]*)\./,".n.")).replace(/\.(0|[1-9][0-9]*)\./,".m.")):(/^adl\.nav\.request_valid\.choice\.\{target=.*}$/.test(e)?(t="adl.nav.request_valid.choice",(s=e.match(/\{target=(.*)}$/))?i=s[1]:a=!1):t=e,r=-1,o=-1),{paramWOindex:t,startsWith:n,n:+r,m:+o,endsWith:i,valid:a}}},1390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=S(n(383)),o=S(n(7904)),s=S(n(3331)),a=S(n(1645)),u=S(n(6846)),c=S(n(9076)),l=S(n(6997)),d=S(n(1086));function S(e){return e&&e.__esModule?e:{default:e}}var f=null,T=null,N=[],p=[],O={};function A(e,t,n){return g(e,n,t)}function g(e,t,n){var i=[],r=e.firstChild;if(t)for(;r;r=r.nextSibling)1===r.nodeType&&r.nodeName.indexOf(t)>-1&&(n?r.namespaceURI===n&&i.push(r):i.push(r));return i}function v(e,t,n){var r;if(e.getElementsByTagNameNS)return e.getElementsByTagNameNS(t,n);switch(t){case i.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE:r="adlcp";break;case i.CONSTANTS.NAMESPACES.ADLSEQ_NAMESPACE:r="adlseq";break;case i.CONSTANTS.NAMESPACES.ADLNAV_NAMESPACE:r="adlnav";break;case i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE:r="imsss"}return e.getElementsByTagName("".concat(r,":").concat(n))}function m(e,t){var n,i=e.getAttribute("identifier"),r=g(e,"item");N[i]=e;var o=new a.default(i,t);if(r.length>0){o.leaf=!1;for(var s=0,u=r.length;s<u;s++)o.children.push(m(r[s],o))}return o.getIdRef()&&((n=p[o.getIdRef()]?p[o.getIdRef()]:[]).push(o),p[o.getIdRef()]=n),o}function C(e,t,n){return e||t||n}function I(e,t){for(var n=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,t),o=[],s=0,a=n.length;s<a;s++){var c=[],d=void 0,S=void 0;if((d=v(n[s],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"ruleConditions")).length){var f=v(d=d[0],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"ruleCondition");if(f.length){for(var T=0,N=f.length;T<N;T++){var p=f[T],O=p.getAttribute("referencedObjective"),A=p.getAttribute("measureThreshold"),g=p.getAttribute("operator"),m=p.getAttribute("condition");c.push(new u.default(m,g,A,O))}var C=d.getAttribute("conditionCombination");(S=v(n[s],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"ruleAction")).length?(S=S[0].getAttribute("action"),o.push(new l.default(c,C,S))):r.default.logger.warn("Missing mandatory element RuleAction.")}else r.default.logger.warn("Missing mandatory element RuleCondition")}else r.default.logger.warn("Missing mandatory element RuleConditions")}return o}var E={parseManifest:function(e){return r.default.logger.debug("Parsing manifest...."),f=e.getElementsByTagName("organization")[0],r.default.logger.debug("Parsing activities..."),T=m(f,null),r.default.logger.debug("Activities parsed."),r.default.logger.debug("Parsing sequencing collections..."),O=function(e){for(var t=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencingCollection"),n=t&&t.length?v(t[0],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"):[],r={},o=0,s=n.length;o<s;o++)r[n[o].getAttribute("ID")]=n[o];return r}(e),r.default.logger.debug("Sequencing collections parsed."),r.default.logger.debug("Parsing resources..."),function(e){var t=e.getElementsByTagName("resource"),n="",i="";function o(e,t){var n="";try{(n=t?e.getElementsByTagName(t)[0].getAttribute("xml:base"):e.getAttribute("xml:base"))&&!/.*\/$/.test(n)&&(n="",r.default.logger.error("".concat(t,"'s 'xml:base' attribute must ends with trailing slash.")))}catch(e){r.default.logger.warn("Getting 'base' attribute error: ".concat(e))}return n||""}function s(e,t,r){return!/#/.test(e)&&r&&(e+=/\?/.test(e)?"&":"?".concat(r)),e=encodeURI(e),/^(http|\/).*/.test(e)||/^(http|\/).*/.test(e=t+e)||/^(http|\/).*/.test(e=i+e)?e:e=n+e}n=o(e,"manifest"),i=o(e,"resources");for(var a=0,u=t.length;a<u;a++)for(var c=t[a],l=c.getAttribute("identifier"),d=c.getAttribute("href"),S=o(c),f=c.getAttribute("type"),T=c.getAttribute("adlcp:scormType"),N=p[l]||[],O=0,A=N.length;O<A;O++){var g=N[O];g.resourceAddress=s(d,S,g.getParameters()),g.resourceType=f,g.resourceScormType=T,g.href=d,g.guid=d&&new RegExp(".*.html$").test(d)?d.match(/([^\/]+)(?=\.html$)/)[1]:""}}(e),r.default.logger.debug("Resources parsed."),r.default.logger.debug("Manifest parsed."),{root:T}},parseSequencingControlModes:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"controlMode");return n&&n.length&&(n=n[0],(t={})[i.CONSTANTS.SEQUENCING_MODES.CHOICE]=!/^false$/i.test(n.getAttribute("choice")),t[i.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT]=!/^false$/i.test(n.getAttribute("choiceExit")),t[i.CONSTANTS.SEQUENCING_MODES.FLOW]=/^true$/i.test(n.getAttribute("flow")),t[i.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY]=/^true$/i.test(n.getAttribute("forwardOnly")),t[i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO]=!/^false$/i.test(n.getAttribute("useCurrentAttemptObjectiveInfo")),t[i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO]=!/^false$/i.test(n.getAttribute("useCurrentAttemptProgressInfo"))),t}return s[i.CONSTANTS.SEQUENCING_MODES.CHOICE]=!0,s[i.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT]=!0,s[i.CONSTANTS.SEQUENCING_MODES.FLOW]=!1,s[i.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY]=!1,s[i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO]=!0,s[i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO]=!0,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(r=a(O[t]))),C(n,r,s)},parseSequencingRules:function(e){var t,n,r=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),o={};return o[i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=[],o[i.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=[],o[i.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=[],(r=r&&r.length?r[0]:null)&&((n=A(r,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencingRules"))&&n.length?(o[i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=I(r,"preConditionRule"),o[i.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=I(r,"postConditionRule"),o[i.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=I(r,"exitConditionRule")):(t=r.getAttribute("IDRef"))&&(o[i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=I(O[t],"preConditionRule"),o[i.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=I(O[t],"postConditionRule"),o[i.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=I(O[t],"exitConditionRule"))),o},parseRollupRules:function(e){var t,n,r,s=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing");function a(e){var t,n=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupRules"),r=n.length?v(n[0],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupRule"):[];if(r&&r.length){if(t=[],n.length>1)throw new Error("Manifest parsing error: <rollupRules> must occurs 0 or 1 time in the <sequencing> element.");for(var s=0,a=r.length;s<a;s++){var u=r[s],l=u.getAttribute("childActivitySet"),d=u.getAttribute("minimumCount"),S=u.getAttribute("minimumPercent"),f=v(u,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupConditions"),T=v(u,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupAction");if(l=l||i.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL,null!==d&&""!==d&&(d=+d)<0)throw new Error("Manifest parsing error: <rollupRule> element 'minimumCount' attribute must be non Negative Integer");if(null!==S&&""!==S&&((S=+S)<0||S>1))throw new Error("Manifest parsing error: <rollupRule> element 'minimumPercent' attribute must be in range from 0 to 1");var N=[],p=void 0;if(!f.length)throw new Error("Manifest parsing error: <rollupRule> element - missing mandatory element <rollupConditions>");if(f.length>1)throw new Error("Manifest parsing error: <RollupConditions> element is present more than ones in <RollupRules> element");var O=f[0];p=O.getAttribute("conditionCombination");var A=v(O,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupCondition");if(p=p||i.CONSTANTS.CONDITION_COMBINATIONS.ANY,!A.length)throw new Error("Manifest parsing error: <rollupConditions> element - missing mandatory element rollupCondition");for(var g=0,m=A.length;g<m;g++){var C=A[g],I=C.getAttribute("operator"),E=C.getAttribute("condition");if(I=I||i.CONSTANTS.OPERATORS.NO_OP,!E)throw new Error("Manifest parsing error: <rollupCondition> element - missing mandatory attribute condition");N.push(new o.default(I,E))}if(N=N||[],!T.length)throw new Error("Manifest parsing error: <rollupRule> element - missing mandatory element <rollupAction>");var h=(T=T[0]).getAttribute("action");t.push(new c.default(l,d,S,N,p,h))}}return t}return(s=s&&s.length?s[0]:null)&&(n=a(s),(t=s.getAttribute("IDRef"))&&(r=a(O[t]))),C(n,r,[])},parseRollupControls:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing");function s(e){var t,n,r=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupRules");if(r&&r.length&&(r=r[0],(n={}).rollupObjectiveSatisfied=!/^false$/i.test(r.getAttribute("rollupObjectiveSatisfied")),n.rollupProgressCompletion=!/^false$/i.test(r.getAttribute("rollupProgressCompletion")),n.objectiveMeasureWeight=1,null!==(t=r.getAttribute("objectiveMeasureWeight"))&&""!==t)){if(!((t=+t)>=0&&t<=1))throw new Error("Manifest parsing error: 'objectiveMeasureWeight' must be in range from 0 to 1.");n.objectiveMeasureWeight=t}return n}return(o=o&&o.length?o[0]:null)&&(n=s(o),(t=o.getAttribute("IDRef"))&&(r=s(O[t]))),C(n,r,{rollupObjectiveSatisfied:!0,rollupProgressCompletion:!0,objectiveMeasureWeight:1})},parseDeliveryControls:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"deliveryControls");return n&&n.length&&(n=n[0],(t={})[i.CONSTANTS.DELIVERY_CONTROLS.TRACKED]=!/^false$/i.test(n.getAttribute(i.CONSTANTS.DELIVERY_CONTROLS.TRACKED)),t[i.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]=/^true$/i.test(n.getAttribute(i.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT)),t[i.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]=/^true$/i.test(n.getAttribute(i.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT))),t}return s[i.CONSTANTS.DELIVERY_CONTROLS.TRACKED]=!0,s[i.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]=!1,s[i.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]=!1,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(r=a(O[t]))),C(n,r,s)},parseRandomizationControls:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"randomizationControls");if(n&&n.length){t={};var r=(n=n[0]).getAttribute(i.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING),o=n.getAttribute(i.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT),s=n.getAttribute(i.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN),a=n.getAttribute(i.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING);t[i.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]=r||i.CONSTANTS.TIMING.NEVER,t[i.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]=o,t[i.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]=/^true$/i.test(s),t[i.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]=a||i.CONSTANTS.TIMING.NEVER}return t}return s[i.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]=i.CONSTANTS.TIMING.NEVER,s[i.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]=void 0,s[i.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]=!1,s[i.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]=i.CONSTANTS.TIMING.NEVER,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(r=a(O[t]))),C(n,r,s)},parseLimitConditions:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=v(e,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"limitConditions");if(n&&n.length){t={};var r=(n=n[0]).getAttribute("attemptLimit"),o=n.getAttribute("attemptAbsoluteDurationLimit");t[i.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]=null!==r&&""!==r?+r:void 0,t[i.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]=null!==o&&null!==o?o:void 0}return t}return s[i.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]=void 0,s[i.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]=void 0,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(r=a(O[t]))),C(n,r,s)},parseObjectives:function(e,t){var n,o,a=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),u=a&&a.length?v(a[0],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"objectives"):[],c=[],l=null;function S(e,t,n){var o=t.getAttribute("satisfiedByMeasure"),a=t.getAttribute("objectiveID"),u=v(t,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"minNormalizedMeasure"),c=v(t,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"mapInfo"),l=1,S=[];if(o=!!o&&/^true$/i.test(o),a=a&&r.default.trim(a)?a:"","objective"===t.nodeName&&!a)throw new Error("Manifest parsing error: missing mandatory attribute 'objectiveID' in <objective> element.");if(u.length&&(l=+(u=(u=u[0].firstChild).textContent||u.text),u<1&&u>-1&&(l=u)),c.length){for(var f=c.length-1;f>=0;f--){var T=c[f],N=T.getAttribute("targetObjectiveID"),p=T.getAttribute("readSatisfiedStatus"),O=T.getAttribute("readNormalizedMeasure"),A=T.getAttribute("writeSatisfiedStatus"),g=T.getAttribute("writeNormalizedMeasure"),m={},C=void 0;if(!N||!r.default.trim(N))throw new Error("Manifest parsing error: missing mandatory attribute targetObjectiveID in <mapInfo> element.");m.targetObjectiveID=N,C=d.default.getGlobalObjective(N),m.readSatisfiedStatus=!/^false$/i.test(p),m.readNormalizedMeasure=!/^false$/i.test(O),m.writeSatisfiedStatus=/^true$/i.test(A),m.writeNormalizedMeasure=/^true$/i.test(g),C.registerMappedActivity(e.getId(),m),S.push(m)}!function(e){for(var t=!1,n=!1,i=!1,r=!1,o=e.length-1;o>=0;o--){if(e[o].readSatisfiedStatus){if(t)throw new Error("Manifest parsing error: only one <mapInfo> element could have the 'readSatisfiedStatus' attribute set to 'true'.");t=!0}if(e[o].readNormalizedMeasure){if(n)throw new Error("Manifest parsing error: only one <mapInfo> element shall have the 'readNormalizedMeasure' attribute set to 'true'.");n=!0}if(e[o].writeSatisfiedStatus){if(i)throw new Error("Manifest parsing error: only one <mapInfo> element shall have the 'writeSatisfiedStatus' attribute set to 'true'.");i=!0}if(e[o].writeNormalizedMeasure){if(r)throw new Error("Manifest parsing error: only one <mapInfo> element shall have the 'writeNormalizedMeasure' attribute set to 'true'.");r=!0}}}(S)}return new s.default(e,o,a,l,S,n)}if(u.length){if(!(n=v(u=u[0],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"primaryObjective")).length)throw new Error("Manifest parsing error: missing mandatory <primaryObjective> element.");if(l=S(t,n[0],!0),c.push(l),(o=v(u,i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"objective"))&&o.length)for(var f=0,T=o.length;f<T;f++)l=S(t,o[f],!1),c.push(l)}return function(e){var t,n={};if(e&&e.length)for(var i=e.length-1;i>=0;i--)n[e[i].id]="id";if(t=Object.keys(n).length,e.length!==t)throw new Error("Manifest parsing error: all defined 'objectiveID' attributes shall be unique.")}(c),c},parseParameters:function(e){var t=N[e].getAttribute("parameters");return null!==t?t:""},parseRollupConsiderations:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={requiredForSatisfied:i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,requiredForNotSatisfied:i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,requiredForCompleted:i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,requiredForIncomplete:i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,measureSatisfactionIfActive:!0};function a(e){var t,n=v(e,i.CONSTANTS.NAMESPACES.ADLSEQ_NAMESPACE,"rollupConsiderations");return n&&n.length&&(n=n[0],(t={}).requiredForSatisfied=n.getAttribute("requiredForSatisfied")||i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.requiredForNotSatisfied=n.getAttribute("requiredForNotSatisfied")||i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.requiredForCompleted=n.getAttribute("requiredForCompleted")||i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.requiredForIncomplete=n.getAttribute("requiredForIncomplete")||i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.measureSatisfactionIfActive=!/^false$/i.test(n.getAttribute("measureSatisfactionIfActive"))),t}return(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(r=a(O[t]))),C(n,r,s)},parseConstrainedChoiceConsiderations:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing");function s(e){var t,n=v(e,i.CONSTANTS.NAMESPACES.ADLSEQ_NAMESPACE,"constrainedChoiceConsiderations");return n&&n.length&&(n=n[0],(t={}).preventActivation=/^true$/i.test(n.getAttribute("preventActivation")),t.constrainChoice=/^true$/i.test(n.getAttribute("constrainChoice"))),t}return(o=o&&o.length?o[0]:null)&&(n=s(o),(t=o.getAttribute("IDRef"))&&(r=s(O[t]))),C(n,r,{preventActivation:!1,constrainChoice:!1})},getCompletionThreshold:function(e){var t=v(N[e],i.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE,"completionThreshold");if(t.length){if(+(t=(t=t[0].firstChild).textContent||t.text)<0||+t>1)throw new Error("Manifest parsing error: 'completionThreshold' value is out of range [0, 1].")}else t=void 0;return t},getTimeLimitAction:function(e){var t=v(N[e],i.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE,"timeLimitAction");return t.length?(t=t[0].firstChild).textContent||t.text:void 0},getLaunchData:function(e){var t=v(N[e],i.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE,"dataFromLMS");return t.length?(t=t[0].firstChild).textContent||t.text:void 0},getIdRef:function(e){return N[e].getAttribute("identifierref")},getPublishIndex:function(e){return N[e].getAttribute("publishIndex")},parsePresentation:function(e){var t,n,r,o=A(N[e],i.CONSTANTS.NAMESPACES.ADLNAV_NAMESPACE,"presentation"),s=o&&o.length?v(o[0],i.CONSTANTS.NAMESPACES.ADLNAV_NAMESPACE,"hideLMSUI"):[],a=[];for(t=0,n=s.length;t<n;t++)r=(r=s[t].firstChild).textContent||r.text,a.push(r);return a},getTitle:function(e){var t=g(N[e],"title")[0].firstChild;return t?t.textContent||t.text:""},getVisibility:function(e){return N[e].getAttribute("isvisible")||"true"},useObjectivesGlobalToSystem:function(){return f.getAttribute("adlseq:objectivesGlobalToSystem")||f.getAttribute("objectivesGlobalToSystem")||"true"}};t.default=E},2500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=function(){var e=!1;"undefined"!=typeof window&&null!==window&&window.PARAMS&&(e=window.PARAMS[i.CONSTANTS.MODE.DEBUG]);var t=!1;"undefined"!=typeof window&&null!==window&&window.location&&(t="localhost"===window.location.hostname);var n=null;function r(){return null===n&&(n=e&&window.localStorage&&t?i.CONSTANTS.MODE.DEBUG_LOCAL:e?i.CONSTANTS.MODE.DEBUG:"undefined"!=typeof window?i.CONSTANTS.MODE.EXTERNAL:i.CONSTANTS.MODE.TEST),n}return{getMode:r,isDebug:function(){return e},isObjectivesGlobalToSystem:function(){return r()===i.CONSTANTS.MODE.TEST},isLocallyRunning:function(){return t}}}();t.default=r},8238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(383)),r=c(n(1119)),o=c(n(6619)),s=n(5349),a=c(n(893)),u=c(n(1086));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var d,S,f,T="READ-ONLY",N="WRITE-ONLY",p="READ-WRITE",O="long_identifier_type",A="state",g="time",v="real",m="state_or_real",C="time_interval",I="localized_string_type",E="real_in_range",h="character_string",_="correct_response_pattern",R={"cmi._version":{permissions:T},"cmi.comments_from_learner._children":{permissions:T},"cmi.comments_from_learner._count":{permissions:T},"cmi.comments_from_learner.n.comment":{permissions:p,format:I,types:["string"],length:4020},"cmi.comments_from_learner.n.location":{permissions:p,format:h,types:["string"],length:250},"cmi.comments_from_learner.n.timestamp":{permissions:p,format:g,types:["string"]},"cmi.comments_from_lms._children":{permissions:T},"cmi.comments_from_lms._count":{permissions:T},"cmi.comments_from_lms.n.comment":{permissions:T},"cmi.comments_from_lms.n.location":{permissions:T},"cmi.comments_from_lms.n.timestamp":{permissions:T},"cmi.completion_status":{permissions:p,format:A,range:["completed","incomplete","not attempted","unknown"],types:["string"]},"cmi.completion_threshold":{permissions:T},"cmi.credit":{permissions:T},"cmi.entry":{permissions:T},"cmi.exit":{permissions:N,format:A,range:["time-out","suspend","logout","normal",""],types:["string"]},"cmi.interactions._children":{permissions:T},"cmi.interactions._count":{permissions:T},"cmi.interactions.n.id":{permissions:p,format:O,types:["string"],length:4e3},"cmi.interactions.n.type":{permissions:p,format:A,types:["string"],range:[s.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE,s.CONSTANTS.INTERACTION_TYPE.CHOICE,s.CONSTANTS.INTERACTION_TYPE.FILL_IN,s.CONSTANTS.INTERACTION_TYPE.LONG_FILL_IN,s.CONSTANTS.INTERACTION_TYPE.MATCHING,s.CONSTANTS.INTERACTION_TYPE.PERFORMANCE,s.CONSTANTS.INTERACTION_TYPE.SEQUENCING,s.CONSTANTS.INTERACTION_TYPE.LIKERT,s.CONSTANTS.INTERACTION_TYPE.NUMERIC,s.CONSTANTS.INTERACTION_TYPE.OTHER],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.objectives._count":{permissions:T},"cmi.interactions.n.objectives.m.id":{permissions:p,format:O,types:["string"],length:4e3,dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.timestamp":{permissions:p,format:g,types:["string"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.correct_responses._count":{permissions:T},"cmi.interactions.n.correct_responses.m.pattern":{permissions:p,format:_,types:["string"],dependencies:["cmi.interactions.n.id","cmi.interactions.n.type"]},"cmi.interactions.n.weighting":{permissions:p,format:v,types:["number"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.learner_response":{permissions:p,format:_,types:["string"],dependencies:["cmi.interactions.n.id","cmi.interactions.n.type"]},"cmi.interactions.n.result":{permissions:p,format:m,types:["string","number"],range:["correct","incorrect","unanticipated","neutral"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.latency":{permissions:p,format:C,types:["string"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.description":{permissions:p,format:I,types:["string"],length:250,dependencies:["cmi.interactions.n.id"]},"cmi.launch_data":{permissions:T},"cmi.learner_id":{permissions:T},"cmi.learner_name":{permissions:T},"cmi.learner_preference._children":{permissions:T},"cmi.learner_preference.audio_level":{permissions:p,format:E,types:["number"],range:[0,Number.MAX_VALUE]},"cmi.learner_preference.language":{permissions:p,format:"CHARACTERSTRING",types:["string"],length:250},"cmi.learner_preference.delivery_speed":{permissions:p,format:E,types:["number"],range:[0,Number.MAX_VALUE]},"cmi.learner_preference.audio_captioning":{permissions:p,format:A,types:["string"],range:["-1","0","1"]},"cmi.location":{permissions:p,format:h,types:["string"],length:1e3},"cmi.max_time_allowed":{permissions:T},"cmi.mode":{permissions:T},"cmi.objectives._children":{permissions:T},"cmi.objectives._count":{permissions:T},"cmi.objectives.n.id":{permissions:p,format:O,types:["string"],length:4e3},"cmi.objectives.n.score._children":{permissions:T},"cmi.objectives.n.score.scaled":{permissions:p,format:E,types:["number"],range:[-1,1],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.score.raw":{permissions:p,format:v,types:["number"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.score.min":{permissions:p,format:v,types:["number"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.score.max":{permissions:p,format:v,types:["number"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.success_status":{permissions:p,format:A,types:["string"],range:["passed","failed","unknown"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.completion_status":{permissions:p,format:A,types:["string"],range:["completed","incomplete","not attempted","unknown"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.progress_measure":{permissions:p,format:E,types:["number"],range:[0,1],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.description":{permissions:p,format:I,types:["string"],length:250,dependencies:["cmi.objectives.n.id"]},"cmi.progress_measure":{permissions:p,format:E,types:["number"],range:[0,1]},"cmi.scaled_passing_score":{permissions:T},"cmi.score._children":{permissions:T},"cmi.score.scaled":{permissions:p,format:E,types:["number"],range:[-1,1]},"cmi.score.raw":{permissions:p,format:v,types:["number"]},"cmi.score.max":{permissions:p,format:v,types:["number"]},"cmi.score.min":{permissions:p,format:v,types:["number"]},"cmi.session_time":{permissions:N,format:C,types:["string"]},"cmi.success_status":{permissions:p,format:A,types:["string"],range:["passed","failed","unknown"]},"cmi.suspend_data":{permissions:p,format:h,types:["string"],length:64e3},"cmi.time_limit_action":{permissions:T,format:A,types:["string"],range:["exit,message","continue,message","exit,no message","continue,no message"]},"cmi.total_time":{permissions:T,format:C,types:["string"]},"adl.nav.request":{permissions:p,format:A,types:["string"],range:["continue","previous","choice","exit","exitAll","abandon","abandonAll","suspendAll","_none_"]},"adl.nav.request_valid.continue":{permissions:T},"adl.nav.request_valid.previous":{permissions:T},"adl.nav.request_valid.choice":{permissions:T}};function b(){S=a.default.clone(),(d=u.default.getCurrentActivity().runTimeData).initialize(),f=d.interactions.length}var y={initialize:b,terminate:function(){d.terminate()},commit:function(){var e=d.getValue("adl.nav.request");d.commit(),!e||e!==s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON&&e!==s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL?(S=a.default.clone(),d=u.default.getCurrentActivity().runTimeData):(a.default.restore(S),b())},setValue:function(e,t){var n=i.default.getParamDetails(e);return function(e,t){var n,a,u,c,S,N=R[e.paramWOindex];if(!e.valid)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("Not valid parameter."),!1;if(!N)return o.default.setLastError(o.default.ERRORS.UNDEFINED_MODEL_ELEMENT),o.default.setLastErrorDiagnostic("The data model element is not defined."),!1;if(N.permissions===T)return o.default.setLastError(o.default.ERRORS.READ_ONLY_ERROR),o.default.setLastErrorDiagnostic("SCO attempted to store a data model value for an element that is implemented as read-only."),!1;if(!function(e,t,n){var o,a,u,c=!1,S=l(t);for(a=0,u=e.types.length;a<u;a++){if(S===e.types[a]){c=!0;break}if("number"===e.types[a]&&!isNaN(+t)){c=!0;break}}if(!c)return!1;switch(e.format){case O:return/^urn:/.test(t)?/^urn:[a-z0-9][a-z0-9-]{0,31}:[a-z0-9()+,\-.:=@;$_!*'%/?#]+$/i.test(t):!!t&&""!==t.replace(/^\s+|\s+$/g,"");case I:if(/^\{lang=.*}/.test(t))return/^\{lang=.+}.*$/.test(t);break;case A:return!!/\{target=.+}choice/.test(t)||e.range.indexOf(t)>-1;case m:return e.range.indexOf(t)>-1||""!==t&&!isNaN(+t);case g:return r.default.validateTime(t);case C:return r.default.validate(t);case _:if(d.getInteractions()[n.n])switch(d.getInteractions()[n.n].type){case s.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE:return"cmi.interactions.n.correct_responses.m.pattern"===n.paramWOindex&&n.m>0||/^(true|false)$/i.test(t);case s.CONSTANTS.INTERACTION_TYPE.CHOICE:if(""!==t&&(o=t.split("[,]"))){if(o.length!==i.default.onlyUnique(o).length)return!1;for(a=0,u=o.length;a<u;a++)if(/\{.*}/.test(o[a]))return!1}break;case s.CONSTANTS.INTERACTION_TYPE.FILL_IN:case s.CONSTANTS.INTERACTION_TYPE.LONG_FILL_IN:if(/^\{case_matters=/.test(t)&&!(o=/^(\{case_matters=(true|false)}.*)|(\{order_matters=(true|false)}\{case_matters=(true|false)}.*)$/.test(t)))return!1;if(/^\{order_matters=/.test(t)&&!(o=/^(\{order_matters=(true|false)}.*)|(\{case_matters=(true|false)}\{order_matters=(true|false)}.*)$/.test(t)))return!1;if(o=(o=t.replace(/^(\{case_matters=(true|false)}(\{order_matters=(true|false)})?)|(\{order_matters=(true|false)}(\{case_matters=(true|false)})?)/,"")).split("[,]"))for(a=0,u=o.length;a<u;a++)if(/^\{lang=/.test(o[a])&&!/^\{lang=(en|eng|en-US|fr)}.*/.test(o[a]))return!1;break;case s.CONSTANTS.INTERACTION_TYPE.LIKERT:if(/\[(.*)?\]/.test(t))return!1;break;case s.CONSTANTS.INTERACTION_TYPE.MATCHING:return/^(.[^((\[,\])|(\[\.\]))]*\[\.\].[^((\[,\])|(\[\.\]))]*(\[,\])?){1,}$/.test(t);case s.CONSTANTS.INTERACTION_TYPE.PERFORMANCE:return/^\{order_matters=/.test(t)?/^(\{order_matters=(true|false)})(.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?((\[,\](.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?){0,})$/.test(t):/^(.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?((\[,\](.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?){0,})$/.test(t);case s.CONSTANTS.INTERACTION_TYPE.SEQUENCING:return"cmi.interactions.n.correct_responses.m.pattern"===n.paramWOindex&&n.m>1||/^.[^(\[,\])]*(\[,\].[^(\[,\])]*){0,}?$/.test(t);case s.CONSTANTS.INTERACTION_TYPE.NUMERIC:return"cmi.interactions.n.correct_responses.m.pattern"===n.paramWOindex&&n.m>0||(1===(o=t.split("[:]")).length?!isNaN(o[0]):!isNaN(o[0])&&!isNaN(o[1])&&+o[0]<+o[1]);case s.CONSTANTS.INTERACTION_TYPE.OTHER:}}return!0}(N,t,e))return o.default.setLastError(o.default.ERRORS.TYPE_MISMATCH),o.default.setLastErrorDiagnostic("SCO attempted to store a data model value for a data model element and the value was not of the correct data type."),!1;if(!function(e,t){var n;switch(e.format){case h:case O:return e.length>=t.length;case I:return/^\{lang=/.test(t)?(n=t.replace(/^\{lang=.[^}]*}/,""),e.length>=n.length):e.length>=t.length;case E:return e.range[0]<=t&&e.range[1]>=t}return!0}(N,t))return o.default.setLastError(o.default.ERRORS.VALUE_OUT_OF_RANGE),o.default.setLastErrorDiagnostic("SCO attempted to store a data model value for an element, however the value was not in the specified range of values for the element."),!1;if(!function(e,t){var n,i;if(e.dependencies)for(n=0,i=e.dependencies.length;n<i;n++)switch(e.dependencies[n]){case"cmi.interactions.n.id":if(t.n-d.getInteractions().length<1&&(!d.getInteractions()[t.n]||void 0===d.getInteractions()[t.n].id))return!1;break;case"cmi.interactions.n.type":if(t.n-d.getInteractions().length<1&&(!d.getInteractions()[t.n]||void 0===d.getInteractions()[t.n].type))return!1;break;case"cmi.objectives.n.id":if(t.n-d.getObjectives().length<1&&(!d.getObjectives()[t.n]||void 0===d.getObjectives()[t.n].id))return!1}return!0}(N,e))return o.default.setLastError(o.default.ERRORS.DEPENDENCY_NOT_ESTABLISHED),o.default.setLastErrorDiagnostic("Relevant dependencies are not in place."),!1;switch(e.startsWith){case"cmi.comments_from_learner":if(d.getCommentsFromLearner().length<e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;break;case"cmi.interactions":if((n=d.getInteractions()).length<e.n||n.length==e.n&&"cmi.interactions.n.id"!==e.paramWOindex)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;switch(e.paramWOindex){case"cmi.interactions.n.objectives.m.id":if(n[e.n].objectives.length<e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;break;case"cmi.interactions.n.correct_responses.m.pattern":if(n[e.n].correct_responses.length<e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;switch(n[e.n].type){case s.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE:case s.CONSTANTS.INTERACTION_TYPE.NUMERIC:if(e.m>0)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("Only one correct pattern is allowed for '".concat(n[e.n].type,"' interaction type.")),!1;break;case s.CONSTANTS.INTERACTION_TYPE.CHOICE:if(n[e.n].correct_responses.length)for(c=0,S=n[e.n].correct_responses.length;c<S;c++)if(n[e.n].correct_responses[c].pattern===t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element's value is already in use and it is not unique."),!1;break;case s.CONSTANTS.INTERACTION_TYPE.SEQUENCING:if(e.m>1)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("Only two correct patterns are allowed for 'sequencing' interaction type."),!1}}if("cmi.interactions.n.id"===e.paramWOindex)if(n.length===e.n){for(c=0,S=n.length;c<S;c++)if(n[c].id===t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element's value is already in use and it is not unique."),!1}else if(f>e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element's value was set during previous attempt set and cannot be changed."),!1;if("cmi.interactions.n.objectives.m.id"===e.paramWOindex)for(c=0,S=(a=n[e.n].objectives).length;c<S;c++)if(a[c].id===t&&c!==e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model elements value is already in use and is not unique."),!1;break;case"cmi.objectives":if((u=d.getObjectives()).length<e.n||u.length===e.n&&"cmi.objectives.n.id"!==e.paramWOindex)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;if("cmi.objectives.n.id"===e.paramWOindex)if(u.length===e.n){for(c=0,S=u.length;c<S;c++)if(u[c].id===t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model elements value is already in use and is not unique."),!1}else if(u[e.n].id!==t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model elements value is already set and cannot be changed."),!1}return!0}(n,t)?(d.setValue(e,t,n),o.default.TRUE):o.default.FALSE},getValue:function(e){var t=i.default.getParamDetails(e),n="";return function(e){var t=R[e.paramWOindex];if(!t)return o.default.setLastError(o.default.ERRORS.UNDEFINED_MODEL_ELEMENT),o.default.setLastErrorDiagnostic("The data model element is not defined."),!1;if(t.permissions===N)return o.default.setLastError(o.default.ERRORS.WRITE_ONLY_ERROR),o.default.setLastErrorDiagnostic("SCO attempted to retrieve a data model value for an element that is implemented as write-only."),!1;switch(e.startsWith){case"cmi.comments_from_learner":if(d.getCommentsFromLearner().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.comments_from_lms":if(d.getCommentsFromLMS().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.interactions":if(d.getInteractions().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.objectives":if(d.getObjectives().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1}switch(e.paramWOindex){case"cmi.interactions.n.objectives.m.id":if(d.getInteractions()[e.n].objectives.length<=e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.interactions.n.correct_responses.m.pattern":if(d.getInteractions()[e.n].correct_responses.length<=e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1}return!0}(t)&&void 0===(n=d.getValue(e,t))?(o.default.setLastError(o.default.ERRORS.VALUE_NOT_INITIALIZED),o.default.setLastErrorDiagnostic("SCO attempted to retrieve a data model value that has never been initialized."),""):n}};t.default=y},1086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,o,s,a=S(n(965)),u=S(n(7217)),c=S(n(6362)),l=S(n(2430)),d=S(n(2500));function S(e){return e&&e.__esModule?e:{default:e}}function f(){return o="string"==typeof o?a.default.getActivityById(o):o}function T(){return null===s&&(s=c.default.useObjectivesGlobalToSystem()||"true"),!/^false$/i.test(s)}var N={init:function(e){i=void 0,r={},o=e,s=null},getCurrentActivity:function(){return i},setCurrentActivity:function(e){i=e},getSuspendedActivity:f,setSuspendedActivity:function(e){o=e},getGlobalObjective:function(e){return r[e]||(r[e]=new u.default(e)),r[e]},clone:function(){var e,t=r,n=f();for(e in i&&(i=a.default.getActivityById(i.getId())),n&&(n=a.default.getActivityById(n.getId())),r={},t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=new u.default(e,t[e]));return{currentActivityId:i?i.getId():void 0,suspendedActivityId:n?n.getId():void 0,globalObjectives:t}},restore:function(e){i=a.default.getActivityById(e.currentActivityId),e.suspendedActivityId&&(o=a.default.getActivityById(e.suspendedActivityId)),r=e.globalObjectives},suspend:function(){var e,t={};for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]={objectiveProgressStatus:r[e].objectiveProgressStatus,objectiveSatisfiedStatus:r[e].objectiveSatisfiedStatus,objectiveMeasureStatus:r[e].objectiveMeasureStatus,objectiveNormalizedMeasure:r[e].objectiveNormalizedMeasure});return{suspendedActivityId:o?o.getId():void 0,globalObjectives:t}},resume:function(e){var t;for(t in e.suspendedActivityId&&(o=a.default.getActivityById(e.suspendedActivityId)),e.globalObjectives)Object.prototype.hasOwnProperty.call(e.globalObjectives,t)&&(e.globalObjectives[t].mappedActivities=r[t].mappedActivities,r[t]=new u.default(t,e.globalObjectives[t],!0))},getObjectiveGlobalToSystem:function(e){if(d.default.isObjectivesGlobalToSystem()&&T())return l.default.getSystemGlobalObjectiveById(e)},setObjectiveGlobalToSystem:function(e,t){d.default.isObjectivesGlobalToSystem()&&T()&&l.default.addSystemGlobalObjective(e,t)}};t.default=N},965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(383)),r=s(n(6362)),o=s(n(1645));function s(e){return e&&e.__esModule?e:{default:e}}var a,u={},c=[];function l(e){var t,n;for(c.push(e),u[e.getId()]=e,t=0,n=e.children.length;t<n;t++)l(e.children[t])}function d(e,t){var n=e.getAvailableChildren();t.push(e);for(var i=0,r=n.length;i<r;i++)d(n[i],t);return t}var S={init:function(e){u={},c=[],i.default.logger.debug("Initializing Content Packaging Model...");var t=r.default.parseManifest(e);l(a=t.root),i.default.logger.debug("Content Packaging Model initialized.")},getRoot:function(){return a},getActivityById:function(e){return u[e]},getActivityByGuid:function(e){return Object.values(u).find((function(t){return t.guid===e}))},getNextAvailableSibling:function(e){var t=e.getParent().getAvailableChildren(),n=t.indexOf(e);return-1!==n&&t.length>n+1?t[n+1]:null},getPreviousAvailableSibling:function(e){var t=e.getParent().getAvailableChildren(),n=t.indexOf(e);return n>0?t[n-1]:null},getLastAvailableActivity:function(){return function e(t){var n,i,r,o=t.getAvailableChildren();for(n=o.length-1;n>=0;n--){if((i=o[n]).isLeaf())return i;if(void 0!==(r=e(i)))return r}}(a)},getAvailableActivitiesList:function(){return d(a,[])},getAllActivitiesList:function(){return c},clone:function(){var e=a,t=u,n=c;return a=new o.default(a.getId(),null,a),u={},c=[],l(a),{root:e,activities:t,allActivities:n}},restore:function(e){a=e.root,u=e.activities,c=e.allActivities},suspend:function(){return a.suspend()},resume:function(e){a.resume(e)}};t.default=S},5720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=l(n(965)),o=l(n(1086)),s=l(n(452)),a=l(n(8890)),u=l(n(383)),c=n(5349);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={_:"_0","+":"_1","[":"_2","]":"_3","%":"_4"," ":"_5",";":"_6","`":"_7"},f={"-":"-0","|":"-1","!":"-2","#":"-3","*":"-4","{":"-5","}":"-6",":":"-7",'"':"-8","@@":"-9","^^":"~0","&":"~1",$:"~2"},T={true:"t",false:"f",unknown:"u"},N={unknown:"0",completed:"1",incomplete:"2","not attempted":"3"},p={unknown:"0",passed:"1",failed:"2"},O={fff:"0",fft:"1",ftf:"2",ftt:"3",tff:"4",tft:"5",ttf:"6",ttt:"7"},A=(d(i={},c.CONSTANTS.INTERACTION_TYPE.OTHER,"0"),d(i,c.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE,"1"),d(i,c.CONSTANTS.INTERACTION_TYPE.CHOICE,"2"),d(i,c.CONSTANTS.INTERACTION_TYPE.FILL_IN,"3"),d(i,c.CONSTANTS.INTERACTION_TYPE.LONG_FILL_IN,"4"),d(i,c.CONSTANTS.INTERACTION_TYPE.MATCHING,"5"),d(i,c.CONSTANTS.INTERACTION_TYPE.PERFORMANCE,"6"),d(i,c.CONSTANTS.INTERACTION_TYPE.SEQUENCING,"7"),d(i,c.CONSTANTS.INTERACTION_TYPE.LIKERT,"8"),d(i,c.CONSTANTS.INTERACTION_TYPE.NUMERIC,"9"),i),g={correct:"c",incorrect:"i",unanticipated:"u",neutral:"n"},v=u.default.invert(S),m=u.default.invert(f),C=u.default.invert(T),I=u.default.invert(N),E=u.default.invert(p),h=u.default.invert(O),_=u.default.invert(A),R=u.default.invert(g),b="^^",y="|",L="&",M="*",D="#",P="$";function U(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e=e.split(n).join(t[n]));return e}function j(e){return U(e,f)}function w(e){return U(e,m)}function V(e,t){return e in t?t[e]:e}function x(e){return V(e,T)}function B(e){return V(e,C)}function k(e){var t="";if(!function(e){return!1===e.objectiveProgressStatus&&!1===e.objectiveSatisfiedStatus&&!1===e.objectiveMeasureStatus&&0===e.objectiveNormalizedMeasure}(e)){var n="";n+=x(e.objectiveMeasureStatus),n+=x(e.objectiveProgressStatus),t+=V(n+=x(e.objectiveSatisfiedStatus),O)+L;var i=e.objectiveNormalizedMeasure;t+=u.default.countDecimals(i)>4?i.toFixed(4):i}return t}function G(e){var t={};if(1===e.length&&""===e[0])t={objectiveProgressStatus:!1,objectiveSatisfiedStatus:!1,objectiveMeasureStatus:!1,objectiveNormalizedMeasure:0};else{var n=V(e[0],h);t.objectiveMeasureStatus="true"===B(n.charAt(0)),t.objectiveProgressStatus="true"===B(n.charAt(1)),t.objectiveSatisfiedStatus="true"===B(n.charAt(2)),t.objectiveNormalizedMeasure=Number(e[1])}return t}function F(e,t){for(var n="",i=0;i<e.length;i++)0!==i&&(n+=t),n+=k(e[i]);return n}function q(e){for(var t=[],n=0;n<e.length;n++){var i=G(e[n].split(L));t.push(i)}return t}function Y(e,t){e.objectiveMeasureStatus=t.objectiveMeasureStatus,e.objectiveNormalizedMeasure=t.objectiveNormalizedMeasure,e.objectiveProgressStatus=t.objectiveProgressStatus,e.objectiveSatisfiedStatus=t.objectiveSatisfiedStatus}function Q(e){for(var t=e.getAllChildren(),n=e.getAvailableChildren(),i="",r=0;r<n.length;r++){var o=t.indexOf(n[r]);-1!==o&&(i+=o,r<n.length-1&&(i+="!"))}return i}function W(e,t){var n=e.split("!"),i=t.getAllChildren(),r=[];return n.forEach((function(e){r.push(i[parseInt(e)].id)})),r}function z(e){for(var t="",n=0;n<e.length;n++){0!==n&&(t+=M);var i=e[n];t+=i.id.substring(i.id.lastIndexOf("-")+1)+L,t+=(null!=i.type?V(i.type,A):"")+L,t+=(null!=i.weighting?i.weighting:"")+L,t+=(null!=i.result?V(i.result,g):"")+L,t+=(null!=i.learner_response?j(i.learner_response):"")+L,t+=null!=i.description?j(i.description):""}return t}function H(e,t){for(var n=0;n<t.length;n++){var i=t[n].split(L),r=new s.default;r.id="".concat(e.resourceAddress.replace(".html",""),"-").concat(i[0]),r.type=i[1]?V(i[1],_):void 0,r.weighting=i[2]?Number(i[2]):void 0,u.default.isNumber(i[3])?r.result=+i[3]:r.result=i[3]?V(i[3],R):"",r.learner_response=i[4]?w(i[4]):"",r.description=i[5]?w(i[5]):"",e.runTimeData.interactions.push(r)}}var K={suspend:function(e){var t="";u.default.isEmptyObject(e.globalState.globalObjectives)||(t+=F(u.default.sortByKey(e.globalState.globalObjectives),y));t+=b;for(var n=u.default.retrieveActivitiesList(e.packagingModel),i=0;i<n.length;i++){var o=r.default.getActivityById(n[i].id);t+=x(o.getCompletion(!1))+L,t+=n[i].trackingModel.activityProgressInformation.attemptCount+L,t+=x(o.isSuspended())+L,t+=x(o.getProgressStatus())+L,t+=x(o.isActive()),t+=L+o.getAttemptExperiencedDuration(),o.isLeaf()||!o.getReorderChildren()&&!o.getSelectCountStatus()||(t+=L+Q(o));var s=n[i].runTimeData;if(o.isLeaf()&&(t+=L,t+=(s.completion_status?V(s.completion_status,N):"")+L,t+=s.success_status?V(s.success_status,p):""),n[i].objectives&&n[i].objectives.length>0)t+=D,t+=F(u.default.sortByKey(n[i].trackingModel.objectiveProgressInformation),M);s.interactions&&s.interactions.length>0&&(t+=P,t+=z(s.interactions)),i<n.length-1&&(t+=y)}return t+=b,t+=e.additionalData,U(t=a.default.compress(t),S)},restore:function(e,t){if(e){var n=o.default.clone(),i=r.default.clone();e=U(e,v),t&&(e=a.default.decompress(e));var s=e.split(b);if(""!==s[0]){var l=q(s[0].split(y)),d=u.default.sortByKey(n.globalObjectives);l.forEach((function(e,t){return Y(d[t],e)}))}for(var S=s[1].split(y),f=0;f<S.length;f++){var T=i.allActivities[f],N=(S[f].indexOf(D)>-1?S[f].split(D)[0]:S[f].indexOf(P)>-1?S[f].split(P)[0]:S[f]).split(L),p=B(N[0]),O=parseInt(N[1]);p!==c.CONSTANTS.SCORM.UNKNOWN&&(T.setAttemptProgressStatus(!0),T.setAttemptCompletionStatus("true"===p));var A=B(N[2]),g=B(N[3]),m=B(N[4]);if(T.setSuspended("true"===A),T.setProgressStatus("true"===g),T.setActive("true"===m),T.trackingModel.activityProgressInformation.attemptCount=O,T.trackingModel.attemptProgressInformation.experiencedDuration=parseInt(N[5]),!T.isLeaf()){var C;C=N[6]?W(N[6],T):T.getAllChildren().map((function(e){return e.getId()})),T.setAvailableChildren(C)}if(T.isLeaf()&&(""!==N[6]&&(T.runTimeData.completion_status=V(N[6],I)),""!==N[7]&&(T.runTimeData.success_status=V(N[7],E))),S[f].indexOf(D)>-1){var h=S[f].split(D)[1];h.indexOf(P)>-1&&(h=h.split(P)[0]),h&&function(){var e=q(h.split(M)),t=u.default.sortByKey(T.trackingModel.objectiveProgressInformation);e.forEach((function(e,n){return Y(t[n],e)}))}()}if(T.isLeaf()&&T.hasQuestions()){var _=T.getPrimaryObjective(),R=T.trackingModel.objectiveProgressInformation[_.getId()];T.runTimeData.score.scaled=_.getSuccessStatus()!==c.CONSTANTS.SCORM.UNKNOWN?R.objectiveNormalizedMeasure:void 0}if(S[f].indexOf(P)>-1){var j=S[f].split(P)[1];H(T,j.split(M))}}var w=s[2];return{globalState:n,packagingModel:i.root,additionalData:w}}}};t.default=K},1645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var i=d(n(6357)),r=d(n(4328)),o=d(n(3331)),s=n(5349),a=d(n(383)),u=d(n(6362)),c=d(n(965)),l=d(n(1086));function d(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n){var s,a;if(this.id=e,this.parent=t,n){for(this.parameters=n.parameters,this.leaf=n.leaf,this.sequencingModes=n.sequencingModes,this.deliveryControls=n.deliveryControls,this.randomizationControls=n.randomizationControls,this.limitConditions=n.limitConditions,this.sequencingRules=n.sequencingRules,this.rollupRules=n.rollupRules,this.rollupControls=n.rollupControls,this.rollupConsiderations=n.rollupConsiderations,this.constrainedChoiceConsiderations=n.constrainedChoiceConsiderations,this.presentation=n.presentation,this.identifierRef=n.identifierRef,this.publishIndex=n.publishIndex,this.resourceAddress=n.resourceAddress,this.resourceType=n.resourceType,this.resourceScormType=n.resourceScormType,this.title=n.title,this.visible=n.visible,this.href=n.href,this.guid=n.guid,this.objectives=[],s=0,a=n.objectives.length;s<a;s++)this.objectives.push(new o.default(this,n.objectives[s].satisfiedByMeasure,n.objectives[s].id,n.objectives[s].minNormalizedMeasure,n.objectives[s].maps,n.objectives[s].contributesToRollup,n.objectives[s]));for(this.primaryObjective=this.objectives[0],this.children=[],s=0,a=n.children.length;s<a;s++)this.children.push(new S(n.children[s].getId(),this,n.children[s]));this.trackingModel=new i.default(this,n.trackingModel),this.runTimeData=new r.default(this,n.runTimeData)}else this.parameters=null,this.leaf=!0,this.sequencingModes=null,this.deliveryControls=null,this.randomizationControls=null,this.limitConditions=null,this.sequencingRules=null,this.rollupRules=null,this.rollupControls=null,this.rollupConsiderations=null,this.constrainedChoiceConsiderations=null,this.presentation=null,this.identifierRef=null,this.publishIndex=null,this.resourceAddress=null,this.resourceType=null,this.resourceScormType=null,this.title=null,this.visible=null,this.href=null,this.guid=null,this.objectives=u.default.parseObjectives(this.getId(),this),this.primaryObjective=null,this.children=[],this.trackingModel=new i.default(this),this.runTimeData=new r.default(this)}S.prototype.getId=function(){return this.id},S.prototype.getParameters=function(){return null===this.parameters&&(this.parameters=u.default.parseParameters(this.getId())),this.parameters},S.prototype.getParent=function(){return this.parent},S.prototype.isLeaf=function(){return this.leaf},S.prototype.getAllChildren=function(){return this.children},S.prototype.setAvailableChildren=function(e){return this.trackingModel.setAvailableChildren(e)},S.prototype.getAvailableChildren=function(){return this.trackingModel.getAvailableChildren()},S.prototype.getFirstAvailableChild=function(){return this.trackingModel.getFirstAvailableChild()},S.prototype.getLastAvailableChild=function(){return this.trackingModel.getLastAvailableChild()},S.prototype.getSequencingRules=function(e,t){null===this.sequencingRules&&(this.sequencingRules=u.default.parseSequencingRules(this.getId()));var n=this.sequencingRules[e],i=[];if(t)for(var r=0,o=n.length;r<o;r++){var s=n[r];s.ruleAction===t&&i.push(s)}else i=n;return i},S.prototype.getRollupControls=function(){return null===this.rollupControls&&(this.rollupControls=u.default.parseRollupControls(this.getId())),this.rollupControls},S.prototype.getRollupRules=function(e){var t,n=[];null===this.rollupRules&&(this.rollupRules=u.default.parseRollupRules(this.getId()));for(var i=0,r=this.rollupRules.length;i<r;i++)(t=this.rollupRules[i]).ruleAction===e&&n.push(t);return n},S.prototype.getRollupObjectiveSatisfied=function(){return this.getRollupControls().rollupObjectiveSatisfied},S.prototype.getRollupProgressCompletion=function(){return this.getRollupControls().rollupProgressCompletion},S.prototype.isSequencingControlMode=function(e){return null===this.sequencingModes&&(this.sequencingModes=u.default.parseSequencingControlModes(this.getId())),this.sequencingModes[e]},S.prototype.isActive=function(){return this.trackingModel.getActive()},S.prototype.isSuspended=function(){return this.trackingModel.getSuspended()},S.prototype.isTracked=function(){return null===this.deliveryControls&&(this.deliveryControls=u.default.parseDeliveryControls(this.getId())),this.deliveryControls[s.CONSTANTS.DELIVERY_CONTROLS.TRACKED]},S.prototype.isAttempted=function(){return!0===this.getProgressStatus()&&this.getAttemptCount()>0},S.prototype.getCompletion=function(e){return this.isTracked()&&this.getAttemptProgressStatus(e)===s.CONSTANTS.SCORM.TRUE?this.getAttemptCompletionStatus(e):s.CONSTANTS.SCORM.UNKNOWN},S.prototype.getSatisfiedStatus=function(e,t){var n=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()&&n.getProgressStatus(t)===s.CONSTANTS.SCORM.TRUE?n.getSatisfiedStatus(t):s.CONSTANTS.SCORM.UNKNOWN},S.prototype.isObjectiveStatusKnown=function(e,t){var n=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()?n.getProgressStatus(t):s.CONSTANTS.SCORM.UNKNOWN},S.prototype.isObjectiveMeasureKnown=function(e,t){var n=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()?n.getMeasureStatus(t):s.CONSTANTS.SCORM.UNKNOWN},S.prototype.isObjectiveMeasureGreaterThan=function(e,t,n){var i=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()&&this.isObjectiveMeasureKnown(e)===s.CONSTANTS.SCORM.TRUE?!0===i.getMeasureStatus(n)&&i.getNormalizedMeasure(n)>t:s.CONSTANTS.SCORM.UNKNOWN},S.prototype.isObjectiveMeasureLessThan=function(e,t,n){var i=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()&&this.isObjectiveMeasureKnown(e)===s.CONSTANTS.SCORM.TRUE?!0===i.getMeasureStatus(n)&&i.getNormalizedMeasure(n)<t:s.CONSTANTS.SCORM.UNKNOWN},S.prototype.isActivityProgressKnown=function(e){return this.isTracked()?this.getProgressStatus()===s.CONSTANTS.SCORM.TRUE&&this.getAttemptProgressStatus(e)===s.CONSTANTS.SCORM.TRUE:s.CONSTANTS.SCORM.UNKNOWN},S.prototype.isAttemptLimitExceeded=function(){return this.isTracked()?!0===this.getProgressStatus()&&!0===this.getAttemptControl()&&this.getAttemptCount()>=this.getAttemptLimit():s.CONSTANTS.SCORM.UNKNOWN},S.prototype.getRollupSet=function(){for(var e,t,n=c.default.getAvailableActivitiesList(),i=l.default.getCurrentActivity(),r=this.getObjectives(),o=[],s=this.getPath(!1,null),u=[],d=0,S=r.length;d<S;d++)e=r[d],u=u.concat(e.getReadMappedActivities());for(var f=0,T=(u=a.default.onlyUnique(u)).length;f<T;f++)t=c.default.getActivityById(u[f]),s=s.concat(t.getPath(!1,null));s=a.default.onlyUnique(s);for(var N=0,p=n.length;N<p;N++)t=n[N],a.default.contains(s,t)&&t!==i&&o.push(t);return o.push(i),o},S.prototype.isCompletionSetByContent=function(){return null===this.deliveryControls&&(this.deliveryControls=u.default.parseDeliveryControls(this.getId())),this.deliveryControls[s.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]},S.prototype.isObjectiveSetByContent=function(){return null===this.deliveryControls&&(this.deliveryControls=u.default.parseDeliveryControls(this.getId())),this.deliveryControls[s.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]},S.prototype.getRandomizationTiming=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]},S.prototype.getSelectCountStatus=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),void 0!==this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]},S.prototype.getSelectCount=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),+this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]},S.prototype.getReorderChildren=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]},S.prototype.getSelectionTiming=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]},S.prototype.getPath=function(e,t,n){var i=[],r=this;for(e&&null!==t&&(r=t,t=n?n.getParent():null);r!==t;)i.push(r),r=r.getParent();return e&&(i=i.reverse()),i},S.prototype.prepareForNewAttempt=function(e,t){var n,i,o;if(this.runTimeData=new r.default(this),this.trackingModel.prepareForNewAttempt(e),t)for(i=0,o=(n=this.getAvailableChildren()).length;i<o;i++)n[i].prepareForNewAttempt(e,t)},S.prototype.incrementAttemptCount=function(){this.trackingModel.incrementAttemptCount()},S.prototype.getAttemptCount=function(){return this.trackingModel.getAttemptCount()},S.prototype.setProgressStatus=function(e){this.trackingModel.setProgressStatus(e)},S.prototype.getProgressStatus=function(){return this.trackingModel.getProgressStatus()},S.prototype.setAttemptProgressStatus=function(e){return this.trackingModel.setAttemptProgressStatus(e)},S.prototype.getAttemptProgressStatus=function(e){return this.trackingModel.getAttemptProgressStatus(e)},S.prototype.setAttemptCompletionStatus=function(e){return this.trackingModel.setAttemptCompletionStatus(e)},S.prototype.getAttemptCompletionStatus=function(e){return this.trackingModel.getAttemptCompletionStatus(e)},S.prototype.setActive=function(e){this.trackingModel.setActive(e)},S.prototype.setSuspended=function(e){this.trackingModel.setSuspended(e)},S.prototype.getAttemptControl=function(){return null===this.limitConditions&&(this.limitConditions=u.default.parseLimitConditions(this.getId())),void 0!==this.limitConditions[s.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]},S.prototype.getAttemptLimit=function(){return null===this.limitConditions&&(this.limitConditions=u.default.parseLimitConditions(this.getId())),this.limitConditions[s.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]},S.prototype.getAttemptAbsoluteDurationLimit=function(){return null===this.limitConditions&&(this.limitConditions=u.default.parseLimitConditions(this.getId())),this.limitConditions[s.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]},S.prototype.findCommonAncestor=function(e){var t=this.getParent();if(!e)return null;if(e===c.default.getRoot())return e;if(this===e)return t;if(t===e.getParent())return t;for(var n=this.getPath(!1,null),i=e.getPath(!1,null);n.length;)for(var r=n.shift(),o=i.length-1;o>=0;o--)if(i[o]===r)return r;a.default.logger.warn("Could not find common ancestor, please check function implementation!")},S.prototype.isSiblingTo=function(e){return this.isLeaf()||a.default.logger.warn("isSiblingTo function applied to not leaf activity!"),this.getParent()===e.getParent()},S.prototype.isDescendantOf=function(e){for(var t,n=e.getAvailableChildren(),i=0,r=n.length;i<r;i++)if((t=n[i]).isLeaf()){if(this===t)return!0}else if(this.isDescendantOf(t))return!0;return!1},S.prototype.getActivitiesBetween=function(e,t,n){var i,r=[],o=!1;if(this.isSiblingTo(e))for(var s=this.getParent().getAvailableChildren(),a=0,u=s.length;a<u;a++)if((i=s[a])!==this){if(o){if(i===e){n&&r.push(i);break}r.push(i)}}else o=!0,t&&r.push(i);return r},S.prototype.isForwardTo=function(e){var t=function e(t,n,i){for(var r,o,s=i.getAvailableChildren(),a=0,u=s.length;a<u;a++){if((r=s[a])===t)return!1;if(r===n)return!0;if(!r.isLeaf()&&void 0!==(o=e(t,n,r)))return o}}(this,e,this.findCommonAncestor(e));if(void 0===t)throw new Error("error in isForwardTo function, probably findCommonAncestor is not working properly");return t},S.prototype.getObjectives=function(){return this.objectives.length||this.objectives.push(new o.default(this,!1,"selfGeneratedPrimaryObjective",1,null,!0)),this.objectives},S.prototype.getObjective=function(e){for(var t,n=this.getObjectives(),i=0,r=n.length;i<r;i++)if((t=n[i]).getId()===e)return t;a.default.logger.error("Could not found objective by id: ".concat(e))},S.prototype.getPrimaryObjective=function(){return null===this.primaryObjective&&(this.primaryObjective=this.getObjectives()[0]),this.primaryObjective},S.prototype.getRollupObjectiveMeasureWeight=function(){return this.getRollupControls().objectiveMeasureWeight},S.prototype.hasQuestions=function(){return this.objectives.some((function(e){return/^q-/.test(e.id)}))},S.prototype.getResourceUrl=function(){return this.resourceAddress},S.prototype.getTitle=function(){return null===this.title&&(this.title=u.default.getTitle(this.getId())),this.title},S.prototype.isVisible=function(){return null===this.visible&&(this.visible="true"===u.default.getVisibility(this.getId())),this.visible},S.prototype.getIdRef=function(){return null===this.identifierRef&&(this.identifierRef=u.default.getIdRef(this.getId())),this.identifierRef},S.prototype.getPublishIndex=function(){return null===this.publishIndex&&(this.publishIndex=u.default.getPublishIndex(this.getId())),this.publishIndex},S.prototype.getRollupConsiderations=function(){return this.rollupConsiderations||(this.rollupConsiderations=u.default.parseRollupConsiderations(this.getId())),this.rollupConsiderations},S.prototype.getConstrainedChoiceConsiderations=function(){return this.constrainedChoiceConsiderations||(this.constrainedChoiceConsiderations=u.default.parseConstrainedChoiceConsiderations(this.getId())),this.constrainedChoiceConsiderations},S.prototype.getPreventActivation=function(){return this.getConstrainedChoiceConsiderations().preventActivation},S.prototype.getConstrainChoice=function(){return this.getConstrainedChoiceConsiderations().constrainChoice},S.prototype.getRequiredForSatisfied=function(){return this.getRollupConsiderations().requiredForSatisfied},S.prototype.getRequiredForNotSatisfied=function(){return this.getRollupConsiderations().requiredForNotSatisfied},S.prototype.getRequiredForCompleted=function(){return this.getRollupConsiderations().requiredForCompleted},S.prototype.getRequiredForIncomplete=function(){return this.getRollupConsiderations().requiredForIncomplete},S.prototype.getMeasureSatisfactionIfActive=function(){return this.getRollupConsiderations().measureSatisfactionIfActive},S.prototype.isButtonHidden=function(e){return null===this.presentation&&(this.presentation=u.default.parsePresentation(this.getId())),this.presentation.indexOf(e)>-1},S.prototype.transferLocalStateToGlobal=function(){var e,t;for(e=0,t=this.objectives.length;e<t;e++)"function"==typeof this.objectives[e].transferLocalStateToGlobal&&this.objectives[e].transferLocalStateToGlobal()},S.prototype.suspend=function(){for(var e,t,n={id:this.id,children:[],trackingModel:this.trackingModel.suspend(),runTimeData:this.runTimeData.suspend(),objectives:[]},i=0,r=this.objectives.length;i<r;i++)t=this.objectives[i],n.objectives.push(t.suspend());for(var o=0,s=this.children.length;o<s;o++)e=this.children[o],n.children.push(e.suspend());return n},S.prototype.resume=function(e){var t,n,i,r;for(t=0,n=e.children.length;t<n;t++)i=e.children[t],this.children[t].resume(i);for(t=0,n=e.objectives.length;t<n;t++)r=e.objectives[t],this.objectives[t].resume(r);this.trackingModel.resume(e.trackingModel),this.runTimeData.resume(e.runTimeData)},S.prototype.getAttemptExperiencedDuration=function(){return this.trackingModel.getAttemptExperiencedDuration()},S.prototype.setAttemptStartTime=function(){this.trackingModel.setAttemptStartTime()},S.prototype.setAttemptEndTime=function(){this.trackingModel.setAttemptEndTime()}},7217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=o(n(1086)),r=o(n(383));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){var r;this.globalObjectiveId=e,t?(n&&(r=i.default.getObjectiveGlobalToSystem(e))?(this.objectiveProgressStatus=r.objectiveProgressStatus,this.objectiveSatisfiedStatus=r.objectiveSatisfiedStatus,this.objectiveMeasureStatus=r.objectiveMeasureStatus,this.objectiveNormalizedMeasure=r.objectiveNormalizedMeasure):(this.objectiveProgressStatus=t.objectiveProgressStatus,this.objectiveSatisfiedStatus=t.objectiveSatisfiedStatus,this.objectiveMeasureStatus=t.objectiveMeasureStatus,this.objectiveNormalizedMeasure=t.objectiveNormalizedMeasure,i.default.setObjectiveGlobalToSystem(e,this)),this.mappedActivities=t.mappedActivities):((r=i.default.getObjectiveGlobalToSystem(e))?(this.objectiveProgressStatus=r.objectiveProgressStatus,this.objectiveSatisfiedStatus=r.objectiveSatisfiedStatus,this.objectiveMeasureStatus=r.objectiveMeasureStatus,this.objectiveNormalizedMeasure=r.objectiveNormalizedMeasure):(this.objectiveProgressStatus=!1,this.objectiveSatisfiedStatus=!1,this.objectiveMeasureStatus=!1,this.objectiveNormalizedMeasure=0,i.default.setObjectiveGlobalToSystem(e,this)),this.mappedActivities={readSatisfiedStatus:[],writeSatisfiedStatus:[],readNormalizedMeasure:[],writeNormalizedMeasure:[]})}s.prototype.getProgressStatus=function(){return this.objectiveProgressStatus},s.prototype.setProgressStatus=function(e){this.objectiveProgressStatus=e,i.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.getSatisfiedStatus=function(){return this.objectiveSatisfiedStatus},s.prototype.setSatisfiedStatus=function(e){this.objectiveSatisfiedStatus=e,i.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.getMeasureStatus=function(){return this.objectiveMeasureStatus},s.prototype.setMeasureStatus=function(e){this.objectiveMeasureStatus=e,i.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.getNormalizedMeasure=function(){return this.objectiveNormalizedMeasure},s.prototype.setNormalizedMeasure=function(e){this.objectiveNormalizedMeasure=e,i.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.registerMappedActivity=function(e,t){t.readSatisfiedStatus&&(r.default.contains(this.mappedActivities.readSatisfiedStatus,e)||this.mappedActivities.readSatisfiedStatus.push(e)),t.writeSatisfiedStatus&&(r.default.contains(this.mappedActivities.writeSatisfiedStatus,e)||this.mappedActivities.writeSatisfiedStatus.push(e)),t.readNormalizedMeasure&&(r.default.contains(this.mappedActivities.readNormalizedMeasure,e)||this.mappedActivities.readNormalizedMeasure.push(e)),t.writeNormalizedMeasure&&(r.default.contains(this.mappedActivities.writeNormalizedMeasure,e)||this.mappedActivities.writeNormalizedMeasure.push(e))},s.prototype.getMappedActivities=function(e){return this.mappedActivities[e]}},452:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.id=void 0,this.type=void 0,this.objectives=[],this.timestamp=void 0,this.correct_responses=[],this.weighting=void 0,this.learner_response=void 0,this.result=void 0,this.latency=void 0,this.description=void 0}},3557:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){this.type=e,this.activityId=t,this.requestResult=null,this.evaluationResult=null}},3331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=a(n(383)),r=n(5349),o=a(n(1086)),s=a(n(2643));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o,s,a){this.activity=e,this.id=n,this.satisfiedByMeasure=t||!1,this.minNormalizedMeasure=void 0!==i?i:1,this.maps=o||[],this.contributesToRollup=s||!1,a?(this.score={raw:a.score.raw,min:a.score.min,max:a.score.max},this.completion_status=a.completion_status,this.progress_measure=a.progress_measure,this.description=a.description,this.satisfiedStatusChangedDuringAttempt=a.satisfiedStatusChangedDuringAttempt,this.normalizedMeasureChangedDuringAttempt=a.normalizedMeasureChangedDuringAttempt):(this.score={raw:void 0,min:void 0,max:void 0},this.completion_status=r.CONSTANTS.UNKNOWN,this.progress_measure=void 0,this.description=void 0,this.satisfiedStatusChangedDuringAttempt=!1,this.normalizedMeasureChangedDuringAttempt=!1)}u.prototype.getId=function(){return this.id},u.prototype.hasGlobalsObjectives=function(){return this.maps.length>0},u.prototype.getProgressStatus=function(e){var t,n,i=r.CONSTANTS.SCORM.UNKNOWN;if(this.getSatisfiedByMeasure())return this.getMeasureStatus(e)===r.CONSTANTS.SCORM.TRUE?r.CONSTANTS.SCORM.TRUE:r.CONSTANTS.SCORM.FALSE;if(i=this.activity.trackingModel.getObjectiveProgressStatus(this.getId(),e))return i;if(this.hasGlobalsObjectives())for(t=0,n=this.maps.length;t<n;t++)if(this.maps[t].readSatisfiedStatus){i=o.default.getGlobalObjective(this.maps[t].targetObjectiveID).getProgressStatus();break}return i},u.prototype.setProgressStatus=function(e){this.activity.trackingModel.setObjectiveProgressStatus(this.getId(),e)},u.prototype.getSatisfiedStatus=function(e){var t,n,i,s=r.CONSTANTS.SCORM.UNKNOWN;if(this.getSatisfiedByMeasure()&&(this.getMeasureStatus(!1)&&(!this.activity.isActive()||this.activity.isActive()&&this.activity.getMeasureSatisfactionIfActive())?+this.getNormalizedMeasure(!1)>=+this.getMinimumSatisfiedNormalizedMeasure()?(this.setProgressStatus(r.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(r.CONSTANTS.SCORM.TRUE)):(this.setProgressStatus(r.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(r.CONSTANTS.SCORM.FALSE)):this.setProgressStatus(r.CONSTANTS.SCORM.FALSE)),this.activity.trackingModel.getObjectiveProgressStatus(this.getId(),e)===r.CONSTANTS.SCORM.TRUE&&(s=this.activity.trackingModel.getObjectiveSatisfiedStatus(this.getId(),e)),this.satisfiedStatusChangedDuringAttempt)return s;if(this.hasGlobalsObjectives())for(n=0,i=this.maps.length;n<i;n++)if(this.maps[n].readSatisfiedStatus){(t=o.default.getGlobalObjective(this.maps[n].targetObjectiveID)).getProgressStatus()===r.CONSTANTS.SCORM.TRUE&&(s=t.getSatisfiedStatus());break}return s},u.prototype.setSatisfiedStatus=function(e){this.satisfiedStatusChangedDuringAttempt=!0,this.activity.trackingModel.setObjectiveSatisfiedStatus(this.getId(),e)},u.prototype.getMeasureStatus=function(e){var t,n,i=r.CONSTANTS.SCORM.UNKNOWN;if(i=this.activity.trackingModel.getObjectiveMeasureStatus(this.getId(),e))return i;if(this.hasGlobalsObjectives())for(t=0,n=this.maps.length;t<n;t++)if(this.maps[t].readNormalizedMeasure){i=o.default.getGlobalObjective(this.maps[t].targetObjectiveID).getMeasureStatus();break}return i},u.prototype.setMeasureStatus=function(e){this.activity.trackingModel.setObjectiveMeasureStatus(this.getId(),e)},u.prototype.getNormalizedMeasure=function(e){var t,n,i,s;if(this.activity.trackingModel.getObjectiveMeasureStatus(this.getId(),e)===r.CONSTANTS.SCORM.TRUE&&(t=this.activity.trackingModel.getObjectiveNormalizedMeasure(this.getId(),e)),this.normalizedMeasureChangedDuringAttempt)return t;if(this.hasGlobalsObjectives())for(i=0,s=this.maps.length;i<s;i++)if(this.maps[i].readNormalizedMeasure){(n=o.default.getGlobalObjective(this.maps[i].targetObjectiveID)).getMeasureStatus()===r.CONSTANTS.SCORM.TRUE&&(t=n.getNormalizedMeasure());break}return t},u.prototype.setNormalizedMeasure=function(e){this.normalizedMeasureChangedDuringAttempt=!0,this.activity.trackingModel.setObjectiveNormalizedMeasure(this.getId(),e),this.getSatisfiedByMeasure()&&!this.contributesToRollup&&s.default.process(this.activity,this.id)},u.prototype.getScoreScaled=function(){return this.getMeasureStatus(!1)===r.CONSTANTS.SCORM.TRUE?this.getNormalizedMeasure(!1):void 0},u.prototype.setScoreScaled=function(e){this.setMeasureStatus(!0),this.setNormalizedMeasure(e)},u.prototype.getScoreRaw=function(){return this.score.raw},u.prototype.setScoreRaw=function(e){this.score.raw=e},u.prototype.getScoreMin=function(){return this.score.min},u.prototype.setScoreMin=function(e){this.score.min=e},u.prototype.getScoreMax=function(){return this.score.min},u.prototype.setScoreMax=function(e){this.score.min=e},u.prototype.getSuccessStatus=function(){return this.getProgressStatus(!1)===r.CONSTANTS.SCORM.TRUE?this.getSatisfiedStatus(!1)===r.CONSTANTS.SCORM.TRUE?r.CONSTANTS.SCORM.PASSED:r.CONSTANTS.SCORM.FAILED:r.CONSTANTS.SCORM.UNKNOWN},u.prototype.setSuccessStatus=function(e){switch(e){case r.CONSTANTS.SCORM.PASSED:this.setProgressStatus(r.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(r.CONSTANTS.SCORM.TRUE);break;case r.CONSTANTS.SCORM.FAILED:this.setProgressStatus(r.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(r.CONSTANTS.SCORM.FALSE);break;case r.CONSTANTS.SCORM.UNKNOWN:this.setProgressStatus(r.CONSTANTS.SCORM.FALSE),this.setSatisfiedStatus(r.CONSTANTS.SCORM.FALSE)}},u.prototype.getCompletionStatus=function(){return this.completion_status},u.prototype.setCompletionStatus=function(e){this.completion_status=e},u.prototype.getProgressMeasure=function(){return this.progress_measure},u.prototype.setProgressMeasure=function(e){this.progress_measure=e},u.prototype.getDescription=function(){return this.description},u.prototype.setDescription=function(e){this.description=e},u.prototype.getSatisfiedByMeasure=function(){return this.satisfiedByMeasure},u.prototype.getMinimumSatisfiedNormalizedMeasure=function(){return this.minNormalizedMeasure},u.prototype.transferLocalStateToGlobal=function(){var e,t=this.getId();if(this.activity.isTracked()&&this.hasGlobalsObjectives())for(var n=0,i=this.maps.length;n<i;n++)e=o.default.getGlobalObjective(this.maps[n].targetObjectiveID),this.maps[n].writeSatisfiedStatus&&this.satisfiedStatusChangedDuringAttempt&&(e.setProgressStatus(r.CONSTANTS.SCORM.TRUE),e.setSatisfiedStatus(this.activity.trackingModel.getObjectiveSatisfiedStatus(t,!1))),this.maps[n].writeNormalizedMeasure&&this.normalizedMeasureChangedDuringAttempt&&(e.setMeasureStatus(r.CONSTANTS.SCORM.TRUE),e.setNormalizedMeasure(this.activity.trackingModel.getObjectiveNormalizedMeasure(t,!1)));this.satisfiedStatusChangedDuringAttempt=!1,this.normalizedMeasureChangedDuringAttempt=!1},u.prototype.getReadMappedActivities=function(){var e,t=[];if(this.hasGlobalsObjectives())for(var n=0,r=this.maps.length;n<r;n++)e=o.default.getGlobalObjective(this.maps[n].targetObjectiveID),this.maps[n].writeSatisfiedStatus&&(t=t.concat(e.getMappedActivities("readSatisfiedStatus"))),this.maps[n].writeNormalizedMeasure&&(t=t.concat(e.getMappedActivities("readNormalizedMeasure")));return i.default.onlyUnique(t)},u.prototype.suspend=function(){return{score:{raw:this.score.raw},progress_measure:this.progress_measure,completion_status:this.completion_status}},u.prototype.resume=function(e){this.score.raw=e.score.raw,this.progress_measure=e.progress_measure,this.completion_status=e.completion_status}},7904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(5349);function r(e,t){this.operator=e||i.CONSTANTS.OPERATORS.NO_OP,this.condition=t}r.prototype.negate=function(e){return e===i.CONSTANTS.SCORM.UNKNOWN?i.CONSTANTS.SCORM.UNKNOWN:!e},r.prototype.evaluate=function(e){switch(this.condition){case i.CONSTANTS.CONDITIONS.SATISFIED:return e.getSatisfiedStatus(void 0,!1);case i.CONSTANTS.CONDITIONS.OBJECTIVE_STATUS_KNOWN:return e.isObjectiveStatusKnown(void 0,!1);case i.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_KNOWN:return e.isObjectiveMeasureKnown(void 0,!1);case i.CONSTANTS.CONDITIONS.COMPLETED:return e.getCompletion(!1);case i.CONSTANTS.CONDITIONS.ACTIVITY_PROGRESS_KNOWN:return e.isActivityProgressKnown(!1);case i.CONSTANTS.CONDITIONS.ATTEMPTED:return e.isAttempted();case i.CONSTANTS.CONDITIONS.ATTEMPT_LIMIT_EXCEEDED:return e.isAttemptLimitExceeded();case i.CONSTANTS.CONDITIONS.TIME_LIMIT_EXCEEDED:case i.CONSTANTS.CONDITIONS.OUTSIDE_AVAILABLE_TIME_RANGE:}}},9076:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(5349);function r(e,t,n,r,o,s){this.childActivitySet=e||i.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL,this.minimumCount=t||0,this.minimumPercent=n||0,this.rollupConditions=r||[],this.conditionCombination=o||i.CONSTANTS.CONDITION_COMBINATIONS.ALL,this.ruleAction=s}r.prototype.applyConditionCombination=function(e){var t,n,r;if(0===e.length)return i.CONSTANTS.SCORM.UNKNOWN;if(this.conditionCombination===i.CONSTANTS.CONDITION_COMBINATIONS.ALL)for(r=!0,t=0,n=e.length;t<n;t++){if(e[t]===i.CONSTANTS.SCORM.FALSE)return i.CONSTANTS.SCORM.FALSE;r=e[t]===i.CONSTANTS.SCORM.UNKNOWN||r===i.CONSTANTS.SCORM.UNKNOWN?i.CONSTANTS.SCORM.UNKNOWN:i.CONSTANTS.SCORM.TRUE}else if(this.conditionCombination===i.CONSTANTS.CONDITION_COMBINATIONS.ANY)for(t=0,n=e.length;t<n;t++){if(e[t]===i.CONSTANTS.SCORM.TRUE)return i.CONSTANTS.SCORM.TRUE;r=e[t]===i.CONSTANTS.SCORM.UNKNOWN||r===i.CONSTANTS.SCORM.UNKNOWN?i.CONSTANTS.SCORM.UNKNOWN:i.CONSTANTS.SCORM.FALSE}return r}},6846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(5349);function r(e,t,n,r){this.condition=e||void 0,this.operator=t||i.CONSTANTS.OPERATORS.NO_OP,this.measureThreshold=n?+n:void 0,this.referencedObjective=r||void 0}r.prototype.negate=function(e){return e===i.CONSTANTS.SCORM.UNKNOWN?i.CONSTANTS.SCORM.UNKNOWN:!e},r.prototype.evaluate=function(e){switch(this.condition){case i.CONSTANTS.CONDITIONS.SATISFIED:return e.getSatisfiedStatus(this.referencedObjective,!0);case i.CONSTANTS.CONDITIONS.OBJECTIVE_STATUS_KNOWN:return e.isObjectiveStatusKnown(this.referencedObjective,!0);case i.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_KNOWN:return e.isObjectiveMeasureKnown(this.referencedObjective,!0);case i.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_GREATER_THAN:return e.isObjectiveMeasureGreaterThan(this.referencedObjective,this.measureThreshold,!0);case i.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_LESS_THAN:return e.isObjectiveMeasureLessThan(this.referencedObjective,this.measureThreshold,!0);case i.CONSTANTS.CONDITIONS.COMPLETED:return e.getCompletion(!0);case i.CONSTANTS.CONDITIONS.ACTIVITY_PROGRESS_KNOWN:return e.isActivityProgressKnown(!0);case i.CONSTANTS.CONDITIONS.ATTEMPTED:return e.isAttempted();case i.CONSTANTS.CONDITIONS.ATTEMPT_LIMIT_EXCEEDED:return e.isAttemptLimitExceeded();case i.CONSTANTS.CONDITIONS.TIME_LIMIT_EXCEEDED:case i.CONSTANTS.CONDITIONS.OUTSIDE_AVAILABLE_TIME_RANGE:break;case i.CONSTANTS.CONDITIONS.ALWAYS:return!0}}},4328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var i=S(n(383)),r=S(n(1119)),o=S(n(5529)),s=S(n(6362)),a=n(5349),u=S(n(4874)),c=S(n(452)),l=S(n(940)),d=["activity","trackingModel"];function S(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n,i;this.activity=e,this.trackingModel=e.trackingModel,t?(this.comentsFromLearner=t.comentsFromLearner,this.objectives=T(e,t.objectives),this.interactions=t.interactions,this.commentsFromLMS=t.commentsFromLMS,this.learnerPreferences=(n=t.learnerPreferences,(i={}).audio_level=n.audio_level,i.language=n.language,i.delivery_speed=n.delivery_speed,i.audio_captioning=n.audio_captioning,i),this.mode=t.mode,this.location=t.location,this.launch_data=t.launch_data,this.learner_id=t.learner_id,this.learner_name=t.learner_name,this.session_time_start=t.session_time_start,this.session_time=t.session_time,this.total_time=t.total_time,this.suspend_data=t.suspend_data,this.time_limit_action=t.time_limit_action,this.completion_status=t.completion_status,this.completion_threshold=t.completion_threshold,this.progress_measure=t.progress_measure,this.credit=t.credit,this.entry=t.entry,this.exit=t.exit,this.success_status=t.success_status,this.nav_request=t.nav_request,this.scaled_passing_score=t.scaled_passing_score,this.score=function(e){var t={};return t.scaled=e.scaled,t.raw=e.raw,t.min=e.min,t.max=e.max,t}(t.score)):(this.comentsFromLearner=[],this.objectives=T(e),this.interactions=[],this.commentsFromLMS=[],this.learnerPreferences={audio_level:"1",language:"",delivery_speed:"1",audio_captioning:"0"},this.mode="normal",this.location=void 0,this.launch_data=s.default.getLaunchData(e.getId()),this.learner_id="learnerId",this.learner_name="learnerName",this.session_time_start=void 0,this.session_time=void 0,this.total_time="PT0H0M0S",this.suspend_data=void 0,this.time_limit_action=s.default.getTimeLimitAction(e.getId())||"continue,no message",this.completion_status=a.CONSTANTS.SCORM.UNKNOWN,this.completion_threshold=s.default.getCompletionThreshold(e.getId()),this.progress_measure=void 0,this.credit=a.CONSTANTS.CMI.CREDIT,this.entry=a.CONSTANTS.CMI.ENTRY.AB_INITIO,this.exit="",this.success_status=a.CONSTANTS.SCORM.UNKNOWN,this.nav_request="_none_",this.scaled_passing_score=function(e){var t=e.getPrimaryObjective();return t.satisfiedByMeasure?void 0!==t.minNormalizedMeasure?t.minNormalizedMeasure:1:void 0}(e),this.score={scaled:void 0,raw:void 0,min:void 0,max:void 0})}function T(e,t){for(var n,i=e.getObjectives(),r=[],o=0,s=i.length;o<s;o++)""!==(n=i[o].getId())&&"selfGeneratedPrimaryObjective"!==n&&r.push(i[o]);if(t)for(var a=0,c=t.length;a<c;a++)t[a]instanceof u.default&&r.push(new u.default(t[a]));return r}f.prototype.getCommentsFromLearner=function(){return this.comentsFromLearner},f.prototype.initializeCommentsFromLearner=function(){this.comentsFromLearner[this.comentsFromLearner.length]={}},f.prototype.getCommentsFromLMS=function(){return this.commentsFromLMS},f.prototype.initializeInteraction=function(){this.interactions[this.interactions.length]=new c.default},f.prototype.getInteractions=function(){return this.interactions},f.prototype.getLearnerPreferences=function(){return this.learnerPreferences},f.prototype.initializeObjective=function(){this.objectives[this.objectives.length]=new u.default},f.prototype.getObjectives=function(){return this.objectives},f.prototype.getCompletionStatus=function(){return this.completion_status},f.prototype.setCompletionStatus=function(e){switch(e){case a.CONSTANTS.COURSE_STATUSES.UNKNOWN:this.trackingModel.setAttemptProgressStatus(!1);break;case a.CONSTANTS.COURSE_STATUSES.COMPLETED:this.trackingModel.setAttemptProgressStatus(!0),this.trackingModel.setAttemptCompletionStatus(!0);break;case a.CONSTANTS.COURSE_STATUSES.INCOMPLETE:case a.CONSTANTS.COURSE_STATUSES.NOT_ATTEMPTED:this.trackingModel.setAttemptProgressStatus(!0),this.trackingModel.setAttemptCompletionStatus(!1)}this.completion_status=e},f.prototype.setExit=function(e){switch(e){case a.CONSTANTS.CMI.EXIT.LOGOUT:case a.CONSTANTS.CMI.EXIT.TIMEOUT:l.default.process(a.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL);break;case a.CONSTANTS.CMI.EXIT.SUSPEND:this.trackingModel.setSuspended(!0)}},f.prototype.getSuccessStatus=function(){return this.activity.getPrimaryObjective().getSuccessStatus()},f.prototype.setSuccessStatus=function(e){var t=this.activity.getPrimaryObjective();t.getSatisfiedByMeasure()||t.setSuccessStatus(e)},f.prototype.setScoreScaled=function(e){var t=this.activity.getPrimaryObjective();void 0!==this.scaled_passing_score&&(+this.scaled_passing_score<=+e?this.setSuccessStatus(a.CONSTANTS.COURSE_STATUSES.PASSED):this.setSuccessStatus(a.CONSTANTS.COURSE_STATUSES.FAILED)),t.setScoreScaled(e),this.score.scaled=e},f.prototype.getMaxTimeAllowed=function(){return this.activity.getAttemptAbsoluteDurationLimit()},f.prototype.setProgressMeasure=function(e){void 0!==this.completion_threshold&&(+this.completion_threshold<=+e?this.setCompletionStatus(a.CONSTANTS.COURSE_STATUSES.COMPLETED):this.setCompletionStatus(a.CONSTANTS.COURSE_STATUSES.INCOMPLETE)),this.progress_measure=e},f.prototype.initialize=function(){this.session_time=void 0,this.nav_request="_none_",this.session_time_start=new Date},f.prototype.setValue=function(e,t,n){switch(n.paramWOindex){case"cmi.comments_from_learner.n.comment":n.n===this.getCommentsFromLearner().length&&this.initializeCommentsFromLearner(),this.getCommentsFromLearner()[n.n].comment=t;break;case"cmi.comments_from_learner.n.location":n.n===this.getCommentsFromLearner().length&&this.initializeCommentsFromLearner(),this.getCommentsFromLearner()[n.n].location=t;break;case"cmi.comments_from_learner.n.timestamp":n.n===this.getCommentsFromLearner().length&&this.initializeCommentsFromLearner(),this.getCommentsFromLearner()[n.n].timestamp=t;break;case"cmi.completion_status":this.completion_threshold||this.setCompletionStatus(t);break;case"cmi.exit":this.exit=t;break;case"cmi.interactions.n.id":n.n===this.getInteractions().length&&this.initializeInteraction(),this.getInteractions()[n.n].id=t;break;case"cmi.interactions.n.type":this.getInteractions()[n.n].type=t;break;case"cmi.interactions.n.objectives.m.id":this.getInteractions()[n.n].objectives[n.m]=this.getInteractions()[n.n].objectives[n.m]||{},this.getInteractions()[n.n].objectives[n.m].id=t;break;case"cmi.interactions.n.timestamp":this.getInteractions()[n.n].timestamp=t;break;case"cmi.interactions.n.correct_responses.m.pattern":this.getInteractions()[n.n].correct_responses[n.m]=this.getInteractions()[n.n].correct_responses[n.m]||{},this.getInteractions()[n.n].correct_responses[n.m].pattern=t;break;case"cmi.interactions.n.weighting":this.getInteractions()[n.n].weighting=t;break;case"cmi.interactions.n.learner_response":this.getInteractions()[n.n].learner_response=t;break;case"cmi.interactions.n.result":this.getInteractions()[n.n].result=t;break;case"cmi.interactions.n.latency":this.getInteractions()[n.n].latency=t;break;case"cmi.interactions.n.description":this.getInteractions()[n.n].description=t;break;case"cmi.learner_preference.audio_level":this.getLearnerPreferences().audio_level=t;break;case"cmi.learner_preference.language":this.getLearnerPreferences().language=t;break;case"cmi.learner_preference.delivery_speed":this.getLearnerPreferences().delivery_speed=t;break;case"cmi.learner_preference.audio_captioning":this.getLearnerPreferences().audio_captioning=t;break;case"cmi.location":this.location=t;break;case"cmi.objectives.n.id":n.n===this.getObjectives().length&&this.initializeObjective(),this.getObjectives()[n.n].id=t;break;case"cmi.objectives.n.score.scaled":this.getObjectives()[n.n].setScoreScaled(t);break;case"cmi.objectives.n.score.raw":this.getObjectives()[n.n].setScoreRaw(t);break;case"cmi.objectives.n.score.max":this.getObjectives()[n.n].setScoreMax(t);break;case"cmi.objectives.n.score.min":this.getObjectives()[n.n].setScoreMin(t);break;case"cmi.objectives.n.success_status":this.getObjectives()[n.n].setSuccessStatus(t);break;case"cmi.objectives.n.completion_status":this.getObjectives()[n.n].setCompletionStatus(t);break;case"cmi.objectives.n.progress_measure":this.getObjectives()[n.n].setProgressMeasure(t);break;case"cmi.objectives.n.description":this.getObjectives()[n.n].setDescription(t);break;case"cmi.progress_measure":this.setProgressMeasure(t);break;case"cmi.score.scaled":this.setScoreScaled(t);break;case"cmi.score.raw":this.score.raw=t;break;case"cmi.score.max":this.score.max=t;break;case"cmi.score.min":this.score.min=t;break;case"cmi.session_time":this.session_time=r.default.normalize(t);break;case"cmi.success_status":this.setSuccessStatus(t);break;case"cmi.suspend_data":this.suspend_data=t;break;case"adl.nav.request":this.nav_request=t}},f.prototype.getValue=function(e,t){switch((t=t||i.default.getParamDetails(e)).paramWOindex){case"cmi._version":return"1.0";case"cmi.comments_from_learner._children":case"cmi.comments_from_lms._children":return"comment,location,timestamp";case"cmi.comments_from_learner._count":return this.getCommentsFromLearner().length;case"cmi.comments_from_learner.n.comment":return this.getCommentsFromLearner()[t.n].comment;case"cmi.comments_from_learner.n.location":return this.getCommentsFromLearner()[t.n].location;case"cmi.comments_from_learner.n.timestamp":return this.getCommentsFromLearner()[t.n].timestamp;case"cmi.comments_from_lms._count":return this.getCommentsFromLMS().length;case"cmi.comments_from_lms.n.comment":return this.getCommentsFromLMS()[t.n].comment;case"cmi.comments_from_lms.n.location":return this.getCommentsFromLMS()[t.n].location;case"cmi.comments_from_lms.n.timestamp":return this.getCommentsFromLMS()[t.n].timestamp;case"cmi.completion_status":return this.getCompletionStatus();case"cmi.completion_threshold":return this.completion_threshold;case"cmi.credit":return this.credit;case"cmi.entry":return this.entry;case"cmi.interactions._children":return"id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description";case"cmi.interactions._count":return this.getInteractions().length;case"cmi.interactions.n.id":return this.getInteractions()[t.n].id;case"cmi.interactions.n.type":return this.getInteractions()[t.n].type;case"cmi.interactions.n.objectives._count":return this.getInteractions()[t.n].objectives.length;case"cmi.interactions.n.objectives.m.id":return this.getInteractions()[t.n].objectives[t.m].id;case"cmi.interactions.n.timestamp":return this.getInteractions()[t.n].timestamp;case"cmi.interactions.n.correct_responses._count":return this.getInteractions()[t.n].correct_responses.length;case"cmi.interactions.n.correct_responses.m.pattern":return this.getInteractions()[t.n].correct_responses[t.m].pattern;case"cmi.interactions.n.weighting":return this.getInteractions()[t.n].weighting;case"cmi.interactions.n.learner_response":return this.getInteractions()[t.n].learner_response;case"cmi.interactions.n.result":return this.getInteractions()[t.n].result;case"cmi.interactions.n.latency":return this.getInteractions()[t.n].latency;case"cmi.interactions.n.description":return this.getInteractions()[t.n].description;case"cmi.launch_data":return this.launch_data;case"cmi.learner_id":return this.learner_id;case"cmi.learner_name":return this.learner_name;case"cmi.learner_preference._children":return"audio_level,language,delivery_speed,audio_captioning";case"cmi.learner_preference.audio_level":return this.getLearnerPreferences().audio_level;case"cmi.learner_preference.language":return this.getLearnerPreferences().language;case"cmi.learner_preference.delivery_speed":return this.getLearnerPreferences().delivery_speed;case"cmi.learner_preference.audio_captioning":return this.getLearnerPreferences().audio_captioning;case"cmi.location":return this.location;case"cmi.max_time_allowed":return this.getMaxTimeAllowed();case"cmi.mode":return this.mode;case"cmi.objectives._children":return"id,score,success_status,completion_status,progress_measure,description";case"cmi.objectives._count":return this.getObjectives().length;case"cmi.objectives.n.id":return this.getObjectives()[t.n].id;case"cmi.objectives.n.score._children":case"cmi.score._children":return"scaled,raw,min,max";case"cmi.objectives.n.score.scaled":return this.getObjectives()[t.n].getScoreScaled();case"cmi.objectives.n.score.raw":return this.getObjectives()[t.n].getScoreRaw();case"cmi.objectives.n.score.min":return this.getObjectives()[t.n].getScoreMin();case"cmi.objectives.n.score.max":return this.getObjectives()[t.n].getScoreMax();case"cmi.objectives.n.success_status":return this.getObjectives()[t.n].getSuccessStatus();case"cmi.objectives.n.completion_status":return this.getObjectives()[t.n].getCompletionStatus();case"cmi.objectives.n.progress_measure":return this.getObjectives()[t.n].getProgressMeasure();case"cmi.objectives.n.description":return this.getObjectives()[t.n].getDescription();case"cmi.progress_measure":return this.progress_measure;case"cmi.scaled_passing_score":return this.scaled_passing_score;case"cmi.score.scaled":return this.score.scaled;case"cmi.score.raw":return this.score.raw;case"cmi.score.max":return this.score.max;case"cmi.score.min":return this.score.min;case"cmi.success_status":return this.getSuccessStatus();case"cmi.suspend_data":return this.suspend_data;case"cmi.time_limit_action":return this.time_limit_action;case"cmi.total_time":return this.total_time;case"adl.nav.request_valid.continue":return o.default.isNavigationValid(a.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE).validity;case"adl.nav.request_valid.previous":return o.default.isNavigationValid(a.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS).validity;case"adl.nav.request_valid.choice":return o.default.isNavigationValid(a.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,t.endsWith).validity;case"adl.nav.request":return this.nav_request}},f.prototype.commit=function(){this.setExit(this.exit)},f.prototype.terminate=function(){var e=0;switch(void 0===this.session_time&&(e=this.session_time_start?(new Date).getTime()-this.session_time_start.getTime()|0:0,this.session_time=r.default.toDuration(e)),this.total_time=r.default.add(this.total_time,this.session_time),this.exit){case a.CONSTANTS.CMI.EXIT.SUSPEND:this.entry=a.CONSTANTS.CMI.ENTRY.RESUME;break;case a.CONSTANTS.CMI.EXIT.TIMEOUT:case a.CONSTANTS.CMI.EXIT.LOGOUT:this.nav_request=a.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL}this.nav_request===a.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL&&(this.entry=a.CONSTANTS.CMI.ENTRY.RESUME)},f.prototype.suspend=function(){this.activity,this.trackingModel;var e=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(this,d);return e.objectives=i.default.filter(e.objectives,(function(e){return e instanceof u.default})),e},f.prototype.resume=function(e){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&("objectives"===t&&(this[t]=T(this.activity,e.objectives)),this[t]=e[t])}},4874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(5349);function r(e){e?(this.id=e.id,this.score={scaled:e.score.scaled,raw:e.score.raw,min:e.score.min,max:e.score.max},this.success_status=e.success_status,this.completion_status=e.completion_status,this.progress_measure=e.progress_measure,this.description=e.description):(this.id=void 0,this.score={scaled:void 0,raw:void 0,min:void 0,max:void 0},this.success_status=i.CONSTANTS.SCORM.UNKNOWN,this.completion_status=i.CONSTANTS.SCORM.UNKNOWN,this.progress_measure=void 0,this.description=void 0)}r.prototype.setScoreScaled=function(e){this.score.scaled=e},r.prototype.getScoreScaled=function(){return this.score.scaled},r.prototype.setScoreRaw=function(e){this.score.raw=e},r.prototype.getScoreRaw=function(){return this.score.raw},r.prototype.setScoreMax=function(e){this.score.max=e},r.prototype.getScoreMax=function(){return this.score.max},r.prototype.setScoreMin=function(e){this.score.min=e},r.prototype.getScoreMin=function(){return this.score.min},r.prototype.setSuccessStatus=function(e){this.success_status=e},r.prototype.getSuccessStatus=function(){return this.success_status},r.prototype.setCompletionStatus=function(e){this.completion_status=e},r.prototype.getCompletionStatus=function(){return this.completion_status},r.prototype.setProgressMeasure=function(e){this.progress_measure=e},r.prototype.getProgressMeasure=function(){return this.progress_measure},r.prototype.setDescription=function(e){this.description=e},r.prototype.getDescription=function(){return this.description}},6997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i,r=(i=n(383))&&i.__esModule?i:{default:i},o=n(5349);function s(e,t,n){this.conditions=e||[],this.conditionCombination=t||o.CONSTANTS.CONDITION_COMBINATIONS.ALL,this.ruleAction=n}s.prototype.evaluate=function(){r.default.logger.error("Implement sequencing rule evaluation!!!!")},s.prototype.applyConditionCombination=function(e){var t;if(0===e.length)return o.CONSTANTS.SCORM.UNKNOWN;if(this.conditionCombination===o.CONSTANTS.CONDITION_COMBINATIONS.ALL){t=!0;for(var n=0,i=e.length;n<i;n++){if(e[n]===o.CONSTANTS.SCORM.FALSE)return o.CONSTANTS.SCORM.FALSE;t=e[n]===o.CONSTANTS.SCORM.UNKNOWN||t===o.CONSTANTS.SCORM.UNKNOWN?o.CONSTANTS.SCORM.UNKNOWN:o.CONSTANTS.SCORM.TRUE}}else if(this.conditionCombination===o.CONSTANTS.CONDITION_COMBINATIONS.ANY)for(var r=0,s=e.length;r<s;r++){if(e[r]===o.CONSTANTS.SCORM.TRUE)return o.CONSTANTS.SCORM.TRUE;t=e[r]===o.CONSTANTS.SCORM.UNKNOWN||t===o.CONSTANTS.SCORM.UNKNOWN?o.CONSTANTS.SCORM.UNKNOWN:o.CONSTANTS.SCORM.FALSE}return t}},6357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=n(5349),r=a(n(965)),o=a(n(3618)),s=a(n(6190));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n,i;this.definitionModel=e,t?(this.objectiveProgressInformation=d(t.objectiveProgressInformation),this.previousObjectiveProgressInformation=d(t.previousObjectiveProgressInformation),this.activityProgressInformation=(n=t.activityProgressInformation,(i={}).progressStatus=n.progressStatus,i.absoluteDuration=n.absoluteDuration,i.experiencedDuration=n.experiencedDuration,i.attemptCount=n.attemptCount,i),this.attemptProgressInformation=S(t.attemptProgressInformation),this.previousAttemptProgressInformation=S(t.previousAttemptProgressInformation),this.activityStateInformation={active:t.activityStateInformation.active,suspended:t.activityStateInformation.suspended,availableChildren:c(e,t.activityStateInformation.availableChildren)}):(this.objectiveProgressInformation=l(this.definitionModel),this.previousObjectiveProgressInformation=l(this.definitionModel),this.activityProgressInformation={progressStatus:!1,absoluteDuration:0,experiencedDuration:0,attemptCount:0},this.attemptProgressInformation={progressStatus:!1,completionStatus:!1,absoluteDuration:0,experiencedDuration:0,startTime:null},this.previousAttemptProgressInformation=this.attemptProgressInformation,this.activityStateInformation={active:!1,suspended:!1,availableChildren:[]})}function c(e,t){var n,i=[];if(t&&t.length)for(var r=0,o=t.length;r<o;r++){n=t[r];for(var s=0,a=e.children.length;s<a;s++)if(n.getId()===e.children[s].getId()){i.push(e.children[s]);break}}return i}function l(e){for(var t={},n=e.getObjectives(),i=0,r=n.length;i<r;i++)(0===i||n[i].getId())&&(t[n[i].getId()]={objectiveProgressStatus:!1,objectiveSatisfiedStatus:!1,objectiveMeasureStatus:!1,objectiveNormalizedMeasure:0});return t}function d(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],o=e[r];t[r]={objectiveProgressStatus:o.objectiveProgressStatus,objectiveSatisfiedStatus:o.objectiveSatisfiedStatus,objectiveMeasureStatus:o.objectiveMeasureStatus,objectiveNormalizedMeasure:o.objectiveNormalizedMeasure}}return t}function S(e){var t={};return t.progressStatus=e.progressStatus,t.completionStatus=e.completionStatus,t.absoluteDuration=e.absoluteDuration,t.experiencedDuration=e.experiencedDuration,t.startTime=e.startTime,t}u.prototype.setAvailableChildren=function(e){this.activityStateInformation.availableChildren=e},u.prototype.getAvailableChildren=function(){var e=this.activityStateInformation.availableChildren;return e&&0===e.length&&!this.definitionModel.isLeaf()&&(e=this.definitionModel.getAllChildren(),this.activityStateInformation.availableChildren=e),this.activityStateInformation.availableChildren},u.prototype.getFirstAvailableChild=function(){var e=this.getAvailableChildren();return e.length?e[0]:null},u.prototype.getLastAvailableChild=function(){var e=this.getAvailableChildren();return e.length?e[e.length-1]:null},u.prototype.prepareForNewAttempt=function(e){var t,n;e?(this.previousAttemptProgressInformation={progressStatus:!1,completionStatus:!1,absoluteDuration:0,experiencedDuration:0},this.previousObjectiveProgressInformation=l(this.definitionModel)):(this.previousAttemptProgressInformation=(t=this.attemptProgressInformation,n=this.previousAttemptProgressInformation,{progressStatus:t.progressStatus||n.progressStatus,completionStatus:t.completionStatus||n.completionStatus}),this.previousObjectiveProgressInformation=function(e,t){var n,i,r,o,s={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i=e[n],r=t[n],o={},i.objectiveProgressStatus?(o.objectiveProgressStatus=i.objectiveProgressStatus,o.objectiveSatisfiedStatus=i.objectiveSatisfiedStatus):(o.objectiveProgressStatus=r.objectiveProgressStatus,o.objectiveSatisfiedStatus=r.objectiveSatisfiedStatus),i.objectiveMeasureStatus?(o.objectiveMeasureStatus=i.objectiveMeasureStatus,o.objectiveNormalizedMeasure=i.objectiveNormalizedMeasure):(o.objectiveMeasureStatus=r.objectiveMeasureStatus,o.objectiveNormalizedMeasure=r.objectiveNormalizedMeasure),s[n]=o);return s}(this.objectiveProgressInformation,this.previousObjectiveProgressInformation)),o.default.process(this.definitionModel),s.default.process(this.definitionModel),this.objectiveProgressInformation=l(this.definitionModel),this.attemptProgressInformation={progressStatus:!1,completionStatus:!1,absoluteDuration:0,experiencedDuration:0,startTime:null}},u.prototype.incrementAttemptCount=function(){this.definitionModel.isTracked()&&this.activityProgressInformation.attemptCount++},u.prototype.getAttemptCount=function(){return this.activityProgressInformation.attemptCount},u.prototype.setActive=function(e){this.activityStateInformation.active=e},u.prototype.getActive=function(){return this.activityStateInformation.active},u.prototype.setSuspended=function(e){this.activityStateInformation.suspended=e},u.prototype.getSuspended=function(){return this.activityStateInformation.suspended},u.prototype.setProgressStatus=function(e){this.activityProgressInformation.progressStatus=e},u.prototype.getProgressStatus=function(){return this.activityProgressInformation.progressStatus},u.prototype.setAttemptProgressStatus=function(e){this.definitionModel.isTracked()&&(this.attemptProgressInformation.progressStatus=e)},u.prototype.getAttemptProgressStatus=function(e){var t=this.definitionModel.getParent();return!t||t.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO)?this.attemptProgressInformation.progressStatus?this.attemptProgressInformation.progressStatus:e?this.previousAttemptProgressInformation.progressStatus:this.attemptProgressInformation.progressStatus:this.attemptProgressInformation.progressStatus?this.attemptProgressInformation.progressStatus:this.previousAttemptProgressInformation.progressStatus},u.prototype.setAttemptCompletionStatus=function(e){this.definitionModel.isTracked()&&(this.attemptProgressInformation.completionStatus=e)},u.prototype.getAttemptCompletionStatus=function(e){var t;return this.getAttemptProgressStatus(e)?!(t=this.definitionModel.getParent())||t.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO)?this.attemptProgressInformation.completionStatus?this.attemptProgressInformation.completionStatus:e?this.previousAttemptProgressInformation.completionStatus:this.attemptProgressInformation.completionStatus:this.attemptProgressInformation.completionStatus?this.attemptProgressInformation.completionStatus:this.previousAttemptProgressInformation.completionStatus:i.CONSTANTS.SCORM.UNKNOWN},u.prototype.setAttemptStartTime=function(){this.attemptProgressInformation.startTime=Math.trunc(performance.now())},u.prototype.setAttemptEndTime=function(){this.attemptProgressInformation.startTime&&(this.attemptProgressInformation.experiencedDuration+=Math.trunc(performance.now())-this.attemptProgressInformation.startTime,this.attemptProgressInformation.startTime=null)},u.prototype.getAttemptExperiencedDuration=function(){var e=this.attemptProgressInformation.startTime;return e&&this.definitionModel.isTracked()?this.attemptProgressInformation.experiencedDuration+(Math.trunc(performance.now())-e):this.attemptProgressInformation.experiencedDuration},u.prototype.getObjectiveProgressStatus=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveProgressStatus?this.objectiveProgressInformation[e].objectiveProgressStatus:t?this.previousObjectiveProgressInformation[e].objectiveProgressStatus:this.objectiveProgressInformation[e].objectiveProgressStatus:this.objectiveProgressInformation[e].objectiveProgressStatus?this.objectiveProgressInformation[e].objectiveProgressStatus:this.previousObjectiveProgressInformation[e].objectiveProgressStatus:i.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveProgressStatus=function(e,t){this.objectiveProgressInformation[e].objectiveProgressStatus=t},u.prototype.getObjectiveSatisfiedStatus=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveSatisfiedStatus?this.objectiveProgressInformation[e].objectiveSatisfiedStatus:t?this.previousObjectiveProgressInformation[e].objectiveSatisfiedStatus:this.objectiveProgressInformation[e].objectiveSatisfiedStatus:this.objectiveProgressInformation[e].objectiveSatisfiedStatus?this.objectiveProgressInformation[e].objectiveSatisfiedStatus:this.previousObjectiveProgressInformation[e].objectiveSatisfiedStatus:i.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveSatisfiedStatus=function(e,t){this.objectiveProgressInformation[e].objectiveSatisfiedStatus=t},u.prototype.getObjectiveMeasureStatus=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveMeasureStatus?this.objectiveProgressInformation[e].objectiveMeasureStatus:t?this.previousObjectiveProgressInformation[e].objectiveMeasureStatus:this.objectiveProgressInformation[e].objectiveMeasureStatus:this.objectiveProgressInformation[e].objectiveMeasureStatus?this.objectiveProgressInformation[e].objectiveMeasureStatus:this.previousObjectiveProgressInformation[e].objectiveMeasureStatus:i.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveMeasureStatus=function(e,t){this.objectiveProgressInformation[e].objectiveMeasureStatus=t},u.prototype.getObjectiveNormalizedMeasure=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveNormalizedMeasure?this.objectiveProgressInformation[e].objectiveNormalizedMeasure:t?this.previousObjectiveProgressInformation[e].objectiveNormalizedMeasure:this.objectiveProgressInformation[e].objectiveNormalizedMeasure:this.objectiveProgressInformation[e].objectiveNormalizedMeasure?this.objectiveProgressInformation[e].objectiveNormalizedMeasure:this.previousObjectiveProgressInformation[e].objectiveNormalizedMeasure:i.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveNormalizedMeasure=function(e,t){this.objectiveProgressInformation[e].objectiveNormalizedMeasure=t},u.prototype.suspend=function(){var e,t={objectiveProgressInformation:this.objectiveProgressInformation,activityProgressInformation:this.activityProgressInformation,attemptProgressInformation:this.attemptProgressInformation,activityStateInformation:{active:this.activityStateInformation.active,suspended:this.activityStateInformation.suspended,availableChildren:[]}};if(this.activityStateInformation.availableChildren)for(var n=0,i=this.activityStateInformation.availableChildren.length;n<i;n++)e=this.activityStateInformation.availableChildren[n],t.activityStateInformation.availableChildren.push(e.getId());return t},u.prototype.resume=function(e){var t,n,i;if(this.objectiveProgressInformation=e.objectiveProgressInformation,this.activityProgressInformation=e.activityProgressInformation,this.attemptProgressInformation=e.attemptProgressInformation,this.activityStateInformation.active=e.activityStateInformation.active,this.activityStateInformation.suspended=e.activityStateInformation.suspended,e.activityStateInformation.availableChildren)for(this.activityStateInformation.availableChildren=[],t=0,n=e.activityStateInformation.availableChildren.length;t<n;t++)i=e.activityStateInformation.availableChildren[t],this.activityStateInformation.availableChildren.push(r.default.getActivityById(i))}},1997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1817),n(2173),n(7443);var i=p(n(383)),r=p(n(5529)),o=n(5349),s=p(n(893)),a=p(n(2430)),u=p(n(1086)),c=p(n(965)),l=p(n(940)),d=p(n(2144)),S=p(n(2500)),f=p(n(1119)),T=n(6619),N=p(n(9553));function p(e){return e&&e.__esModule?e:{default:e}}function O(e){if(!e)return null;var t=e.getPrimaryObjective();return{guid:e.guid||"",id:e.getId(),title:e.getTitle(),publishIndex:e.getPublishIndex(),normalizedMeasure:t.getMeasureStatus()?t.getNormalizedMeasure():void 0,minimumMeasure:t.getMinimumSatisfiedNormalizedMeasure(),weight:e.getRollupObjectiveMeasureWeight(),attempts:e.getAttemptCount(),href:e.href||"",parent:e.getParent()?e.getParent().getId():null,completion:e.getCompletion(),satisfied:e.getSatisfiedStatus(),duration:e.getAttemptExperiencedDuration(),isLeaf:e.isLeaf(),availableChildren:e.getAvailableChildren().map((function(e){return e.getId()})),children:e.getAllChildren().map((function(e){return e.getId()})),attemptProgressStatus:e.getAttemptProgressStatus(!1),reorderChildren:e.getReorderChildren()}}function A(e){for(var t=c.default.getAvailableActivitiesList(),n=0,i=t.length;n<i;n++)if(t[n].getId()===e)return n}function g(e){var t=e.getAvailableChildren();e.setActive(!1),e.setSuspended(!1),e.prepareForNewAttempt(!0,!1),e.setProgressStatus(!1),e.incrementAttemptCount(),e.setSuspended(!0);for(var n=0;n<t.length;n++)g(t[n])}function v(e){var t=e.getParent();if(t){t.setActive(!1),e.setSuspended(!1);var n=t.trackingModel.attemptProgressInformation.startTime;t.prepareForNewAttempt(!0,!1),t.trackingModel.attemptProgressInformation.startTime=n,e.setSuspended(!0),v(t)}}function m(e,t){var n=!1,i=e.getParent();if(e.isAttempted())return!1;if(C(e.getId()))return m(i);if(i&&!i.isSequencingControlMode(o.CONSTANTS.SEQUENCING_MODES.FLOW)&&!i.isSequencingControlMode(o.CONSTANTS.SEQUENCING_MODES.CHOICE))return!0;for(;e;){if(null==t&&(t=r.default.isAvailableInTheTree(e)),t.enabled&&t.visible&&!n)return!1;if(null!=N.default.process(e,o.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,o.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.DISABLED))return!0;if((null!=N.default.process(e,o.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,o.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)||e.getParent()&&!e.getParent().isSequencingControlMode(o.CONSTANTS.SEQUENCING_MODES.FLOW))&&(n=!0),!t.visible&&n)return!0;e=e.getParent()}return!1}function C(e){return I(e).some((function(e){return/^EnhancedScorecard$/.test(e.id)}))}function I(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity();return t?t.getObjectives().map((function(e){return{id:e.getId(),hasGlobalObjectives:e.hasGlobalsObjectives(),globalObjectiveId:e.hasGlobalsObjectives()?e.maps[0].targetObjectiveID:void 0}})):[]}function E(e){var t=(e?c.default.getActivityById(e):u.default.getCurrentActivity()).getObjectives().find((function(e){return/^Submit/.test(e.getId())}));return!!t&&t.getSatisfiedStatus()===o.CONSTANTS.SCORM.TRUE}function h(e,t){e.setActive(o.CONSTANTS.SCORM.FALSE),e.setAttemptCompletionStatus(o.CONSTANTS.SCORM.TRUE),e.setAttemptProgressStatus(o.CONSTANTS.SCORM.TRUE),e.setProgressStatus(o.CONSTANTS.SCORM.TRUE),e.setSuspended(o.CONSTANTS.SCORM.TRUE);var n=e.getPrimaryObjective();n.getProgressStatus()||n.getSatisfiedByMeasure()||e.getObjectives().some((function(e){return/^q-/.test(e.getId())}))||(n.setProgressStatus(o.CONSTANTS.SCORM.TRUE),n.setSatisfiedStatus(o.CONSTANTS.SCORM.TRUE)),t&&!e.isLeaf()&&e.getAllChildren().forEach((function(e){h(e,t)})),e.setAttemptEndTime()}function _(e){if(e)if(e.isLeaf())d.default.process(e);else{var t=e.getAllChildren().filter((function(e){return!e.isLeaf()}));t.length>0?t.forEach((function(e){_(e)})):d.default.process(e)}}var R={start:function(e){var t;return i.default.logger.debug("Initializing Player..."),function(e){u.default.init(e.bookmark),c.default.init(e),e.bookmark||c.default.getRoot().prepareForNewAttempt(!0,!0),void 0===e.isCompressed&&(e.isCompressed=!0),s.default.resume(e.suspendData,e.isCompressed)}(e),t=e.bookmark?l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.RESUME_ALL):l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.START),r.default.evaluateRequestOptions(),i.default.logger.debug("Player initialized."),t},resumeAll:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.RESUME_ALL);return r.default.evaluateRequestOptions(),e},suspendAll:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL);return s.default.suspend(),e},next:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE);return r.default.evaluateRequestOptions(),e},previous:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS);return r.default.evaluateRequestOptions(),e},choice:function(e){var t=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,e);return r.default.evaluateRequestOptions(),t},exit:function(){var e=u.default.getCurrentActivity().runTimeData.exit===o.CONSTANTS.CMI.EXIT.SUSPEND,t=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.EXIT);return e?s.default.suspend():s.default.cleanState(),t},exitAll:function(){var e=u.default.getCurrentActivity().runTimeData.exit===o.CONSTANTS.CMI.EXIT.SUSPEND,t=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL);return e?s.default.suspend():s.default.cleanState(),t},abandon:function(){return l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.ABANDON)},abandonAll:function(){return l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL)},retake:function(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity().getParent();return function(e){var t=u.default.getCurrentActivity();if(E(e)){var n=t.getObjectives().find((function(e){return/^Submit/.test(e.getId())}));if(n){n.setSatisfiedStatus(o.CONSTANTS.SCORM.FALSE),_(t),n.setProgressStatus(o.CONSTANTS.SCORM.FALSE);var i=I(t.id).filter((function(e){return e.id===n.getId()}))[0];i&&i.hasGlobalObjectives&&u.default.getGlobalObjective(i.globalObjectiveId).setProgressStatus(o.CONSTANTS.SCORM.FALSE)}}}(),g(t),v(t),this.choice(t.getId()),!0},getNextPage:function(){return r.default.getActivityToLoad(o.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE)},getPreviousPage:function(){return r.default.getActivityToLoad(o.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS)},getFollowingPageId:function(){var e,t=c.default.getAvailableActivitiesList(),n=A(u.default.getCurrentActivity().getId());do{e=t[++n]}while(e&&!e.isLeaf());return e?e.getId():null},getPrecedingPageId:function(){var e,t=c.default.getAvailableActivitiesList(),n=A(u.default.getCurrentActivity().getId());do{e=t[--n]}while(e&&!e.isLeaf());return e?e.getId():null},getActivityById:function(e){return O(c.default.getActivityById(e))},getActivityBy:function(e,t){return"guid"===e?O(c.default.getActivityByGuid(t)):(i.default.logger.error("Only 'guid' parameter is supported by getActivityBy, but '".concat(e,"' was requested")),null)},getCurrentActivity:function(){return O(u.default.getCurrentActivity())},getParentActivity:function(e){var t=c.default.getActivityById(e);return t||(t=u.default.getCurrentActivity()),O(t.parent)},getRootActivity:function(){return O(c.default.getRoot())},getAllActivitiesList:function(){return c.default.getAllActivitiesList()},isButtonHidden:function(e){var t=u.default.getCurrentActivity();return!t||t.isButtonHidden(e)},isNavigationValid:function(e,t){return r.default.isNavigationValid(e,t)},getMenuItems:function(e){for(var t,n,i,s=e?c.default.getAllActivitiesList():c.default.getAvailableActivitiesList(),a=u.default.getCurrentActivity(),l=[],d={},S=0,f=s.length;S<f;S++){n=(t=s[S]).getParent(),i=a?r.default.isAvailableInTheTree(t):{enabled:!0,visible:!0};var T=t.getProgressStatus(),N=t.getCompletion(),p=t.getObjectives().find((function(e){return/^SubmitAll$/.test(e.getId())})),O=t.getSatisfiedStatus(),A=t.getObjectives().find((function(e){return/^NoFeedback$/.test(e.getId())})),g=O===o.CONSTANTS.SCORM.UNKNOWN||A||t.isLeaf()&&p&&!E(t.id);(!0===N&&g||!1===N&&!t.isActive()&&g)&&(O=o.CONSTANTS.SCORM.UNKNOWN);var v=t.getResourceUrl()||"";l.push({id:t.getId(),title:t.getTitle(),isLeaf:t.isLeaf(),active:t.isActive(),enabled:i.enabled,satisfied:O,completed:N,progress:T,visible:i.visible,href:v.replace(/\.html.*$/,".html"),parent:n?n.getId():"",inaccessible:m(t,i)}),i.visible||(d[t.getId()]=t)}return l.forEach((function(e){var t=!0,n=c.default.getActivityById(e.id);e.isLeaf||(n.getAvailableChildren().forEach((function(e){Object.prototype.hasOwnProperty.call(d,e.id)||(t=!1)})),e.allChildrenHidden=t)})),l},isCourseCompleted:function(){return _(u.default.getCurrentActivity()),c.default.getRoot().getCompletion()===o.CONSTANTS.SCORM.TRUE},getObjectives:I,findCommonAncestorId:function(e,t){var n=c.default.getActivityById(e),i=c.default.getActivityById(t),r=n.findCommonAncestor(i);return r?r.id:void 0},getInteractions:function(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity();return t?t.runTimeData.getInteractions().map((function(e){return{id:e.id,description:e.description,result:e.result,response:e.learner_response}})):[]},isScorecard:C,hasQuestions:function(e){return(e?c.default.getActivityById(e):u.default.getCurrentActivity()).hasQuestions()},submitAssessment:function(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity(),n=t.getParent(),i=n.getAllChildren(),r=t.getObjectives().find((function(e){return/^Submit/.test(e.getId())}));if(r){r.setSatisfiedStatus(o.CONSTANTS.SCORM.TRUE);for(var s=0,a=i.length;s<a;s++)h(i[s],!0),_(i[s])}h(n,!1),t.getPrimaryObjective().setProgressStatus(o.CONSTANTS.SCORM.TRUE),t.getPrimaryObjective().setSatisfiedStatus(o.CONSTANTS.SCORM.TRUE)},setActivityAsCompleted:function(e){h(e?c.default.getActivityById(e):u.default.getCurrentActivity(),!1)},isAssessmentSubmitted:E,getProctorControlParam:function(){for(var e=u.default.getCurrentActivity().getParameters().split("&"),t=0;t<e.length;t++)if(e[t].startsWith("proctor")){var n=e[t].split("=");if(2===n.length)return n[1]}},formatDuration:function(e){return f.default.toDuration(e)},storeAdditionalData:function(e){s.default.setAdditionalData(e)},retrieveAdditionalData:function(){return s.default.getAdditionalData()||""},getSuspendData:function(){return s.default.suspend()},saveCourseData:function(e){a.default.setCourseStateData(e.suspendData),a.default.setBookmark(e.bookmark)},retrieveBookmark:function(e){return t=e=S.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?a.default.getBookmark():e,{bookmark:(n=t.split("_type_"))[0]?n[0]:"",bookmarkType:n[1]?n[1]:""};var t,n},API_1484_11:T.API_1484_11};t.default=R},4165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(383)),r=n(5349),o=s(n(5041));function s(e){return e&&e.__esModule?e:{default:e}}var a={process:function(e,t){var n,s=e.getAvailableChildren(),a=!0,u=!0,c=!1;if(t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED){if(i.default.logger.trace("Activity Progress Rollup Default Process (completed action) start..."),s.length){for(var l=0,d=s.length;l<d;l++)if(n=s[l],o.default.process(n,r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED)&&(c=!0,n.getCompletion(!1)!==r.CONSTANTS.SCORM.TRUE)){a=!1;break}c&&a&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!0))}i.default.logger.trace("Activity Progress Rollup Default Process (completed action) end.")}if(t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE){if(i.default.logger.trace("Activity Progress Rollup Default Process (incomplete action) start..."),s.length){for(var S=0,f=s.length;S<f;S++)if(n=s[S],o.default.process(n,r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE)&&(c=!0,!n.isAttempted())){u=!1;break}c&&u&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!1))}i.default.logger.trace("Activity Progress Rollup Default Process (incomplete action) end.")}}};t.default=a},5440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(4165)),o=s(n(9320));function s(e){return e&&e.__esModule?e:{default:e}}var a={process:function(e){var t=e.getRollupRules(i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE).length>0,n=e.getRollupRules(i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED).length>0;t||n?(t&&o.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE)&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!1)),n&&o.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED)&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!0))):(r.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE),r.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED))}};t.default=a},5785:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(9553)),o=s(n(3942));function s(e){return e&&e.__esModule?e:{default:e}}var a={process:function(e){return null!==r.default.process(e,i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,i.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.DISABLED)||!!o.default.process(e)}};t.default=a},5041:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(383)),r=n(5349),o=s(n(9553));function s(e){return e&&e.__esModule?e:{default:e}}var a={process:function(e,t){i.default.logger.trace("Check Child For Rollup Subprocess start...");var n=!1;return t!==r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&t!==r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED||e.getRollupObjectiveSatisfied()&&(n=!0,t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&e.getRequiredForSatisfied()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED||t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED&&e.getRequiredForNotSatisfied()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED?(!1===e.getProgressStatus()||e.getAttemptCount()&&e.isSuspended())&&(n=!1):t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&e.getRequiredForSatisfied()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED||t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED&&e.getRequiredForNotSatisfied()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED?!1!==e.getProgressStatus()&&0!==e.getAttemptCount()||(n=!1):(t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&e.getRequiredForSatisfied()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED||t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED&&e.getRequiredForNotSatisfied()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED)&&null!==o.default.process(e,r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,r.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)&&(n=!1)),t!==r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&t!==r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE||e.getRollupProgressCompletion()&&(n=!0,t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&e.getRequiredForCompleted()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED||t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE&&e.getRequiredForIncomplete()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED?(!1===e.getProgressStatus()||e.getAttemptCount()&&e.isSuspended())&&(n=!1):t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&e.getRequiredForCompleted()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED||t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE&&e.getRequiredForIncomplete()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED?!1!==e.getProgressStatus()&&0!==e.getAttemptCount()||(n=!1):(t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&e.getRequiredForCompleted()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED||t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE&&e.getRequiredForIncomplete()===r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED)&&null!==o.default.process(e,r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,r.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)&&(n=!1)),i.default.logger.trace("Check Child For Rollup Subprocess end."),n}};t.default=a},8217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=n(5349),o=(i=n(9553))&&i.__esModule?i:{default:i};function s(e,t){this.reachable=e,this.exception=t}var a={process:function(e,t){var n;return t===r.CONSTANTS.DIRECTIONS.FORWARD?o.default.process(e,r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,r.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.STOP_FORWARD_TRAVERSAL)?new s(!1,"SB.2.4-1"):new s(!0,null):t===r.CONSTANTS.DIRECTIONS.BACKWARD?(n=e.getParent())?n.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY)?new s(!1,"SB.2.4-2"):new s(!0,null):new s(!1,"SB.2.4-3"):void 0}};t.default=a},5164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(7509))&&i.__esModule?i:{default:i},o={process:function(e,t){var n=r.default.process(e,t);return null===n?e:n}};t.default=o},7509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=n(5349),o=(i=n(965))&&i.__esModule?i:{default:i},s={process:function e(t,n){var i,s,a=o.default.getRoot(),u=o.default.getLastAvailableActivity();if(n===r.CONSTANTS.DIRECTIONS.FORWARD)return t===u||t===a?null:null===(i=o.default.getNextAvailableSibling(t))?e(t.getParent(),r.CONSTANTS.DIRECTIONS.FORWARD):i;if(n===r.CONSTANTS.DIRECTIONS.BACKWARD)return t===a?null:null===(s=o.default.getPreviousAvailableSibling(t))?e(t.getParent(),r.CONSTANTS.DIRECTIONS.BACKWARD):s;throw new Error("ChoiceFlowTreeTraversalSubprocess: wrong travelsal direction")}};t.default=s},4071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=T(n(383)),r=n(5349),o=T(n(1086)),s=T(n(6723)),a=T(n(9553)),u=T(n(8217)),c=T(n(1623)),l=T(n(5164)),d=T(n(3818)),S=T(n(965)),f=T(n(5529));function T(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var p={process:function(e){var t,n,T,p,O,A,g,v,m=S.default.getActivityById(e),C=S.default.getRoot(),I=o.default.getCurrentActivity();if(!m)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-1");for(var E=0,h=(t=m.getPath(!0,null)).length;E<h;E++){if((T=t[E])!==C&&!i.default.contains(T.getParent().getAvailableChildren(),T))return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-2");if(g=a.default.process(T,r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,r.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.HIDDEN_FROM_CHOICE))return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-3")}if(m!==C&&!m.getParent().isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.CHOICE))return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-4");if(A=I?I.findCommonAncestor(m):C,I===m);else if(I&&I.isSiblingTo(m)){if(!(n=I.getActivitiesBetween(m,!0,!1)).length)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");v=m.isForwardTo(I)?r.CONSTANTS.DIRECTIONS.FORWARD:v=r.CONSTANTS.DIRECTIONS.BACKWARD;for(var _=0,R=n.length;_<R;_++)if(T=n[_],!(g=u.default.process(T,v)).reachable)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,g.exception)}else if(I&&I!==A)if(m===A){if(!(t=I.getPath(!1,A.getParent())).length)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");for(var b=0,y=t.length;b<y;b++)if((T=t[b])!==t[t.length]&&!T.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT))return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-7")}else{if(!(t=I.getPath(!1,A)).length)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");p=void 0;for(var L=0,M=t.length;L<M;L++){if(!(T=t[L]).isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT))return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-7");void 0===p&&!T.isLeaf()&&T.getConstrainChoice()&&(p=T)}if(void 0!==p&&(v=m.isForwardTo(p)?r.CONSTANTS.DIRECTIONS.FORWARD:r.CONSTANTS.DIRECTIONS.BACKWARD,O=l.default.process(p,v),!m.isDescendantOf(O)&&m!==O&&m!==p))return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-8");if(!(t=m.getPath(!0,m,A)).length)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");if(m.isForwardTo(I))for(var D=0,P=t.length;D<P;D++){if(T=t[D],D<t.length-1&&!(g=u.default.process(T,r.CONSTANTS.DIRECTIONS.FORWARD)).reachable)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,g.exception);if(!T.isActive()&&T!==A&&T.getPreventActivation())return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-6")}else for(var U=0,j=t.length;U<j;U++)if(!(T=t[U]).isActive()&&T!==A&&T.getPreventActivation())return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-6")}else{if(!(t=m.getPath(!0,m,A)).length)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");for(var w=0,V=t.length;w<V;w++){if(T=t[w],!(g=u.default.process(T,r.CONSTANTS.DIRECTIONS.FORWARD)).reachable)return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,g.exception);if(!T.isActive()&&T!==A&&T.getPreventActivation())return new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-6")}}return m.isLeaf()?new N(r.CONSTANTS.VALIDITY.VALID,m,!1,null):(g=d.default.process(m,r.CONSTANTS.DIRECTIONS.FORWARD,!0)).deliverable?new N(r.CONSTANTS.VALIDITY.VALID,g.activity,!1,null):(f.default.isEvaluationRequest()||(c.default.process(A),s.default.process(A),o.default.setCurrentActivity(m)),new N(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-9"))}};t.default=p},9273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1086)),r=o(n(383));function o(e){return e&&e.__esModule?e:{default:e}}var s={process:function(e){var t,n,o,s,a,u=i.default.getSuspendedActivity();if(r.default.logger.trace("Clear Suspended Activity Subprocess start..."),void 0!==u){for(t=e.findCommonAncestor(u);u!==t;){if(u.isLeaf())u.setSuspended(!1);else{for(a=!1,o=0,s=(n=u.getAvailableChildren()).length;o<s;o++)if(n[o].isSuspended()){a=!0;break}a||u.setSuspended(!0)}u=u.getParent()}i.default.setSuspendedActivity(void 0)}r.default.logger.trace("Clear Suspended Activity Subprocess end.")}};t.default=s},9892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(383)),r=n(5349),o=c(n(6619)),s=c(n(1086)),a=c(n(1623)),u=c(n(9273));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){this.validity=e,this.exception=t}var d={process:function(e){var t=s.default.getCurrentActivity();if(void 0!==t&&t.isActive())return new l(r.CONSTANTS.VALIDITY.NOT_VALID,"DB.2-1");e!==s.default.getSuspendedActivity()&&u.default.process(e),a.default.process(e);for(var n=e.getPath(!0,null),c=0,d=n.length;c<d;c++){var S=n[c];S.isActive()||(S.isTracked()&&(S.isSuspended()?(S.setSuspended(!1),S.setProgressStatus(!0)):(S.incrementAttemptCount(),1===S.getAttemptCount()?S.setProgressStatus(!0):S.prepareForNewAttempt(!1,!1)),S.setAttemptStartTime()),S.setActive(!0))}return s.default.setCurrentActivity(e),s.default.setSuspendedActivity(void 0),e.isTracked()||i.default.logger.warn("The Objective and Attempt Progress information for the activity should not be recorded during delivery 8.1.2. The delivery environment begins tracking the Attempt Absolute duration and the Attempt Experienced Duration"),o.default.initializeApi(),new l(r.CONSTANTS.VALIDITY.VALID,null)}};t.default=d},4422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=a(n(1086)),o=a(n(965)),s=a(n(3818));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var c={process:function(){var e=r.default.getCurrentActivity();if(void 0===e)return new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.7-1");if(e!==o.default.getRoot()&&!e.getParent().isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FLOW))return new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.7-2");var t=s.default.process(e,i.CONSTANTS.DIRECTIONS.FORWARD,!1);return t.deliverable?new u(i.CONSTANTS.VALIDITY.VALID,t.activity,!1,null):new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,t.endSession,t.exception)}};t.default=c},7603:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=n(5349),o=(i=n(5785))&&i.__esModule?i:{default:i};function s(e,t){this.validity=e,this.exception=t}var a={process:function(e){if(!e.isLeaf())return new s(r.CONSTANTS.VALIDITY.NOT_VALID,"DB.1.1-1");var t=e.getPath(!1,null);if(!t.length)return new s(r.CONSTANTS.VALIDITY.NOT_VALID,"DB.1.1-2");for(;t.length;){var n=t.pop();if(o.default.process(n))return new s(r.CONSTANTS.VALIDITY.NOT_VALID,"DB.1.1-3")}return new s(r.CONSTANTS.VALIDITY.VALID,null)}};t.default=a},6723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(383)),r=o(n(2144));function o(e){return e&&e.__esModule?e:{default:e}}var s={process:function(e){var t,n,o;if(i.default.logger.trace("End Attempt Process start..."),e.isLeaf())e.isTracked()&&(e.isSuspended()||(e.isCompletionSetByContent()||e.getAttemptProgressStatus(!1)||(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!0)),e.isObjectiveSetByContent()||(t=e.getPrimaryObjective()).getProgressStatus(!1)||t.getSatisfiedByMeasure()||(t.setProgressStatus(!0),t.setSatisfiedStatus(!0))));else{o=!1;for(var s=0,a=(n=e.getAvailableChildren()).length;s<a;s++)if(n[s].isSuspended()){o=!0;break}e.setSuspended(o)}e.setAttemptEndTime(),e.setActive(!1),r.default.process(e),i.default.logger.trace("End Attempt Process end.")}};t.default=s},3150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(383))&&i.__esModule?i:{default:i},o=n(5349),s={process:function(e,t){r.default.logger.trace("Evaluate Rollup Conditions Subprocess start...");for(var n,i,s=t.rollupConditions,a=[],u=0,c=s.length;u<c;u++)i=(n=s[u]).evaluate(e),n.operator===o.CONSTANTS.OPERATORS.NOT&&(i=n.negate(i)),a.push(i);return a.length?(i=t.applyConditionCombination(a),r.default.logger.trace("Evaluate Rollup Conditions Subprocess end."),i):o.CONSTANTS.UNKNOWN}};t.default=s},1e3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(1086)),o=s(n(965));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var u={process:function(){var e=r.default.getCurrentActivity(),t=o.default.getRoot();return e?e.isActive()?new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.11-2"):new a(i.CONSTANTS.VALIDITY.VALID,null,e===t,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.11-1")}};t.default=u},7771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=a(n(5785)),o=a(n(9553)),s=a(n(554));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i){this.deliverable=e,this.activity=t,this.endSession=n,this.exception=i}var c={process:function e(t,n,a){var c;return t.getParent().isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FLOW)?null!==o.default.process(t,i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,i.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)?null===(c=s.default.process(t,n,!1,a)).activity?new u(!1,t,c.endSession,c.exception):n===i.CONSTANTS.DIRECTIONS.BACKWARD&&c.direction===i.CONSTANTS.DIRECTIONS.BACKWARD?e(c.activity,n,i.CONSTANTS.DIRECTIONS.UNDEFINED):e(c.activity,c.direction,a):r.default.process(t)?new u(!1,t,!1,"SB.2.2-2"):t.isLeaf()?new u(!0,t,!1,null):null===(c=s.default.process(t,n,!0,i.CONSTANTS.DIRECTIONS.UNDEFINED)).activity?new u(!1,t,c.endSession,c.exception):n===i.CONSTANTS.DIRECTIONS.BACKWARD&&c.direction===i.CONSTANTS.DIRECTIONS.FORWARD?e(c.activity,i.CONSTANTS.DIRECTIONS.FORWARD,i.CONSTANTS.DIRECTIONS.BACKWARD):e(c.activity,n,i.CONSTANTS.DIRECTIONS.UNDEFINED):new u(!1,t,!1,"SB.2.2-1")}};t.default=c},3818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(7771)),o=s(n(554));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i){this.activity=e,this.deliverable=t,this.endSession=n,this.exception=i}var u={process:function(e,t,n){var s=e,u=o.default.process(s,t,n,i.CONSTANTS.DIRECTIONS.UNDEFINED);if(null===u.activity)return new a(s,!1,u.endSession,u.exception);s=u.activity;var c=r.default.process(s,t,i.CONSTANTS.DIRECTIONS.UNDEFINED);return new a(c.activity,c.deliverable,c.endSession,c.exception)}};t.default=u},554:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(965)),o=s(n(1623));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i){this.activity=e,this.direction=t,this.endSession=n,this.exception=i}var u={process:function e(t,n,s,u){var c=!1,l=t.getParent(),d=r.default.getRoot();if(u===i.CONSTANTS.DIRECTIONS.BACKWARD&&l.getLastAvailableChild()===t&&(n=i.CONSTANTS.DIRECTIONS.BACKWARD,t=l.getFirstAvailableChild(),c=!0),n===i.CONSTANTS.DIRECTIONS.FORWARD){if(t===r.default.getLastAvailableActivity()||t===d&&!s)return o.default.process(d),new a(null,null,!0,null);if(t.isLeaf()||!s){var S=r.default.getNextAvailableSibling(t);return null===S?e(l,i.CONSTANTS.DIRECTIONS.FORWARD,!1,i.CONSTANTS.DIRECTIONS.UNDEFINED):new a(S,n,!1,null)}return t.getAvailableChildren().length?new a(t.getFirstAvailableChild(),n,!1,null):new a(null,null,!1,"SB.2.1-2")}if(n===i.CONSTANTS.DIRECTIONS.BACKWARD){if(t===d)return new a(null,null,!1,"SB.2.1-3");if(t.isLeaf()||!s){if(!c&&l.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY))return new a(null,null,!1,"SB.2.1-4");var f=r.default.getPreviousAvailableSibling(t);return null===f?e(l,i.CONSTANTS.DIRECTIONS.BACKWARD,!1,i.CONSTANTS.DIRECTIONS.UNDEFINED):new a(f,n,!1,null)}return t.getAvailableChildren().length?t.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY)?new a(t.getFirstAvailableChild(),i.CONSTANTS.DIRECTIONS.FORWARD,!1,null):new a(t.getLastAvailableChild(),i.CONSTANTS.DIRECTIONS.BACKWARD,!1,null):new a(null,null,!1,"SB.2.1-2")}}};t.default=u},3942:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={process:function(e){return!(!e.isTracked()||e.isActive()||e.isSuspended()||!(e.getAttemptControl()&&e.getProgressStatus()&&e.getAttemptCount()>=e.getAttemptLimit()))}}},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r={process:function(e){for(var t,n,r,o=e.getPrimaryObjective(),s=0,a=!1,u=0,c=!1,l=e.getObjectives(),d=0;d<l.length;d++)if(/^SubmitAll$/.test(l[d].getId())&&(c=!0,l[d].getProgressStatus()===i.CONSTANTS.SCORM.TRUE&&l[d].getSatisfiedStatus()===i.CONSTANTS.SCORM.TRUE)){c=!1;break}if(!c)for(var S=e.getAvailableChildren(),f=0,T=S.length;f<T;f++)n=(t=S[f]).getPrimaryObjective(),t.isTracked()&&(u+=r=t.getRollupObjectiveMeasureWeight(),n.getMeasureStatus(!1)===i.CONSTANTS.SCORM.TRUE&&(s+=n.getNormalizedMeasure(!1)*r,a=!0));a&&u>0?(o.setMeasureStatus(!0),o.setNormalizedMeasure(s/u)):o.setMeasureStatus(!1)}};t.default=r},6157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(1086)),o=s(n(965));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i,r){this.validity=e,this.terminationRequest=t,this.sequencingRequest=n,this.targetActivity=i,this.exception=r}var u={process:function(e,t){switch(e){case i.CONSTANTS.NAVIGATION_REQUESTS.START:return void 0===r.default.getCurrentActivity()?new a(i.CONSTANTS.VALIDITY.VALID,null,i.CONSTANTS.SEQUENCING_REQUESTS.START,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-1");case i.CONSTANTS.NAVIGATION_REQUESTS.RESUME_ALL:return n=r.default.getCurrentActivity(),s=r.default.getSuspendedActivity(),n?new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-1"):s?new a(i.CONSTANTS.VALIDITY.VALID,null,i.CONSTANTS.SEQUENCING_REQUESTS.RESUME_ALL,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-3");case i.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE:return function(){var e=r.default.getCurrentActivity();return void 0===e?new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2"):e!==o.default.getRoot()&&e.getParent().isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FLOW)?e.isActive()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.EXIT,i.CONSTANTS.SEQUENCING_REQUESTS.CONTINUE,null,null):new a(i.CONSTANTS.VALIDITY.VALID,null,i.CONSTANTS.SEQUENCING_REQUESTS.CONTINUE,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-4")}();case i.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS:return function(){var e=r.default.getCurrentActivity();if(void 0===e)return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2");if(e!==o.default.getRoot()){var t=e.getParent();return t.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FLOW)&&!t.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY)?e.isActive()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.EXIT,i.CONSTANTS.SEQUENCING_REQUESTS.PREVIOUS,null,null):new a(i.CONSTANTS.VALIDITY.VALID,null,i.CONSTANTS.SEQUENCING_REQUESTS.PREVIOUS,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-5")}return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-6")}();case i.CONSTANTS.NAVIGATION_REQUESTS.FORWARD:case i.CONSTANTS.NAVIGATION_REQUESTS.BACKWARD:return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-7");case i.CONSTANTS.NAVIGATION_REQUESTS.CHOICE:return function(e){var t,n,s,u=o.default.getActivityById(e),c=u.getParent(),l=o.default.getRoot(),d=r.default.getCurrentActivity();if(u){if(u===l||c.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.CHOICE)===i.CONSTANTS.SCORM.TRUE){if(!d)return new a(i.CONSTANTS.VALIDITY.VALID,null,i.CONSTANTS.SEQUENCING_REQUESTS.CHOICE,u,null);if(!d.isSiblingTo(u)){if(t=u.findCommonAncestor(d),!(n=d.getPath(!1,t)).length)return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-9");for(var S=0,f=n.length;S<f;S++)if((s=n[S]).isActive()&&!s.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT))return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-8")}return d.isActive()&&!d.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT)?new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-8"):d.isActive()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.EXIT,i.CONSTANTS.SEQUENCING_REQUESTS.CHOICE,u,null):new a(i.CONSTANTS.VALIDITY.VALID,null,i.CONSTANTS.SEQUENCING_REQUESTS.CHOICE,u,null)}return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-10")}return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-11")}(t);case i.CONSTANTS.NAVIGATION_REQUESTS.EXIT:return function(){var e=r.default.getCurrentActivity();return e?e.isActive()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.EXIT,null,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-12"):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2")}();case i.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL:return r.default.getCurrentActivity()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.EXIT_ALL,i.CONSTANTS.SEQUENCING_REQUESTS.EXIT_ALL,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2");case i.CONSTANTS.NAVIGATION_REQUESTS.ABANDON:return function(){var e=r.default.getCurrentActivity();return e?e.isActive()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.ABANDON,i.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-12"):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2")}();case i.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL:return r.default.getCurrentActivity()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.ABANDON_ALL,i.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2");case i.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL:return r.default.getCurrentActivity()?new a(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.TERMINATION_REQUESTS.SUSPEND_ALL,i.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2")}var n,s;return new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-13")}};t.default=u},6225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(383)),r=n(5349),o=u(n(2643)),s=u(n(1716)),a=u(n(2335));function u(e){return e&&e.__esModule?e:{default:e}}var c={process:function(e){i.default.logger.trace("Objective Rollup Process start...");var t=e.getRollupRules(r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED).length>0,n=e.getRollupRules(r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED).length>0,u=e.getPrimaryObjective();u&&(u.getSatisfiedByMeasure()?o.default.process(e):t||n?(t&&a.default.processNotSatisfiedAction(e),n&&a.default.processSatisfiedAction(e)):(s.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED),s.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED))),i.default.logger.trace("Objective Rollup Process end.")}};t.default=c},1716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(383)),r=n(5349),o=s(n(5041));function s(e){return e&&e.__esModule?e:{default:e}}var a={process:function(e,t){var n,s=e.getAvailableChildren(),a=e.getPrimaryObjective(),u=!0,c=!0,l=!1;if(t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED){if(i.default.logger.trace("Objective Rollup Using Default Process (satisfied action) start..."),s.length){for(var d=0,S=s.length;d<S;d++)if(n=s[d],o.default.process(n,r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED)&&(l=!0,n.getSatisfiedStatus()!==r.CONSTANTS.SCORM.TRUE)){u=!1;break}l&&u&&(a.setProgressStatus(!0),a.setSatisfiedStatus(!0))}i.default.logger.trace("Objective Rollup Using Default Process (satisfied action) end.")}if(t===r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED){if(i.default.logger.trace("Objective Rollup Using Default Process (notsatisfied action) start..."),s.length){for(var f=0,T=s.length;f<T;f++)if(n=s[f],o.default.process(n,r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED)&&(l=!0,!n.isAttempted())){c=!1;break}l&&c&&(a.setProgressStatus(!0),a.setSatisfiedStatus(!1))}i.default.logger.trace("Objective Rollup Using Default Process (notsatisfied action) end.")}}};t.default=a},2643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(383))&&i.__esModule?i:{default:i},o={process:function(e,t){r.default.logger.trace("Objective Rollup Using Measure Process start...");var n=t?e.getObjective(t):e.getPrimaryObjective();n.getSatisfiedByMeasure()&&(n.getMeasureStatus(!1)&&(!e.isActive()||e.isActive()&&e.getMeasureSatisfactionIfActive())?+n.getNormalizedMeasure(!1)>=+n.getMinimumSatisfiedNormalizedMeasure()?(n.setProgressStatus(!0),n.setSatisfiedStatus(!0)):(n.setProgressStatus(!0),n.setSatisfiedStatus(!1)):n.setProgressStatus(!1)),r.default.logger.trace("Objective Rollup Using Measure Process end.")}};t.default=o},2335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(383)),r=n(5349),o=s(n(9320));function s(e){return e&&e.__esModule?e:{default:e}}var a={processNotSatisfiedAction:function(e){i.default.logger.trace("Objective Rollup Using Rules Process (notsatisfied action) start...");var t=e.getPrimaryObjective();o.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED)&&(t.setProgressStatus(!0),t.setSatisfiedStatus(!1)),i.default.logger.trace("Objective Rollup Using Rules Process (notsatisfied action) end.")},processSatisfiedAction:function(e){i.default.logger.trace("Objective Rollup Using Rules Process (satisfied action) start...");var t=e.getPrimaryObjective();o.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED)&&(t.setProgressStatus(!0),t.setSatisfiedStatus(!0)),i.default.logger.trace("Objective Rollup Using Rules Process end.")}};t.default=a},2144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(6225)),r=s(n(5440)),o=s(n(344));function s(e){return e&&e.__esModule?e:{default:e}}var a={process:function(e){var t,n=e.getRollupSet();if(n.length)for(;n.length;)(t=n.pop()).isLeaf()||o.default.process(t),i.default.process(t),r.default.process(t),t.transferLocalStateToGlobal()}};t.default=a},940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(383)),r=n(5349),o=l(n(355)),s=l(n(1493)),a=l(n(9892)),u=l(n(7603)),c=l(n(6157));function l(e){return e&&e.__esModule?e:{default:e}}var d={"NB.2.1-1":"Current Activity is already defined / Sequencing session has already begun.","NB.2.1-2":"Current Activity is not defined / Sequencing session has not begun.","NB.2.1-3":"Suspended Activity is not defined","NB.2.1-4":"Flow Sequencing Control Mode violation","NB.2.1-5":"Flow or Forward Only Sequencing Control Mode violation","NB.2.1-6":"No activity is previous to the root","NB.2.1-7":"Unsupported navigation request","NB.2.1-8":"Choice Exit Sequencing Control Mode violation","NB.2.1-9":"No activities to consider","NB.2.1-10":"Choice Sequencing Control Mode violation","NB.2.1-11":"Target activity does not exist","NB.2.1-12":"Current Activity already terminated","NB.2.1-13":"Undefined navigation request","TB.2.3-1":"Current Activity is not defined / Sequencing session has not begun","TB.2.3-2":"Current Activity already terminated","TB.2.3-3":"Cannot suspend an inactive root","TB.2.3-4":"Activity tree root has no parent","TB.2.3-5":"Nothing to suspend; No active activities","TB.2.3-6":"Nothing to abandon; No active activities","TB.2.3-7":"Undefined termination request","SB.2.1-1":"Last activity in the tree","SB.2.1-2":"Cluster has no available children","SB.2.1-3":"No activity is previous to the root","SB.2.1-4":"Forward Only Sequencing Control Mode violation","SB.2.2-1":"Flow Sequencing Control Mode violation","SB.2.2-2":"Activity unavailable","SB.2.4-1":"Forward Traversal Blocked","SB.2.4-2":"Forward Only Sequencing Control Mode violation","SB.2.4-3":"No activity is previous to the root","SB.2.5-1":"Current Activity is defined / Sequencing session already begun","SB.2.6-1":"Current Activity is defined / Sequencing session already begun","SB.2.6-2":"No Suspended Activity defined","SB.2.7-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.7-2":"Flow Sequencing Control Mode violation","SB.2.8-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.8-2":"Flow Sequencing Control Mode violation","SB.2.9-1":"No target for Choice","SB.2.9-2":"Target activity does not exist or is unavailable","SB.2.9.3":"Target activity hidden from choice","SB.2.9-4":"Choice Sequencing Control Mode violation","SB.2.9-5":"No activities to consider","SB.2.9-6":"Unable to activate target; target is not a child of the Current Activity","SB.2.9-7":"Choice Exit Sequencing Control Mode violation","SB.2.9-8":"Unable to choose target activity  constrained choice","SB.2.9-9":"Choice request prevented by Flow-only activity","SB.2.10-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.10-2":"Current Activity is active or suspended","SB.2.10-3":"Flow Sequencing Control Mode violation","SB.2.11-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.11-2":"Current Activity has not been terminated","SB.2.12-1":"Undefined sequencing request","DB.1.1-1":"Cannot deliver a non-leaf activity","DB.1.1-2":"Nothing to deliver","DB.1.1-3":"Activity unavailable","DB.2-1":"Identified activity is already active"},S={process:function(e,t){var n,l,S=c.default.process(e,t),f=null;if(S.validity===r.CONSTANTS.VALIDITY.NOT_VALID)return i.default.logger.error("SCORM: code - ".concat(S.exception,", exception - ").concat(d[S.exception])),S.exception;if(null!==S.terminationRequest){if((n=o.default.process(S.terminationRequest)).validity===r.CONSTANTS.VALIDITY.NOT_VALID)return n.exception;n.sequencingRequest&&(S.sequencingRequest=n.sequencingRequest)}if(null!==S.sequencingRequest){if(!0===(l=s.default.process(S.sequencingRequest,t)).endSession)return!1;if(l.validity===r.CONSTANTS.VALIDITY.NOT_VALID)return i.default.logger.error("SCORM: code - ".concat(l.exception,", exception - ").concat(d[l.exception])),l.exception;if(null===l.deliveryRequest)return;f=l.deliveryRequest}if(null!==f){var T=u.default.process(f);if(T.validity===r.CONSTANTS.VALIDITY.NOT_VALID)return i.default.logger.error("SCORM: code - ".concat(T.exception,", exception - ").concat(d[T.exception])),T.exception;var N=a.default.process(f);return N.validity===r.CONSTANTS.VALIDITY.VALID||(i.default.logger.error("SCORM: code - ".concat(N.exception,", exception - ").concat(d[N.exception])),N.exception)}}};t.default=S},1358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=a(n(1086)),o=a(n(965)),s=a(n(3818));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var c={process:function(){var e=r.default.getCurrentActivity();if(void 0===e)return new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.8-1");if(e!==o.default.getRoot()&&!e.getParent().isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FLOW))return new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.8-2");var t=s.default.process(e,i.CONSTANTS.DIRECTIONS.BACKWARD,!1);return t.deliverable?new u(i.CONSTANTS.VALIDITY.VALID,t.activity,!1,null):new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,t.exception)}};t.default=c},6190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(383))&&i.__esModule?i:{default:i},o=n(5349);function s(e){var t=e.getAvailableChildren();Array.isArray(t)&&t.length>0&&e.setAvailableChildren(r.default.shuffle(t.slice()))}var a={process:function(e){if(!e.isLeaf()&&!e.isSuspended()&&!e.isActive())switch(e.getRandomizationTiming()){case o.CONSTANTS.TIMING.NEVER:break;case o.CONSTANTS.TIMING.ONCE:e.getProgressStatus()||e.getReorderChildren()&&s(e);break;case o.CONSTANTS.TIMING.ON_EACH_NEW_ATTEMPT:e.getReorderChildren()&&s(e)}}};t.default=a},6059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(1086))&&i.__esModule?i:{default:i},o=n(5349);function s(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var a={process:function(){var e=r.default.getCurrentActivity(),t=r.default.getSuspendedActivity();return e?new s(o.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.6-1"):t?new s(o.CONSTANTS.VALIDITY.VALID,t,!1,null):new s(o.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.6-2")}};t.default=a},4635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(1086)),o=s(n(3818));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var u={process:function(){var e,t=r.default.getCurrentActivity();return t?t.isActive()||t.isSuspended()?new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.10-2"):t.isLeaf()?new a(i.CONSTANTS.VALIDITY.VALID,t,!1,null):(e=o.default.process(t,i.CONSTANTS.DIRECTIONS.FORWARD,!0)).deliverable?new a(i.CONSTANTS.VALIDITY.VALID,e.activity,!1,null):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.10-3"):new a(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.10-1")}};t.default=u},9320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(383)),r=n(5349),o=a(n(3150)),s=a(n(5041));function a(e){return e&&e.__esModule?e:{default:e}}var u={process:function(e,t){i.default.logger.trace("Rollup Rule Check Subprocess start...");var n,a,u=e.getRollupRules(t),c=e.getAvailableChildren(),l=[],d=!1;if(u.length)for(var S=0,f=u.length;S<f;S++){n=u[S];for(var T=0,N=c.length;T<N;T++)(a=c[T]).isTracked()&&s.default.process(a,t)&&l.push(o.default.process(a,n));switch(d=!1,n.childActivitySet){case r.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL:d=i.default.filter(l,(function(e){return!0===e})).length===l.length;break;case r.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ANY:d=i.default.filter(l,(function(e){return!0===e})).length>0;break;case r.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.NONE:d=i.default.filter(l,(function(e){return!1===e})).length===l.length;break;case r.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_COUNT:d=i.default.filter(l,(function(e){return!0===e})).length>=n.minimumCount;break;case r.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_PERCENT:d=i.default.filter(l,(function(e){return!0===e})).length/l.length>=n.minimumPercent}if(d)return!0}return i.default.logger.trace("Rollup Rule Check Subprocess end."),!1}};t.default=u},3618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(383))&&i.__esModule?i:{default:i},o=n(5349),s={process:function(e){var t,n,i,s,a,u,c;if(!e.isLeaf()&&!e.isSuspended()&&!e.isActive())switch(e.getSelectionTiming()){case o.CONSTANTS.TIMING.NEVER:t=e.getAllChildren(),e.setAvailableChildren(t);break;case o.CONSTANTS.TIMING.ONCE:break;case o.CONSTANTS.TIMING.ON_EACH_NEW_ATTEMPT:if(e.getSelectCountStatus()){for(t=[],(s=e.getSelectCount())>(a=e.getAllChildren()).length&&(s=a.length),n=[];n.length!==s;)i=Math.floor(Math.random()*a.length),r.default.contains(n,i)||n.push(i);for(n.sort(),u=0,c=n.length;u<c;u++)t.push(a[n[u]])}e.setAvailableChildren(t)}}};t.default=s},3523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=u(n(1086)),o=u(n(6723)),s=u(n(9553)),a=u(n(1623));function u(e){return e&&e.__esModule?e:{default:e}}var c={process:function(e){for(var t,n=e.getPath(!0,e),u=void 0,c=0,l=n.length;c<l;c++)if(t=n[c],null!==s.default.process(t,i.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION,null)){u=t;break}void 0!==u&&(a.default.process(u),o.default.process(u),r.default.setCurrentActivity(u))}};t.default=c},4655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=s(n(965)),o=s(n(9553));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){this.terminationRequest=e,this.sequencingRequest=t}var u={process:function(e,t){if(e.isSuspended())return new a(null,null);var n=o.default.process(e,i.CONSTANTS.SEQUENCING_RULES.POST_CONDITION,null);return n===i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.RETRY?(e.prepareForNewAttempt(t,!0),new a(null,n)):n===i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.CONTINUE||n===i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.PREVIOUS?new a(null,n):n===i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.EXIT_PARENT||n===i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.EXIT_ALL?new a(n,null):n===i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.RETRY_ALL?(r.default.getRoot().prepareForNewAttempt(!0,!0),new a(i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.EXIT_ALL,i.CONSTANTS.POST_CONDITION_RULES_ACTIONS.RETRY)):new a(null,null)}};t.default=u},1493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=d(n(1e3)),o=d(n(4635)),s=d(n(5798)),a=d(n(4071)),u=d(n(4422)),c=d(n(1358)),l=d(n(6059));function d(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var f={process:function(e,t){switch(e){case i.CONSTANTS.SEQUENCING_REQUESTS.START:return s.default.process();case i.CONSTANTS.SEQUENCING_REQUESTS.RESUME_ALL:return l.default.process();case i.CONSTANTS.SEQUENCING_REQUESTS.EXIT:return r.default.process();case i.CONSTANTS.SEQUENCING_REQUESTS.RETRY:return o.default.process();case i.CONSTANTS.SEQUENCING_REQUESTS.CONTINUE:return u.default.process();case i.CONSTANTS.SEQUENCING_REQUESTS.PREVIOUS:return c.default.process();case i.CONSTANTS.SEQUENCING_REQUESTS.CHOICE:return a.default.process(t)}return new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.12-1")}};t.default=f},9553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(383)),r=n(5349),o=s(n(617));function s(e){return e&&e.__esModule?e:{default:e}}var a={process:function(e,t,n){i.default.logger.trace("Sequencing Rules Check Process start...");var s,a,u,c=e.getSequencingRules(t,n),l=null;for(a=0,u=c.length;a<u;a++)if(s=c[a],o.default.process(e,s)===r.CONSTANTS.SCORM.TRUE){l=s.ruleAction;break}return i.default.logger.trace("Sequencing Rules Check Process end."),l}};t.default=a},617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r={process:function(e,t){for(var n,r,o=[],s=0,a=t.conditions.length;s<a;s++)r=(n=t.conditions[s]).evaluate(e),n.operator===i.CONSTANTS.OPERATORS.NOT&&(r=n.negate(r)),o.push(r);return t.applyConditionCombination(o)}};t.default=r},5798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5349),r=a(n(1086)),o=a(n(965)),s=a(n(3818));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=i}var c={process:function(){if(void 0!==r.default.getCurrentActivity())return new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.5-1");var e=o.default.getRoot();if(e.isLeaf())return new u(i.CONSTANTS.VALIDITY.VALID,e,!1,null);var t=s.default.process(e,i.CONSTANTS.DIRECTIONS.FORWARD,!0);return t.deliverable?new u(i.CONSTANTS.VALIDITY.VALID,t.activity,!1,null):new u(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,t.exception)}};t.default=c},1623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(1086)),r=o(n(6723));function o(e){return e&&e.__esModule?e:{default:e}}var s={process:function(e){var t=i.default.getCurrentActivity();if(t){var n=e.findCommonAncestor(t),o=t.getPath(!1,n);for(o.shift();o.length;)r.default.process(o.pop())}}};t.default=s},355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=S(n(383)),r=n(5349),o=S(n(1086)),s=S(n(965)),a=S(n(6723)),u=S(n(2144)),c=S(n(1623)),l=S(n(3523)),d=S(n(4655));function S(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){this.validity=e,this.sequencingRequest=t,this.exception=n}function T(e,t){i.default.logger.trace("Termination Request Exit All Process start...");var n=s.default.getRoot();return t=t||r.CONSTANTS.SEQUENCING_REQUESTS.EXIT,e.isActive()&&a.default.process(e),c.default.process(n),a.default.process(n),o.default.setCurrentActivity(n),i.default.logger.trace("Termination Request Exit All Process end."),new f(r.CONSTANTS.VALIDITY.VALID,t,null)}var N={process:function(e){i.default.logger.trace("Termination Request Process start...");var t,n=o.default.getCurrentActivity();if(!n)return i.default.logger.trace("Termination Request Process end."),new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-1");if((e===r.CONSTANTS.TERMINATION_REQUESTS.EXIT||e===r.CONSTANTS.TERMINATION_REQUESTS.ABANDON)&&!n.isActive())return i.default.logger.trace("Termination Request Process end."),new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-2");switch(e){case r.CONSTANTS.TERMINATION_REQUESTS.EXIT:t=function(e){var t,n;i.default.logger.trace("Termination Request Exit Process start...");var u=e;a.default.process(e),l.default.process(e);var c=u===(e=o.default.getCurrentActivity())||e===s.default.getRoot();do{if(t=!1,(n=d.default.process(e,c)).terminationRequest===r.CONSTANTS.TERMINATION_REQUESTS.EXIT_ALL)return i.default.logger.trace("Termination Request Exit Process end."),T(e,n.sequencingRequest);if(n.terminationRequest===r.CONSTANTS.TERMINATION_REQUESTS.EXIT_PARENT){if(e===s.default.getRoot())return i.default.logger.trace("Termination Request Exit Process end."),new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-4");e=e.getParent(),o.default.setCurrentActivity(e),a.default.process(e),t=!0}else if(e===s.default.getRoot()&&n.sequencingRequest!==r.CONSTANTS.SEQUENCING_REQUESTS.RETRY)return i.default.logger.trace("Termination Request Exit Process end."),new f(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null)}while(t);return i.default.logger.trace("Termination Request Exit Process end."),new f(r.CONSTANTS.VALIDITY.VALID,n.sequencingRequest,null)}(n);break;case r.CONSTANTS.TERMINATION_REQUESTS.EXIT_ALL:t=T(n);break;case r.CONSTANTS.TERMINATION_REQUESTS.SUSPEND_ALL:t=function(e){i.default.logger.trace("Termination Request Suspend All Process start...");var t,n=s.default.getRoot();if(e.isActive()||e.isSuspended())u.default.process(e),o.default.setSuspendedActivity(e);else{if(e===n)return i.default.logger.trace("Termination Request Suspend All Process end."),new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-3");o.default.setSuspendedActivity(e.getParent())}var a=o.default.getSuspendedActivity(),c=a?a.getPath(!1,null):[];if(!c.length)return i.default.logger.trace("Termination Request Suspend All Process end."),new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-5");for(var l=0,d=c.length;l<d;l++)(t=c[l]).setActive(!1),t.setSuspended(!0);return o.default.setCurrentActivity(n),i.default.logger.trace("Termination Request Suspend All Process end."),new f(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null)}(n);break;case r.CONSTANTS.TERMINATION_REQUESTS.ABANDON:t=function(e){return i.default.logger.trace("Termination Request Abandon Process start..."),e.setActive(!1),i.default.logger.trace("Termination Request Abandon Process end."),new f(r.CONSTANTS.VALIDITY.VALID,null,null)}(n);break;case r.CONSTANTS.TERMINATION_REQUESTS.ABANDON_ALL:t=function(e){i.default.logger.trace("Termination Request Abandon All Process start...");var t=e.getPath(!1,null);if(!t.length)return i.default.logger.trace("Termination Request Abandon All Process end."),new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-6");for(var n=0,a=t.length;n<a;n++)t[n].setActive(!1);return o.default.setCurrentActivity(s.default.getRoot()),i.default.logger.trace("Termination Request Abandon All Process end."),new f(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null)}(n)}return i.default.logger.trace("Termination Request Process end."),t||new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-7")}};t.default=N},5134:function(e,t,n){var i=n(3200);e.exports=i},7759:function(e,t,n){var i=n(6583);e.exports=i},4550:function(e,t,n){var i=n(7997);e.exports=i},4794:function(e,t,n){n(9826);var i=n(2649);e.exports=i("Array","find")},4667:function(e,t,n){n(6833);var i=n(857);e.exports=i.Object.values},5813:function(e,t,n){n(6755);var i=n(2649);e.exports=i("String","startsWith")},2173:function(e,t,n){var i=n(5134);e.exports=i},1817:function(e,t,n){var i=n(7759);e.exports=i},7443:function(e,t,n){var i=n(4550);e.exports=i},9662:function(e,t,n){var i=n(7854),r=n(614),o=n(6330),s=i.TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not a function")}},1223:function(e,t,n){var i=n(5112),r=n(30),o=n(3070),s=i("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},9670:function(e,t,n){var i=n(7854),r=n(111),o=i.String,s=i.TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not an object")}},1318:function(e,t,n){var i=n(5656),r=n(1400),o=n(6244),s=function(e){return function(t,n,s){var a,u=i(t),c=o(u),l=r(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:function(e,t,n){var i=n(9974),r=n(1702),o=n(8361),s=n(7908),a=n(6244),u=n(5417),c=r([].push),l=function(e){var t=1==e,n=2==e,r=3==e,l=4==e,d=6==e,S=7==e,f=5==e||d;return function(T,N,p,O){for(var A,g,v=s(T),m=o(v),C=i(N,p),I=a(m),E=0,h=O||u,_=t?h(T,I):n||S?h(T,0):void 0;I>E;E++)if((f||E in m)&&(g=C(A=m[E],E,v),e))if(t)_[E]=g;else if(g)switch(e){case 3:return!0;case 5:return A;case 6:return E;case 2:c(_,A)}else switch(e){case 4:return!1;case 7:c(_,A)}return d?-1:r||l?l:_}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7475:function(e,t,n){var i=n(7854),r=n(3157),o=n(4411),s=n(111),a=n(5112)("species"),u=i.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===u||r(t.prototype))||s(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?u:t}},5417:function(e,t,n){var i=n(7475);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},4326:function(e,t,n){var i=n(1702),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},648:function(e,t,n){var i=n(7854),r=n(1694),o=n(614),s=n(4326),a=n(5112)("toStringTag"),u=i.Object,c="Arguments"==s(function(){return arguments}());e.exports=r?s:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=u(e),a))?n:c?s(t):"Object"==(i=s(t))&&o(t.callee)?"Arguments":i}},9920:function(e,t,n){var i=n(2597),r=n(3887),o=n(1236),s=n(3070);e.exports=function(e,t,n){for(var a=r(t),u=s.f,c=o.f,l=0;l<a.length;l++){var d=a[l];i(e,d)||n&&i(n,d)||u(e,d,c(t,d))}}},4964:function(e,t,n){var i=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},8880:function(e,t,n){var i=n(9781),r=n(3070),o=n(9114);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9781:function(e,t,n){var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var i=n(7854),r=n(111),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},8113:function(e,t,n){var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:function(e,t,n){var i,r,o=n(7854),s=n(8113),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(r=(i=l.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},2649:function(e,t,n){var i=n(7854),r=n(1702);e.exports=function(e,t){return r(i[e].prototype[t])}},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var i=n(7854),r=n(1236).f,o=n(8880),s=n(1320),a=n(3505),u=n(9920),c=n(4705);e.exports=function(e,t){var n,l,d,S,f,T=e.target,N=e.global,p=e.stat;if(n=N?i:p?i[T]||a(T,{}):(i[T]||{}).prototype)for(l in t){if(S=t[l],d=e.noTargetGet?(f=r(n,l))&&f.value:n[l],!c(N?l:T+(p?".":"#")+l,e.forced)&&void 0!==d){if(typeof S==typeof d)continue;u(S,d)}(e.sham||d&&d.sham)&&o(S,"sham",!0),s(n,l,S,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:function(e,t,n){var i=n(1702),r=n(9662),o=n(4374),s=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var i=n(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var i=n(4374),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(e,t,n){var i=n(9781),r=n(2597),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!i||i&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},1702:function(e,t,n){var i=n(4374),r=Function.prototype,o=r.bind,s=r.call,a=i&&o.bind(s,s);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},5005:function(e,t,n){var i=n(7854),r=n(614),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e]):i[e]&&i[e][t]}},8173:function(e,t,n){var i=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},7854:function(e,t,n){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var i=n(1702),r=n(7908),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var i=n(5005);e.exports=i("document","documentElement")},4664:function(e,t,n){var i=n(9781),r=n(7293),o=n(317);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var i=n(7854),r=n(1702),o=n(7293),s=n(4326),a=i.Object,u=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?u(e,""):a(e)}:a},2788:function(e,t,n){var i=n(1702),r=n(614),o=n(5465),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},9909:function(e,t,n){var i,r,o,s=n(8536),a=n(7854),u=n(1702),c=n(111),l=n(8880),d=n(2597),S=n(5465),f=n(6200),T=n(3501),N="Object already initialized",p=a.TypeError,O=a.WeakMap;if(s||S.state){var A=S.state||(S.state=new O),g=u(A.get),v=u(A.has),m=u(A.set);i=function(e,t){if(v(A,e))throw new p(N);return t.facade=e,m(A,e,t),t},r=function(e){return g(A,e)||{}},o=function(e){return v(A,e)}}else{var C=f("state");T[C]=!0,i=function(e,t){if(d(e,C))throw new p(N);return t.facade=e,l(e,C,t),t},r=function(e){return d(e,C)?e[C]:{}},o=function(e){return d(e,C)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw p("Incompatible receiver, "+e+" required");return n}}}},3157:function(e,t,n){var i=n(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},614:function(e){e.exports=function(e){return"function"==typeof e}},4411:function(e,t,n){var i=n(1702),r=n(7293),o=n(614),s=n(648),a=n(5005),u=n(2788),c=function(){},l=[],d=a("Reflect","construct"),S=/^\s*(?:class|function)\b/,f=i(S.exec),T=!S.exec(c),N=function(e){if(!o(e))return!1;try{return d(c,l,e),!0}catch(e){return!1}},p=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return T||!!f(S,u(e))}catch(e){return!0}};p.sham=!0,e.exports=!d||r((function(){var e;return N(N.call)||!N(Object)||!N((function(){e=!0}))||e}))?p:N},4705:function(e,t,n){var i=n(7293),r=n(614),o=/#|\.prototype\./,s=function(e,t){var n=u[a(e)];return n==l||n!=c&&(r(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},111:function(e,t,n){var i=n(614);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},1913:function(e){e.exports=!1},7850:function(e,t,n){var i=n(111),r=n(4326),o=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},2190:function(e,t,n){var i=n(7854),r=n(5005),o=n(614),s=n(7976),a=n(3307),u=i.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&s(t.prototype,u(e))}},6244:function(e,t,n){var i=n(7466);e.exports=function(e){return i(e.length)}},133:function(e,t,n){var i=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(e,t,n){var i=n(7854),r=n(614),o=n(2788),s=i.WeakMap;e.exports=r(s)&&/native code/.test(o(s))},3929:function(e,t,n){var i=n(7854),r=n(7850),o=i.TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},30:function(e,t,n){var i,r=n(9670),o=n(6048),s=n(748),a=n(3501),u=n(490),c=n(317),l=n(6200)("IE_PROTO"),d=function(){},S=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(S("")),e.close();var t=e.parentWindow.Object;return e=null,t},T=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;T="undefined"!=typeof document?document.domain&&i?f(i):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(S("document.F=Object")),e.close(),e.F):f(i);for(var n=s.length;n--;)delete T.prototype[s[n]];return T()};a[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[l]=e):n=T(),void 0===t?n:o.f(n,t)}},6048:function(e,t,n){var i=n(9781),r=n(3353),o=n(3070),s=n(9670),a=n(5656),u=n(1956);t.f=i&&!r?Object.defineProperties:function(e,t){s(e);for(var n,i=a(t),r=u(t),c=r.length,l=0;c>l;)o.f(e,n=r[l++],i[n]);return e}},3070:function(e,t,n){var i=n(7854),r=n(9781),o=n(4664),s=n(3353),a=n(9670),u=n(4948),c=i.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=r?s?function(e,t,n){if(a(e),t=u(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=d(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=u(t),a(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var i=n(9781),r=n(6916),o=n(5296),s=n(9114),a=n(5656),u=n(4948),c=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=a(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return s(!r(o.f,e,t),e[t])}},8006:function(e,t,n){var i=n(6324),r=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},7976:function(e,t,n){var i=n(1702);e.exports=i({}.isPrototypeOf)},6324:function(e,t,n){var i=n(1702),r=n(2597),o=n(5656),s=n(1318).indexOf,a=n(3501),u=i([].push);e.exports=function(e,t){var n,i=o(e),c=0,l=[];for(n in i)!r(a,n)&&r(i,n)&&u(l,n);for(;t.length>c;)r(i,n=t[c++])&&(~s(l,n)||u(l,n));return l}},1956:function(e,t,n){var i=n(6324),r=n(748);e.exports=Object.keys||function(e){return i(e,r)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},4699:function(e,t,n){var i=n(9781),r=n(1702),o=n(1956),s=n(5656),a=r(n(5296).f),u=r([].push),c=function(e){return function(t){for(var n,r=s(t),c=o(r),l=c.length,d=0,S=[];l>d;)n=c[d++],i&&!a(r,n)||u(S,e?[n,r[n]]:r[n]);return S}};e.exports={entries:c(!0),values:c(!1)}},2140:function(e,t,n){var i=n(7854),r=n(6916),o=n(614),s=n(111),a=i.TypeError;e.exports=function(e,t){var n,i;if("string"===t&&o(n=e.toString)&&!s(i=r(n,e)))return i;if(o(n=e.valueOf)&&!s(i=r(n,e)))return i;if("string"!==t&&o(n=e.toString)&&!s(i=r(n,e)))return i;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var i=n(5005),r=n(1702),o=n(8006),s=n(5181),a=n(9670),u=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?u(t,n(e)):t}},857:function(e,t,n){var i=n(7854);e.exports=i},1320:function(e,t,n){var i=n(7854),r=n(614),o=n(2597),s=n(8880),a=n(3505),u=n(2788),c=n(9909),l=n(6530).CONFIGURABLE,d=c.get,S=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,u){var c,d=!!u&&!!u.unsafe,T=!!u&&!!u.enumerable,N=!!u&&!!u.noTargetGet,p=u&&void 0!==u.name?u.name:t;r(n)&&("Symbol("===String(p).slice(0,7)&&(p="["+String(p).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==p)&&s(n,"name",p),(c=S(n)).source||(c.source=f.join("string"==typeof p?p:""))),e!==i?(d?!N&&e[t]&&(T=!0):delete e[t],T?e[t]=n:s(e,t,n)):T?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return r(this)&&d(this).source||u(this)}))},4488:function(e,t,n){var i=n(7854).TypeError;e.exports=function(e){if(null==e)throw i("Can't call method on "+e);return e}},3505:function(e,t,n){var i=n(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},6200:function(e,t,n){var i=n(2309),r=n(9711),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},5465:function(e,t,n){var i=n(7854),r=n(3505),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},2309:function(e,t,n){var i=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:i?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(e,t,n){var i=n(9303),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},5656:function(e,t,n){var i=n(8361),r=n(4488);e.exports=function(e){return i(r(e))}},9303:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var i=+e;return i!=i||0===i?0:(i>0?n:t)(i)}},7466:function(e,t,n){var i=n(9303),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7908:function(e,t,n){var i=n(7854),r=n(4488),o=i.Object;e.exports=function(e){return o(r(e))}},7593:function(e,t,n){var i=n(7854),r=n(6916),o=n(111),s=n(2190),a=n(8173),u=n(2140),c=n(5112),l=i.TypeError,d=c("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,i=a(e,d);if(i){if(void 0===t&&(t="default"),n=r(i,e,t),!o(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},4948:function(e,t,n){var i=n(7593),r=n(2190);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1694:function(e,t,n){var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},1340:function(e,t,n){var i=n(7854),r=n(648),o=i.String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:function(e,t,n){var i=n(7854).String;e.exports=function(e){try{return i(e)}catch(e){return"Object"}}},9711:function(e,t,n){var i=n(1702),r=0,o=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+o,36)}},3307:function(e,t,n){var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var i=n(9781),r=n(7293);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var i=n(7854),r=n(2309),o=n(2597),s=n(9711),a=n(133),u=n(3307),c=r("wks"),l=i.Symbol,d=l&&l.for,S=u?l:l&&l.withoutSetter||s;e.exports=function(e){if(!o(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&o(l,e)?c[e]=l[e]:c[e]=u&&d?d(t):S(t)}return c[e]}},9826:function(e,t,n){"use strict";var i=n(2109),r=n(2092).find,o=n(1223),s="find",a=!0;s in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},6833:function(e,t,n){var i=n(2109),r=n(4699).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},6755:function(e,t,n){"use strict";var i,r=n(2109),o=n(1702),s=n(1236).f,a=n(7466),u=n(1340),c=n(3929),l=n(4488),d=n(4964),S=n(1913),f=o("".startsWith),T=o("".slice),N=Math.min,p=d("startsWith");r({target:"String",proto:!0,forced:!(!S&&!p&&(i=s(String.prototype,"startsWith"),i&&!i.writable)||p)},{startsWith:function(e){var t=u(l(this));c(e);var n=a(N(arguments.length>1?arguments[1]:void 0,t.length)),i=u(e);return f?f(t,i,n):T(t,n,n+i.length)===i}})},3200:function(e,t,n){var i=n(4794);e.exports=i},6583:function(e,t,n){var i=n(4667);e.exports=i},7997:function(e,t,n){var i=n(5813);e.exports=i}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}return n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(1997)}()}));