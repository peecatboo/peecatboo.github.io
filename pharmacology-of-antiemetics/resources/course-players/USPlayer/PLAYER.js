!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.player=t():e.player=t()}(this,(function(){return function(){"use strict";var e={2795:function(e,t,n){n.r(t),n.d(t,{HandlerType:function(){return it},Logger:function(){return st},StatusType:function(){return tt},datadogLogs:function(){return Xn}});var r={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},i=console,o={};Object.keys(r).forEach((function(e){o[e]=i[e]}));var s="Datadog Browser SDK:",a={debug:o.debug.bind(i,s),log:o.log.bind(i,s),info:o.info.bind(i,s),warn:o.warn.bind(i,s),error:o.error.bind(i,s)},u="https://docs.datadoghq.com",c="".concat(u,"/real_user_monitoring/browser/troubleshooting"),l="More details:";function d(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){a.error(t,e)}}}var f,S=!1;function T(e){S=e}function N(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(f?p(r):r).apply(this,e)}}function p(e){return function(){return g(e,this,arguments)}}function g(e,t,n){try{return e.apply(t,n)}catch(e){if(O(e),f)try{f(e)}catch(e){O(e)}}}function O(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];S&&a.error.apply(a,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}(["[MONITOR]"],e,!1))}function v(e,t){return-1!==e.indexOf(t)}function A(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){return t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function m(e){return Object.keys(e).map((function(t){return e[t]}))}function C(e,t){return e.slice(0,t.length)===t}function E(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function I(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}var h=/[^\u0000-\u007F]/;function _(e){return h.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function b(e,t){var n,r=I();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function R(e,t){return b(I(),"setTimeout")(p(e),t)}function y(e){b(I(),"clearTimeout")(e)}function L(e,t){return b(I(),"setInterval")(p(e),t)}function M(e){b(I(),"clearInterval")(e)}function D(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,s=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];a?r=n:(o?e.apply(void 0,n):r=n,a=!0,i=R((function(){s&&r&&e.apply(void 0,r),a=!1,r=void 0}),t))},cancel:function(){y(i),a=!1,r=void 0}}}function P(){}function w(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=U(Object.prototype),i=U(Array.prototype),o=U(Object.getPrototypeOf(e)),s=U(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),i(),o(),s()}}function U(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):P}function j(e,t){return Object.keys(e).some((function(n){return e[n]===t}))}function x(e){return 0===Object.keys(e).length}function V(e){var t=0,n=D((function(n){t=_(w(n)),e()}),200),r=n.throttled,i=n.cancel,o=function(){i(),t=0};return{updateCustomerData:function(e){x(e)?o():r(e)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function k(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function B(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=B(i[o],t[o],n);return i}var s="object"===k(e)?e:{};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=B(s[a],t[a],n));return s}}function G(e){return B(void 0,e)}function F(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=B(e,o))}return e}function q(e,t){void 0===t&&(t=225280);var n=U(Object.prototype),r=U(Array.prototype),i=[],o=new WeakMap,s=Y(e,"$",void 0,i,o),a=JSON.stringify(s),u=a?a.length:0;if(!(u>t)){for(;i.length>0&&u<t;){var c=i.shift(),l=0;if(Array.isArray(c.source))for(var d=0;d<c.source.length;d++){if(u+=void 0!==(f=Y(c.source[d],c.path,d,i,o))?JSON.stringify(f).length:4,u+=l,l=1,u>t){Q(t,"truncated",e);break}c.target[d]=f}else for(var d in c.source)if(Object.prototype.hasOwnProperty.call(c.source,d)){var f;if(void 0!==(f=Y(c.source[d],c.path,d,i,o))&&(u+=JSON.stringify(f).length+l+d.length+3,l=1),u>t){Q(t,"truncated",e);break}c.target[d]=f}}return n(),r(),s}Q(t,"discarded",e)}function Y(e,t,n,r,i){var o,s=function(e){var t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch(e){}return e}(e);if(!s||"object"!=typeof s)return"bigint"==typeof(o=s)?"[BigInt] ".concat(o.toString()):"function"==typeof o?"[Function] ".concat(o.name||"unknown"):"symbol"==typeof o?"[Symbol] ".concat(o.description||o.toString()):o;var a=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(e){}return"[Unserializable]"}(s);if("[Object]"!==a&&"[Array]"!==a&&"[Error]"!==a)return a;var u=e;if(i.has(u))return"[Reference seen at ".concat(i.get(u),"]");var c=void 0!==n?"".concat(t,".").concat(n):t,l=Array.isArray(s)?[]:{};return i.set(u,c),r.push({source:s,target:l,path:c}),l}function Q(e,t,n){a.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var z=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function W(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new z((function(t){var n=e.map((function(e){return e.subscribe((function(e){return t.notify(e)}))}));return function(){return n.forEach((function(e){return e.unsubscribe()}))}}))}function H(e){var t={},n=new z,r={getContext:function(){return G(t)},setContext:function(i){"object"===k(i)?(t=q(i),e&&e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,i){t[r]=q(i),e&&e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],e&&e.updateCustomerData(t),n.notify()},clearContext:function(){t={},e&&e.resetCustomerData(),n.notify()},changeObservable:n};return r}var K={GRANTED:"granted",NOT_GRANTED:"not-granted"};function X(e,t,n,r,i){return $(e,t,[n],r,i)}function $(e,t,n,r,i){var o=void 0===i?{}:i,s=o.once,a=o.capture,u=o.passive,c=p((function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(s&&S(),r(t))})),l=u?{capture:a,passive:u}:a,d=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,f=b(d,"addEventListener");function S(){var e=b(d,"removeEventListener");n.forEach((function(n){return e.call(t,n,c,l)}))}return n.forEach((function(e){return f.call(t,e,c,l)})),{stop:S}}var Z=[];function J(e,t,n,r){var i=function(e,t){return"".concat("_dd_c","_").concat(e,"_").concat(t)}(n,r);function o(){var e=localStorage.getItem(i);return null!==e?JSON.parse(e):{}}Z.push(X(e,window,"storage",(function(e){var n=e.key;i===n&&t.setContext(o())}))),t.changeObservable.subscribe((function(){localStorage.setItem(i,JSON.stringify(t.getContext()))})),t.setContext(F(o(),t.getContext()))}var ee="?";function te(e){var t=[],n=le(e,"stack"),r=String(e);return n&&C(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((function(e){var n=function(e){var t=ie.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=oe.exec(t[2]);return r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||ee,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=se.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:ee,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=ae.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||ee,line:+t[3],url:t[2]}}(e)||function(e){var t=ue.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,r=ce.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||ee,line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func=ee),t.push(n))})),{message:le(e,"message"),name:le(e,"name"),stack:t}}var ne="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",re="(?::(\\d+))",ie=new RegExp("^\\s*at (.*?) ?\\(".concat(ne).concat(re,"?").concat(re,"?\\)?\\s*$"),"i"),oe=new RegExp("\\((\\S*)".concat(re).concat(re,"\\)")),se=new RegExp("^\\s*at ?".concat(ne).concat(re,"?").concat(re,"??\\s*$"),"i"),ae=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ue=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ce=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function le(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var de=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function fe(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return g((function(){var n=te(t);n.stack=n.stack.slice(2),e=Se(n)})),e}function Se(e){var t=Te(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",i=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(i).concat(o)})),t}function Te(e){return"".concat(e.name||"Error",": ").concat(e.message)}var Ne,pe="No stack, consider using an instance of Error";function ge(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,s=e.source,a=e.handling,u=n instanceof Error,c=function(e,t,n,r){return(null==e?void 0:e.message)&&(null==e?void 0:e.name)?e.message:t?"Empty message":"".concat(n," ").concat(w(q(r)))}(t,u,o,n),l=function(e,t){return void 0!==t&&(!!e||t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url))}(u,t)?Se(t):pe,d=u?ve(n,s):void 0;return{startClocks:i,source:s,handling:a,handlingStack:r,originalError:n,type:t?t.name:void 0,message:c,stack:l,causes:d,fingerprint:Oe(n)}}function Oe(e){return e instanceof Error&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function ve(e,t){for(var n=e,r=[];(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=te(n.cause);r.push({message:n.cause.message,source:t,type:null==i?void 0:i.name,stack:i&&Se(i)}),n=n.cause}return r.length?r:void 0}!function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.REMOTE_CONFIGURATION="remote_configuration",e.LONG_ANIMATION_FRAME="long_animation_frame",e.ACTION_NAME_MASKING="action_name_masking"}(Ne||(Ne={}));var Ae=new Set;var me,Ce="datadoghq.com",Ee=["ddsource","ddtags"],Ie=1e3,he=6e4;function _e(){return(new Date).getTime()}function be(){return _e()}function Re(){return performance.now()}function ye(){return{relative:Re(),timeStamp:be()}}function Le(){return void 0===me&&(me=performance.timing.navigationStart),me}function Me(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function De(e){return 0!==e&&100*Math.random()<=e}function Pe(){var e,t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null===(e=t.connection)||void 0===e?void 0:e.effectiveType}}function we(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Ue(){var e=[];return{add:function(t){e.push(t)>500&&e.splice(0,1)},remove:function(t){we(e,t)},drain:function(t){e.forEach((function(e){return e(t)})),e.length=0}}}var je="log",xe="configuration",Ve="usage",ke=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],Be=["ddog-gov.com"],Ge=Ue(),Fe=function(e){Ge.add((function(){return Fe(e)}))};function qe(e,t){O(r.debug,e,t),Fe(E({type:je,message:e,status:"debug"},t))}function Ye(e,t){Fe(E({type:je,status:"error"},function(e){if(e instanceof Error){var t=te(e);return{error:{kind:t.name,stack:Se(Qe(t))},message:t.message}}return{error:{stack:pe},message:"".concat("Uncaught"," ").concat(w(e))}}(e),t))}function Qe(e){return e.stack=e.stack.filter((function(e){return!e.url||ke.some((function(t){return C(e.url,t)}))})),e}function ze(e){var t=E({},e);return["id","name","email"].forEach((function(e){e in t&&(t[e]=String(t[e]))})),t}function We(e,t){t.silentMultipleInit||a.error("".concat(e," is already initialized."))}var He,Ke="agent",Xe="console",$e="logger",Ze="source",Je="report";function et(e,t,n){var r=n.getHandler(),i=Array.isArray(r)?r:[r];return nt[e]>=nt[n.getLevel()]&&v(i,t)}var tt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},nt=((He={})[tt.ok]=0,He[tt.debug]=1,He[tt.info]=2,He[tt.notice]=4,He[tt.warn]=5,He[tt.error]=6,He[tt.critical]=7,He[tt.alert]=8,He[tt.emerg]=9,He);function rt(e,t){var n=(void 0===t?{}:t).includeMessage,r=void 0!==n&&n;return{stack:e.stack,kind:e.type,message:r?e.message:void 0,causes:e.causes,fingerprint:e.fingerprint,handling:e.handling}}var it={console:"console",http:"http",silent:"silent"},ot=Object.keys(tt),st=function(){function e(e,t,n,r,i,o){void 0===r&&(r=it.http),void 0===i&&(i=tt.debug),void 0===o&&(o={}),this.handleLogStrategy=e,this.handlerType=r,this.level=i,this.contextManager=H(t),this.contextManager.setContext(o),n&&this.contextManager.setContextProperty("logger",{name:n})}return e.prototype.logImplementation=function(e,t,n,r,i){void 0===n&&(n=tt.info);var o,s=q(t);o=null!=r?F({error:rt(ge({stackTrace:r instanceof Error?te(r):void 0,originalError:r,nonErrorPrefix:"Provided",source:$e,handling:"handled",startClocks:ye()}),{includeMessage:!0})},s):s,this.handleLogStrategy({message:q(e),context:o,status:n},this,i)},e.prototype.log=function(e,t,n,r){var i;void 0===n&&(n=tt.info),et(n,it.http,this)&&(i=fe()),this.logImplementation(e,t,n,r,i)},e.prototype.setContext=function(e){this.contextManager.setContext(e)},e.prototype.getContext=function(){return this.contextManager.getContext()},e.prototype.setContextProperty=function(e,t){this.contextManager.setContextProperty(e,t)},e.prototype.removeContextProperty=function(e){this.contextManager.removeContextProperty(e)},e.prototype.clearContext=function(){this.contextManager.clearContext()},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([N],e.prototype,"logImplementation",null),e}();function at(e){return function(t,n,r){var i;et(e,it.http,this)&&(i=fe()),this.logImplementation(t,n,e,r,i)}}function ut(){var e=I().DatadogEventBridge;if(e)return{getCapabilities:function(){var t;return JSON.parse((null===(t=e.getCapabilities)||void 0===t?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return null===(t=e.getPrivacyLevel)||void 0===t?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n,r){var i=r?{id:r}:void 0;e.send(JSON.stringify({eventType:t,event:n,view:i}))}}}function ct(e){var t;void 0===e&&(e=null===(t=I().location)||void 0===t?void 0:t.hostname);var n=ut();return!!n&&n.getAllowedWebViewHosts().some((function(t){return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r);var n,r}))}function lt(e,t,n,r){var i=(void 0===r?{}:r).computeHandlingStack,o=e[t];if("function"!=typeof o){if(!(t in e)||!C(t,"on"))return{stop:P};o=P}var s=!1,a=function(){if(s)return o.apply(this,arguments);var e,t=A(arguments);g(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:i?fe():void 0}]);var r=o.apply(this,t);return e&&g(e,null,[r]),r};return e[t]=a,{stop:function(){s=!0,e[t]===a&&(e[t]=o)}}}function dt(e){return function(e,t){var n=function(){if(void 0===ft)try{var e=new Tt("http://test/path");ft="http://test/path"===e.href}catch(e){ft=!1}return ft?Tt:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw new Error("Failed to construct URL: ".concat(String(n)," ").concat(w({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var r=document,i=r.createElement("a");if(void 0!==t){var o=(r=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(i)}return i.href=e,i}(e,location.href).href}st.prototype.ok=at(tt.ok),st.prototype.debug=at(tt.debug),st.prototype.info=at(tt.info),st.prototype.notice=at(tt.notice),st.prototype.warn=at(tt.warn),st.prototype.error=at(tt.error),st.prototype.critical=at(tt.critical),st.prototype.alert=at(tt.alert),st.prototype.emerg=at(tt.emerg);var ft,St,Tt=URL;function Nt(){return St||(St=new z((function(e){if(window.fetch){var t=lt(window,"fetch",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,i=e.handlingStack,o=n[0],s=n[1],a=s&&s.method;void 0===a&&o instanceof Request&&(a=o.method);var u=void 0!==a?String(a).toUpperCase():"GET",c=o instanceof Request?o.url:dt(String(o)),l={state:"start",init:s,input:o,method:u,startClocks:ye(),url:c,handlingStack:i};t.notify(l),n[0]=l.input,n[1]=l.init,r((function(e){return function(e,t,n){var r=n;function i(t){r.state="resolve",E(r,t),e.notify(r)}t.then(p((function(e){i({response:e,responseType:e.type,status:e.status,isAborted:!1})})),p((function(e){var t,n;i({status:0,isAborted:(null===(n=null===(t=r.init)||void 0===t?void 0:t.signal)||void 0===n?void 0:n.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})})))}(t,e,l)}))}(t,e)}),{computeHandlingStack:!0}).stop;return t}}))),St}function pt(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,pt)}var gt,Ot,vt,At=/([\w-]+)\s*=\s*([^;]+)/g;function mt(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(n)}function Ct(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),s=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(s).concat(a).concat(u).concat(c)}function Et(e){return function(e,t){for(At.lastIndex=0;;){var n=At.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,e)}function It(e){return Ot||(Ot=function(e){var t=new Map;for(At.lastIndex=0;;){var n=At.exec(e);if(!n)break;t.set(n[1],n[2])}return t}(document.cookie)),Ot.get(e)}function ht(e,t){Ct(e,"",0,t)}var _t="_dd_s",bt=144e5,Rt=9e5,yt=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function Lt(e){return x(e)}function Mt(e){return!Lt(e)}function Dt(e){return void 0!==e.isExpired||!((void 0===(t=e).created||_e()-Number(t.created)<bt)&&(void 0===t.expire||_e()<Number(t.expire)));var t}function Pt(e){e.expire=String(_e()+Rt)}function wt(e){return(t=e,Object.keys(t).map((function(e){return[e,t[e]]}))).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join("&");var t}function Ut(e){var t={};return function(e){return!!e&&(-1!==e.indexOf("&")||yt.test(e))}(e)&&e.split("&").forEach((function(e){var n=yt.exec(e);if(null!==n){var r=n[1],i=n[2];t[r]=i}})),t}function jt(){return Ut(Et(_t))}function xt(e){localStorage.setItem(_t,wt(e))}function Vt(){return Ut(localStorage.getItem(_t))}function kt(){xt({isExpired:"1"})}var Bt,Gt=[];function Ft(e,t,n){var r;void 0===n&&(n=0);var i=t.isLockEnabled,o=t.persistSession,s=t.expireSession,a=function(e){return o(E({},e,{lock:c}))},u=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(Bt||(Bt=e),e===Bt)if(i&&n>=100)Yt(t);else{var c,l=u();if(i){if(l.lock)return void qt(e,t,n);if(c=pt(),a(l.session),(l=u()).lock!==c)return void qt(e,t,n)}var d=e.process(l.session);if(i&&(l=u()).lock!==c)qt(e,t,n);else{if(d&&(Dt(d)?s():(Pt(d),i?a(d):o(d))),i&&(!d||!Dt(d))){if((l=u()).lock!==c)return void qt(e,t,n);o(l.session),d=l.session}null===(r=e.after)||void 0===r||r.call(e,d||l.session),Yt(t)}}else Gt.push(e)}function qt(e,t,n){R((function(){Ft(e,t,n+1)}),10)}function Yt(e){Bt=void 0;var t=Gt.shift();t&&Ft(t,e)}var Qt=Ie;function zt(e){var t=function(e){var t=function(e){var t={};return t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===vt){for(var e="dd_site_test_".concat(pt()),t=window.location.hostname.split("."),n=t.pop();t.length&&!Et(e);)n="".concat(t.pop(),".").concat(n),Ct(e,"test",Ie,{domain:n});ht(e,{domain:n}),vt=n}return vt}()),t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(pt()),n="test";Ct(t,n,he,e);var r=Et(t)===n;return ht(t,e),r}catch(e){return a.error(e),!1}}(t)?{type:"Cookie",cookieOptions:t}:void 0}(e);return!t&&e.allowFallbackToLocalStorage&&(t=function(){try{var e=pt(),t="".concat("_dd_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(e){return}}()),t}function Wt(e,t,n){var r,i,o,s,a=new z,u=new z,c=new z,l="Cookie"===e.type?(i=e.cookieOptions,s={isLockEnabled:1===(null!=gt?gt:gt=function(e){var t;void 0===e&&(e=window);var n=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(n)?1:0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n)?2:e.document.documentMode?0:3}()),persistSession:(o=i,function(e){Ct(_t,wt(e),Rt,o)}),retrieveSession:jt,expireSession:function(){return function(e){Ct(_t,wt({isExpired:"1"}),bt,e)}(i)}},function(e){if(!It(_t)){var t=It("_dd"),n=It("_dd_r"),r=It("_dd_l"),i={};t&&(i.id=t),r&&/^[01]$/.test(r)&&(i.logs=r),n&&/^[012]$/.test(n)&&(i.rum=n),Mt(i)&&(Pt(i),e.persistSession(i))}}(s),s):{isLockEnabled:!1,persistSession:xt,retrieveSession:Vt,expireSession:kt},d=l.expireSession,f=L((function(){Ft({process:function(e){return Dt(e)?{isExpired:"1"}:void 0},after:p},l)}),Qt);g();var S=D((function(){Ft({process:function(e){if(!Lt(e)){var r=p(e);return function(e){if(Lt(e))return!1;var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,delete e.isExpired,o&&!e.id&&(e.id=pt(),e.created=String(_e()))}(r),r}},after:function(e){Mt(e)&&!O()&&function(e){r=e,a.notify()}(e),r=e}},l)}),Qt),T=S.throttled,N=S.cancel;function p(e){return Dt(e)&&(e={isExpired:"1"}),O()&&(function(e){return r.id!==e.id||r[t]!==e[t]}(e)?(r={isExpired:"1"},u.notify()):(c.notify({previousState:r,newState:e}),r=e)),e}function g(){Ft({process:function(e){if(Lt(e))return{isExpired:"1"}},after:function(e){r=e}},l)}function O(){return void 0!==r[t]}return{expandOrRenewSession:T,expandSession:function(){Ft({process:function(e){return O()?p(e):void 0}},l)},getSession:function(){return r},renewObservable:a,expireObservable:u,sessionStateUpdateObservable:c,restartSession:g,expire:function(){N(),d(),p({isExpired:"1"})},stop:function(){M(f)},updateSessionState:function(e){Ft({process:function(t){return E({},t,e)},after:p},l)}}}function Ht(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var i=dt(r);return function(e){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"==typeof r)return function(e){return r({path:n,parameters:e})};var o=function(e,t){var n=t.site,r=void 0===n?Ce:n,i=t.internalAnalyticsSubdomain;if("logs"===e&&t.usePciIntake&&r===Ce)return"pci.browser-intake-datadoghq.com";if(i&&r===Ce)return"".concat(i,".").concat(Ce);if("dd0g-gov.com"===r)return"http-intake.logs.".concat(r);var o=r.split("."),s=o.pop();return"browser-intake-".concat(o.join("-"),".").concat(s)}(t,e);return function(e){return"https://".concat(o).concat(n,"?").concat(e)}}(e,t);return{build:function(i,o){var s=function(e,t,n,r,i){var o=e.clientToken,s=e.internalAnalyticsSubdomain,a=i.retry,u=i.encoding,c=["sdk_version:".concat("5.32.0"),"api:".concat(r)].concat(n);a&&c.push("retry_count:".concat(a.count),"retry_after:".concat(a.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(c.join(","))),"dd-api-key=".concat(o),"dd-evp-origin-version=".concat(encodeURIComponent("5.32.0")),"dd-evp-origin=browser","dd-request-id=".concat(pt())];return u&&l.push("dd-evp-encoding=".concat(u)),"rum"===t&&l.push("batch_time=".concat(be())),s&&l.reverse(),l.join("&")}(e,t,n,i,o);return r(s)},urlPrefix:r(""),trackType:t}}function Kt(e,t){var n=200-e.length-1;(t.length>n||function(e){return!!function(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(e)}(t))&&a.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. ").concat(l," ").concat(u,"/getting_started/tagging/#defining-tags"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}function Xt(e,t){return null==e||"string"==typeof e||(a.error("".concat(t," must be defined as a string")),!1)}function $t(e,t){return!!(void 0===e||(n=e,function(e){return"number"==typeof e}(n)&&n>=0&&n<=100))||(a.error("".concat(t," Sample Rate should be a number between 0 and 100")),!1);var n}function Zt(e){var t,n,r,i,o;if(e&&e.clientToken){if((!(s=e.site)||"string"!=typeof s||/(datadog|ddog|datad0g|dd0g)/.test(s)||(a.error("Site should be a valid Datadog site. ".concat(l," ").concat(u,"/getting_started/site/.")),0))&&$t(e.sessionSampleRate,"Session")&&$t(e.telemetrySampleRate,"Telemetry")&&$t(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&$t(e.telemetryUsageSampleRate,"Telemetry Usage")&&Xt(e.version,"Version")&&Xt(e.env,"Env")&&Xt(e.service,"Service")){var s;if(void 0===e.trackingConsent||j(K,e.trackingConsent))return E({beforeSend:e.beforeSend&&d(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:zt(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,telemetryUsageSampleRate:null!==(i=e.telemetryUsageSampleRate)&&void 0!==i?i:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!==(o=e.trackingConsent)&&void 0!==o?o:K.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},function(e){var t=e.site||Ce,n=function(e){var t=e.env,n=e.service,r=e.version,i=e.datacenter,o=[];return t&&o.push(Kt("env",t)),n&&o.push(Kt("service",n)),r&&o.push(Kt("version",r)),i&&o.push(Kt("datacenter",i)),o}(e),r=function(e,t){return{logsEndpointBuilder:Ht(e,"logs",t),rumEndpointBuilder:Ht(e,"rum",t),sessionReplayEndpointBuilder:Ht(e,"replay",t)}}(e,n),i=function(e,t){if(e.replica){var n=E({},e,{site:Ce,clientToken:e.replica.clientToken}),r={logsEndpointBuilder:Ht(n,"logs",t),rumEndpointBuilder:Ht(n,"rum",t)};return E({applicationId:e.replica.applicationId},r)}}(e,n);return E({replica:i,site:t},r)}(e));a.error('Tracking Consent should be either "granted" or "not-granted"')}}else a.error("Client Token is not configured, we will not send any data.")}var Jt={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function en(e){return E({startClocks:ye(),source:Je,handling:"unhandled"},e)}function tn(e,t,n,r,i){return n?Se({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=i?i:void 0}]}):void 0}function nn(e,t,n){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every((function(e){return v(t,e)}))?"all"===e?t:(r=e,i=new Set,r.forEach((function(e){return i.add(e)})),A(i)):void a.error("".concat(n,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));var r,i}function rn(e,t,n){var i,o,s=Ue(),u=t.observable.subscribe(c);function c(){if(o&&i&&t.isGranted()){u.unsubscribe();var e=n(i,o);s.drain(e)}}return{init:function(e){if(e)if(s=e.enableExperimentalFeatures,Array.isArray(s)&&s.filter((function(e){return j(Ne,e)})).forEach((function(e){Ae.add(e)})),ct()&&(e=function(e){return E({},e,{clientToken:"empty"})}(e)),i=e,o)We("DD_LOGS",e);else{var n=function(e){!0===e.usePciIntake&&e.site&&"datadoghq.com"!==e.site&&a.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var t=Zt(e),n=nn(e.forwardConsoleLogs,m(r),"Forward Console Logs"),i=nn(e.forwardReports,m(Jt),"Forward Reports");if(t&&n&&i)return e.forwardErrorsToLogs&&!v(n,r.error)&&n.push(r.error),E({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:i,requestErrorResponseLengthLimit:32768,sendLogsAfterSessionExpiration:!!e.sendLogsAfterSessionExpiration},t)}(e);n&&(o=n,Nt().subscribe(P),t.tryToInit(n.trackingConsent),c())}else a.error("Missing configuration");var s},get initConfiguration(){return i},getInternalContext:P,handleLog:function(t,n,r,i,o){void 0===i&&(i=e()),void 0===o&&(o=be()),s.add((function(e){return e.handleLog(t,n,r,i,o)}))}}}var on="logs",sn={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function an(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||It("datadog-synthetics-injects-rum"))}function un(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||It("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}var cn=1/0;var ln=bt,dn=[];function fn(e,t,n,r){var i=new z,o=new z,s=Wt(e.sessionStoreStrategyType,t,n);dn.push((function(){return s.stop()}));var a=function(e){var t=e.expireDelay,n=e.maxEntries,r=[],i=L((function(){return function(){for(var e=Re()-t;r.length>0&&r[r.length-1].endTime<e;)r.pop()}()}),6e4);return{add:function(e,t){var i={value:e,startTime:t,endTime:cn,remove:function(){we(r,i)},close:function(e){i.endTime=e}};return n&&r.length>=n&&r.pop(),r.unshift(i),i},find:function(e,t){void 0===e&&(e=cn),void 0===t&&(t={returnInactive:!1});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.startTime<=e){if(t.returnInactive||e<=o.endTime)return o.value;break}}},closeActive:function(e){var t=r[0];t&&t.endTime===cn&&t.close(e)},findAll:function(e,t){void 0===e&&(e=cn),void 0===t&&(t=0);var n=e+t;return r.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},reset:function(){r=[]},stop:function(){M(i)}}}({expireDelay:ln});function u(){return{id:s.getSession().id,trackingType:s.getSession()[t],isReplayForced:!!s.getSession().forcedReplay}}return dn.push((function(){return a.stop()})),s.renewObservable.subscribe((function(){a.add(u(),Re()),i.notify()})),s.expireObservable.subscribe((function(){o.notify(),a.closeActive(Re())})),s.expandOrRenewSession(),a.add(u(),[0,Le()][0]),r.observable.subscribe((function(){r.isGranted()?s.expandOrRenewSession():s.expire()})),function(e){var t=$(e,window,["click","touchstart","keydown","scroll"],(function(){r.isGranted()&&s.expandOrRenewSession()}),{capture:!0,passive:!0}).stop;dn.push(t)}(e),function(e){var t=function(){"visible"===document.visibilityState&&s.expandSession()},n=X(e,document,"visibilitychange",t).stop;dn.push(n);var r=L(t,6e4);dn.push((function(){M(r)}))}(e),function(e){var t=X(e,window,"resume",(function(){return s.restartSession()}),{capture:!0}).stop;dn.push(t)}(e),{findSession:function(e,t){return a.find(e,t)},renewObservable:i,expireObservable:o,sessionStateUpdateObservable:s.sessionStateUpdateObservable,expire:s.expire,updateSessionState:s.updateSessionState}}function Sn(e){return De(e.sessionSampleRate)?"1":"0"}var Tn=!1;function Nn(e){var t,n=window;if(an()){var r=i(n.DD_RUM_SYNTHETICS);return r||Tn||(Tn=!0,qe("Logs sent before RUM is injected by the synthetics worker",{testId:(t=window._DATADOG_SYNTHETICS_PUBLIC_ID||It("datadog-synthetics-public-id"),"string"==typeof t?t:void 0),resultId:un()})),r}return i(n.DD_RUM);function i(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}function pn(e,t,n,r,i){var o=ot.concat(["custom"]),s={};o.forEach((function(e){var n,r,o,a,u;s[e]=(n=e,r=t.eventRateLimiterThreshold,o=i,a=0,u=!1,{isLimitReached:function(){if(0===a&&R((function(){a=0}),he),(a+=1)<=r||u)return u=!1,!1;if(a===r+1){u=!0;try{o({message:"Reached max number of ".concat(n,"s by minute: ").concat(r),source:Ke,startClocks:ye()})}finally{u=!1}}return!0}})})),n.subscribe(0,(function(i){var o,a,u=i.rawLogsEvent,c=i.messageContext,l=void 0===c?void 0:c,d=i.savedCommonContext,f=void 0===d?void 0:d,S=i.domainContext,T=u.date-Le(),N=e.findTrackedSession(T);if(N||t.sendLogsAfterSessionExpiration&&e.findTrackedSession(T,{returnInactive:!0})){var p=f||r(),g=F({service:t.service,session_id:N?N.id:void 0,session:N?{id:N.id}:void 0,usr:x(p.user)?void 0:p.user,view:p.view},p.context,Nn(T),u,l);!1===(null===(o=t.beforeSend)||void 0===o?void 0:o.call(t,g,S))||g.origin!==Ke&&(null!==(a=s[g.status])&&void 0!==a?a:s.custom).isLimitReached()||n.notify(1,g)}}))}var gn,On={};var vn,An=((gn={})[r.log]=tt.info,gn[r.debug]=tt.debug,gn[r.info]=tt.info,gn[r.warn]=tt.warn,gn[r.error]=tt.error,gn),mn=new WeakMap;function Cn(e){var t=e.target,n=e.parameters,r=n[0],i=n[1];mn.set(t,{state:"open",method:String(r).toUpperCase(),url:dt(String(i))})}function En(e){var t=e.target,n=mn.get(t);n&&(n.isAborted=!0)}function In(e){return e>=500}function hn(e,t){if(!e.forwardErrorsToLogs)return{stop:P};var n=function(e){return vn||(vn=function(e){return new z((function(t){var n=lt(XMLHttpRequest.prototype,"open",Cn).stop,r=lt(XMLHttpRequest.prototype,"send",(function(n){!function(e,t,n){var r=e.target,i=e.handlingStack,o=mn.get(r);if(o){var s=o;s.state="start",s.startClocks=ye(),s.isAborted=!1,s.xhr=r,s.handlingStack=i;var a=!1,u=lt(r,"onreadystatechange",(function(){r.readyState===XMLHttpRequest.DONE&&c()})).stop,c=function(){if(l(),u(),!a){a=!0;var e,t=o;t.state="complete",t.duration=(e=s.startClocks.timeStamp,be()-e),t.status=r.status,n.notify(E({},t))}},l=X(t,r,"loadend",c).stop;n.notify(s)}}(n,e,t)}),{computeHandlingStack:!0}).stop,i=lt(XMLHttpRequest.prototype,"abort",En).stop;return function(){n(),r(),i()}}))}(e)),vn}(e).subscribe((function(e){"complete"===e.state&&i("xhr",e)})),r=Nt().subscribe((function(e){"resolve"===e.state&&i("fetch",e)}));function i(n,r){var i;function o(e){var i={isAborted:r.isAborted,handlingStack:r.handlingStack};t.notify(0,{rawLogsEvent:{message:"".concat(bn(n)," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{stack:e||"Failed to load",handling:void 0},http:{method:r.method,status_code:r.status,url:r.url},status:tt.error,origin:"network"},domainContext:i})}i=r.url,Ee.every((function(e){return v(i,e)}))||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!In(r.status)||("xhr"in r?function(e,t,n){"string"==typeof e.response?n(_n(e.response,t)):n(e.response)}(r.xhr,e,o):r.response?function(e,t,n){var r=function(e){try{return e.clone()}catch(e){return}}(e);r&&r.body?window.TextDecoder?function(e,t,n){!function(e,t,n){var r=e.getReader(),i=[],o=0;function s(){var e,s;if(r.cancel().catch(P),n.collectStreamBody){var a;if(1===i.length)a=i[0];else{a=new Uint8Array(o);var u=0;i.forEach((function(e){a.set(e,u),u+=e.length}))}e=a.slice(0,n.bytesLimit),s=a.length>n.bytesLimit}t(void 0,e,s)}!function e(){r.read().then(p((function(t){t.done?s():(n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?s():e())})),p((function(e){return t(e)})))}()}(e,(function(e,t,r){if(e)n(e);else{var i=(new TextDecoder).decode(t);r&&(i+="..."),n(void 0,i)}}),{bytesLimit:t,collectStreamBody:!0})}(r.body,t.requestErrorResponseLengthLimit,(function(e,t){n(e?"Unable to retrieve response: ".concat(e):t)})):r.text().then(p((function(e){return n(_n(e,t))})),p((function(e){return n("Unable to retrieve response: ".concat(e))}))):n()}(r.response,e,o):r.error&&function(e,t,n){n(_n(Se(te(e)),t))}(r.error,e,o))}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function _n(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function bn(e){return"xhr"===e?"XHR":"Fetch"}function Rn(e){var t,n=function(t,n){var r=ge({stackTrace:t,originalError:n,startClocks:ye(),nonErrorPrefix:"Uncaught",source:Ze,handling:"unhandled"});e.notify(r)},r=(t=n,lt(window,"onerror",(function(e){var n,r=e.parameters,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4];n=u instanceof Error?te(u):function(e,t,n,r){var i=[{url:t,column:r,line:n}],o=function(e){var t,n,r;return"[object String]"==={}.toString.call(e)&&(n=(t=de.exec(e))[1],r=t[2]),{name:n,message:r}}(e);return{name:o.name,message:o.message,stack:i}}(i,o,s,a),t(n,null!=u?u:i)}))).stop,i=function(e){return lt(window,"onunhandledrejection",(function(t){var n=t.parameters[0].reason||"Empty reason",r=te(n);e(r,n)}))}(n).stop;return{stop:function(){r(),i()}}}var yn,Ln=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},e}();var Mn=((yn={})[tt.ok]=r.debug,yn[tt.debug]=r.debug,yn[tt.info]=r.info,yn[tt.notice]=r.info,yn[tt.warn]=r.warn,yn[tt.error]=r.error,yn[tt.critical]=r.error,yn[tt.alert]=r.error,yn[tt.emerg]=r.error,yn);function Dn(e){var t=e.encoder,n=e.request,r=e.flushController,i=e.messageBytesLimit,o={},s=r.flushObservable.subscribe((function(e){return function(e){var r=m(o).join("\n");o={};var i,s=(i=e.reason,v(m(sn),i)),a=s?n.sendOnExit:n.send;if(s&&t.isAsync){var u=t.finishSync();u.outputBytesCount&&a(Pn(u));var c=[u.pendingData,r].filter(Boolean).join("\n");c&&a({data:c,bytesCount:_(c)})}else r&&t.write(t.isEmpty?r:"\n".concat(r)),t.finish((function(e){a(Pn(e))}))}(e)}));function u(e,n){var s=w(e),u=t.estimateEncodedBytesCount(s);u>=i?a.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(i,"KB. ").concat(l," ").concat(c,"/#technical-limitations")):(function(e){return void 0!==e&&void 0!==o[e]}(n)&&function(e){var n=o[e];delete o[e];var i=t.estimateEncodedBytesCount(n);r.notifyAfterRemoveMessage(i)}(n),function(e,n,i){r.notifyBeforeAddMessage(n),void 0!==i?(o[i]=e,r.notifyAfterAddMessage()):t.write(t.isEmpty?e:"\n".concat(e),(function(e){r.notifyAfterAddMessage(e-n)}))}(s,u,n))}return{flushController:r,add:u,upsert:u,stop:s.unsubscribe}}function Pn(e){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}var wn=Ie;function Un(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?xn(e,t,n,{onSuccess:function(){return Vn(0,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),jn(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function jn(e,t,n,r){2===e.transportStatus&&R((function(){xn(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=wn,Vn(1,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(6e4,2*e.currentBackoffTime),jn(e,t,n,r)}})}),e.currentBackoffTime)}function xn(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||In(e.status))}(n)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o()):(t.transportStatus=0,i())}))}function Vn(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:Ke,startClocks:ye()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=kn();o.size()>0;)Un(o.dequeue(),t,n,r,i)}function kn(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=3145728}}}function Bn(e,t,n){var r={transportStatus:0,currentBackoffTime:wn,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:kn(),queueFullReported:!1},i=function(n,r){return function(e,t,n,r){if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&n.bytesCount<t){var i=e.build("fetch",n);fetch(i,{method:"POST",body:n.data,keepalive:!0,mode:"cors"}).then(p((function(e){return null==r?void 0:r({status:e.status,type:e.type})})),p((function(){Fn(e.build("xhr",n),n.data,r)})))}else Fn(e.build("xhr",n),n.data,r)}(e,t,n,r)};return{send:function(t){Un(t,r,i,e.trackType,n)},sendOnExit:function(n){!function(e,t,n){if(!!navigator.sendBeacon&&n.bytesCount<t)try{var r=e.build("beacon",n);if(navigator.sendBeacon(r,n.data))return}catch(e){!function(e){Gn||(Gn=!0,Ye(e))}(e)}Fn(e.build("xhr",n),n.data)}(e,t,n)}}}var Gn=!1;function Fn(e,t,n){var r=new XMLHttpRequest;r.open("POST",e,!0),t instanceof Blob&&r.setRequestHeader("Content-Type",t.type),X({allowUntrustedEvents:!0},r,"loadend",(function(){null==n||n({status:r.status})}),{once:!0}),r.send(t)}function qn(e){var t,n=e.messagesLimit,r=e.bytesLimit,i=e.durationLimit,o=e.pageExitObservable,s=e.sessionExpireObservable,a=o.subscribe((function(e){return f(e.reason)})),u=s.subscribe((function(){return f("session_expire")})),c=new z((function(){return function(){a.unsubscribe(),u.unsubscribe()}})),l=0,d=0;function f(e){if(0!==d){var t=d,n=l;d=0,l=0,S(),c.notify({reason:e,messagesCount:t,bytesCount:n})}}function S(){y(t),t=void 0}return{flushObservable:c,get messagesCount(){return d},notifyBeforeAddMessage:function(e){l+e>=r&&f("bytes_limit"),d+=1,l+=e,void 0===t&&(t=R((function(){f("duration_limit")}),i))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,d>=n?f("messages_limit"):l>=r&&f("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0==(d-=1)&&S()}}}function Yn(e,t,n,r,i,o,s){void 0===s&&(s=Dn);var a=c(e,t),u=n&&c(e,n);function c(e,t){var n=t.endpoint,a=t.encoder;return s({encoder:a,request:Bn(n,e.batchBytesLimit,r),flushController:qn({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),messageBytesLimit:e.messageBytesLimit})}return{flushObservable:a.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),a.add(e),u&&t&&u.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){a.upsert(e,t),u&&u.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){a.stop(),u&&u.stop()}}}function Qn(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var i=_(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function zn(e,t,n,r,i){var o=function(e,t){var n,r,i=new z,o=new Set,s=!v(Be,t.site)&&De(t.telemetrySampleRate),a=((n={})[je]=s,n[xe]=s&&De(t.telemetryConfigurationSampleRate),n[Ve]=s&&De(t.telemetryUsageSampleRate),n),u={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return Fe=function(n){var s=w(n);if(a[n.type]&&o.size<t.maxTelemetryEventsPerPage&&!o.has(s)){var c=function(e,t,n){return F({type:"telemetry",date:be(),service:e,version:"5.32.0",source:"browser",_dd:{format_version:2},telemetry:F(t,{runtime_env:n,connectivity:Pe(),sdk_setup:"npm"}),experimental_features:A(Ae)},void 0!==r?r():{})}(e,n,u);i.notify(c),Me("telemetry",c),o.add(s)}},f=Ye,{setContextProvider:function(e){r=e},observable:i,enabled:s}}("browser-logs-sdk",t);o.setContextProvider((function(){var e,t,n,r,o,s;return{application:{id:null===(e=Nn())||void 0===e?void 0:e.application_id},session:{id:null===(t=i.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=Nn())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(s=null===(o=Nn())||void 0===o?void 0:o.user_action)||void 0===s?void 0:s.id}}}));var s=[];if(ct()){var a=ut(),u=o.observable.subscribe((function(e){return a.send("internal_telemetry",e)}));s.push((function(){return u.unsubscribe()}))}else{var c=Yn(t,{endpoint:t.rumEndpointBuilder,encoder:Qn()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:Qn()},n,r,i.expireObservable);s.push((function(){return c.stop()}));var l=o.observable.subscribe((function(e){return c.add(e,function(e){return"datad0g.com"===e.site}(t))}));s.push((function(){return l.unsubscribe()}))}return Ge.drain(),function(e){Fe({type:xe,configuration:e})}(function(e){var t,n={session_sample_rate:(t=e).sessionSampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:t.telemetryUsageSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:t.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:!!t.proxy,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!t.allowFallbackToLocalStorage,store_contexts_across_pages:!!t.storeContextsAcrossPages,allow_untrusted_events:!!t.allowUntrustedEvents,tracking_consent:t.trackingConsent};return E({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports,use_pci_intake:e.usePciIntake,send_logs_after_session_expiration:e.sendLogsAfterSessionExpiration},n)}(e)),{telemetry:o,stop:function(){s.forEach((function(e){return e()}))}}}var Wn,Hn,Kn,Xn=function(){var e,t,n=function(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var i=2===e?3072:16384,o=r;t.forEach((function(e){o+=e.getBytesCount()})),o>i&&(function(e){a.warn("Customer data exceeds the recommended ".concat(e/1024,"KiB threshold. ").concat(l," ").concat(c,"/#customer-data-exceeds-the-recommended-threshold-warning"))}(i),n=!0)}}return{createDetachedTracker:function(){var e=V((function(){return r(e.getBytesCount())}));return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,V(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach((function(e){return e.stop()})),t.clear()}}}(),s=H(n.getOrCreateTracker(2)),u=H(n.getOrCreateTracker(1)),d={tryToInit:function(t){e||(e=t)},update:function(n){e=n,t.notify()},isGranted:function(){return e===K.GRANTED},observable:t=new z};function f(){return function(e,t){return{view:{referrer:document.referrer,url:window.location.href},context:e.getContext(),user:t.getContext()}}(s,u)}var S,N,O=rn(f,d,(function(e,t){e.storeContextsAcrossPages&&(J(t,s,on,2),J(t,u,on,1));var n=function(e,t,n,s){var a=new Ln,u=[];a.subscribe(1,(function(e){return Me("logs",e)}));var c=function(e){return function(t){e.notify(0,{rawLogsEvent:{message:t.message,date:t.startClocks.timeStamp,origin:Ke,status:tt.error}}),qe("Error reported to customer",{"error.message":t.message})}}(a),l=function(e){return new z((function(t){var n=$(e,window,["visibilitychange","freeze"],(function(e){"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:sn.HIDDEN}):"freeze"===e.type&&t.notify({reason:sn.FROZEN})}),{capture:!0}).stop,r=X(e,window,"beforeunload",(function(){t.notify({reason:sn.UNLOADING})})).stop;return function(){n(),r()}}))}(t),d=!t.sessionStoreStrategyType||ct()||an()?function(e){var t="1"===Sn(e)?{}:void 0;return{findTrackedSession:function(){return t},expireObservable:new z}}(t):function(e,t){var n=fn(e,"logs",(function(t){return function(e,t){var n=function(e){return"0"===e||"1"===e}(t)?t:Sn(e);return{trackingType:n,isTracked:"1"===n}}(e,t)}),t);return{findTrackedSession:function(e,t){void 0===t&&(t={returnInactive:!1});var r=n.findSession(e,t);return r&&"1"===r.trackingType?{id:r.id}:void 0},expireObservable:n.expireObservable}}(t,s),f=zn(e,t,c,l,d).stop;u.push((function(){return f()})),hn(t,a),function(e,t){if(!e.forwardErrorsToLogs)return{stop:P};var n=new z;Rn(n).stop,n.subscribe((function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:rt(e),origin:Ze,status:tt.error}})}))}(t,a),function(e,t){var n,o;(n=e.forwardConsoleLogs,o=n.map((function(e){return On[e]||(On[e]=function(e){return new z((function(t){var n=i[e];return i[e]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n.apply(console,i);var s=fe();g((function(){t.notify(function(e,t,n){var i,o=e.map((function(e){return function(e){return"string"==typeof e?q(e):e instanceof Error?Te(te(e)):w(q(e),void 0,2)}(e)})).join(" ");if(t===r.error){var s=function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(n instanceof Error)return n}}(e);i={stack:s?Se(te(s)):void 0,fingerprint:Oe(s),causes:s?ve(s,"console"):void 0,startClocks:ye(),message:o,source:Xe,handling:"handled",handlingStack:n}}return{api:t,message:o,error:i,handlingStack:n}}(i,e,s))}))},function(){i[e]=n}}))}(e)),On[e]})),W.apply(void 0,o)).subscribe((function(e){var n={rawLogsEvent:{date:be(),message:e.message,origin:Xe,error:e.error&&rt(e.error),status:An[e.api]},domainContext:{handlingStack:e.handlingStack}};t.notify(0,n)}))}(t,a),function(e,t){(function(e,t){var n=[];v(t,Jt.cspViolation)&&n.push(function(e){return new z((function(t){return X(e,document,"securitypolicyviolation",(function(e){t.notify(function(e){var t="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return en({type:e.effectiveDirective,message:"".concat(Jt.cspViolation,": ").concat(t),originalError:e,csp:{disposition:e.disposition},stack:tn(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(mt(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(e))})).stop}))}(e));var r=t.filter((function(e){return e!==Jt.cspViolation}));return r.length&&n.push(function(e){return new z((function(t){if(window.ReportingObserver){var n=p((function(e,n){return e.forEach((function(e){return t.notify(function(e){var t=e.type,n=e.body;return en({type:n.id,message:"".concat(t,": ").concat(n.message),originalError:e,stack:tn(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)})}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),W.apply(void 0,n)})(e,e.forwardReports).subscribe((function(e){var n,r=e.message,i="deprecation"===e.originalError.type?tt.warn:tt.error;i===tt.error?n=rt(e):e.stack&&(r+=" Found in ".concat(function(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}(e.stack))),t.notify(0,{rawLogsEvent:{date:be(),message:r,origin:Je,error:n,status:i}})}))}(t,a);var S,T=function(e){return{handleLog:function(t,n,r,s,a){var u=F(n.getContext(),t.context);if(et(t.status,it.console,n)&&function(e,t){var n=e.status,r=e.message;o[Mn[n]].call(i,r,t)}(t,u),et(t.status,it.http,n)){var c={rawLogsEvent:{date:a||be(),message:t.message,status:t.status,origin:$e},messageContext:u,savedCommonContext:s};r&&(c.domainContext={handlingStack:r}),e.notify(0,c)}}}}(a).handleLog;if(pn(d,t,a,n,c),ct())!function(e){var t=ut();e.subscribe(1,(function(e){t.send("log",e)}))}(a);else{var N=function(e,t,n,r,i){var o=Yn(e,{endpoint:e.logsEndpointBuilder,encoder:Qn()},e.replica&&{endpoint:e.replica.logsEndpointBuilder,encoder:Qn()},n,r,i.expireObservable);return t.subscribe(1,(function(e){o.add(e)})),o}(t,a,c,l,d).stop;u.push((function(){return N()}))}return{handleLog:T,getInternalContext:(S=d,{get:function(e){var t=S.findTrackedSession(e);if(t)return{session_id:t.id}}}).get,stop:function(){u.forEach((function(e){return e()}))}}}(e,t,f,d);return O=function(e,t){return E({init:function(e){We("DD_LOGS",e)},initConfiguration:e},t)}(e,n),n})),A={},m=new st((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O.handleLog.apply(O,e)}),n.createDetachedTracker());return S={logger:m,init:p((function(e){return O.init(e)})),setTrackingConsent:p((function(e){d.update(e),Fe({type:Ve,usage:{feature:"set-tracking-consent",tracking_consent:e}})})),getGlobalContext:p((function(){return s.getContext()})),setGlobalContext:p((function(e){return s.setContext(e)})),setGlobalContextProperty:p((function(e,t){return s.setContextProperty(e,t)})),removeGlobalContextProperty:p((function(e){return s.removeContextProperty(e)})),clearGlobalContext:p((function(){return s.clearContext()})),createLogger:p((function(e,t){return void 0===t&&(t={}),A[e]=new st((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O.handleLog.apply(O,e)}),n.createDetachedTracker(),q(e),t.handler,t.level,q(t.context)),A[e]})),getLogger:p((function(e){return A[e]})),getInitConfiguration:p((function(){return G(O.initConfiguration)})),getInternalContext:p((function(e){return O.getInternalContext(e)})),setUser:p((function(e){(function(e){var t="object"===k(e);return t||a.error("Unsupported user:",e),t})(e)&&u.setContext(ze(e))})),getUser:p((function(){return u.getContext()})),setUserProperty:p((function(e,t){var n,r=ze((n={},n[e]=t,n))[e];u.setContextProperty(e,r)})),removeUserProperty:p((function(e){return u.removeContextProperty(e)})),clearUser:p((function(){return u.clearContext()}))},N=E({version:"5.32.0",onReady:function(e){e()}},S),Object.defineProperty(N,"_setDebug",{get:function(){return T},enumerable:!1}),N}();Wn=I(),Hn=Xn,(Kn=Wn["DD_LOGS"])&&!Kn.q&&Kn.version&&a.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),Wn.DD_LOGS=Hn,Kn&&Kn.q&&Kn.q.forEach((function(e){return d(e,"onReady callback threw an error:")()}))},4016:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.API_1484_11=void 0;var r=a(n(78)),i=a(n(9125)),o=a(n(4557)),s=a(n(4660));function a(e){return e&&e.__esModule?e:{default:e}}var u="true",c="false",l={NO_ERRORS:"0",GENERAL_EXCEPTION:"101",GENERAL_INITIALIZATION_FAILURE:"102",ALREADY_INITIALIZED_ERROR:"103",INSTANCE_TERMINATED_ERROR:"104",GENERAL_TERMINATION_FAILURE:"111",TERMINATION_BEFORE_INITIALIZATION:"112",TERMINATION_AFTER_TERMINATION:"113",RETRIEVE_BEFORE_INITIALIZATION:"122",RETRIEVE_AFTER_TERMINATION:"123",STORE_BEFORE_INITIALIZATION:"132",STORE_AFTER_TERMINATION:"133",COMMIT_BEFORE_INITIALIZATION:"142",COMMIT_AFTER_TERMINATION:"143",GENERAL_ARGUMENT_ERROR:"201",NO_CHILDREN_ERROR:"202",NOT_ARRAY_ERROR:"203",GENERAL_GET_FAILURE:"301",GENERAL_SET_FAILURE:"351",GENERAL_COMMIT_FAILURE:"391",UNDEFINED_MODEL_ELEMENT:"401",UNIMPLEMENTED_MODEL_ELEMENT:"402",VALUE_NOT_INITIALIZED:"403",READ_ONLY_ERROR:"404",WRITE_ONLY_ERROR:"405",TYPE_MISMATCH:"406",VALUE_OUT_OF_RANGE:"407",DEPENDENCY_NOT_ESTABLISHED:"408"},d={0:"No errors",101:"General exception",102:"General Initialization Failure",103:"Already initialized",104:"Content instance terminated",111:"General Termination Failure",112:"Termination Before Initialization",113:"Termination After Termination",122:"Retrieve Data Before Initialization",123:"Retrieve Data After Termination",132:"Store Data Before Initialization",133:"Store Data After Termination",142:"Commit Before Initialization",143:"Commit After Termination",201:"General argument error",202:"Element cannot have children",203:"Element not an array - cannot have count",301:"General Get Failure",351:"General Set Failure",391:"General Commit Failure",401:"Undefined Data Model Element",402:"Unimplemented Data Model Element",403:"Data Model Element Value Not Initialized",404:"Data Model Element Is Read Only",405:"Data Model Element Is Write Only",406:"Data Model Element Type Mismatch",407:"Data Model Element Value Out Of Range",408:"Data Model Dependency Not Established"},f=!1,S=!1,T=l.NO_ERRORS,N=d[l.NO_ERRORS];function p(){return f}function g(){return S}function O(e){T=e}function v(e){N=e}function A(){O(l.NO_ERRORS),v("")}function m(e){return r.default.logger.debug("[API] Commit, param: ".concat(e)),A(),p()||g()?g()?(O(l.COMMIT_AFTER_TERMINATION),v("SCO attempted to commit data to persistent storage after the communication session has successfully terminated."),c):""!==e?(O(l.GENERAL_ARGUMENT_ERROR),v("Commit expects an empty string as an argument."),c):(s.default.commit(),u):(O(l.COMMIT_BEFORE_INITIALIZATION),v("SCO attempted to commit data to persistent storage prior to a successful communication session initialization."),c)}t.default={initializeApi:function(){f=!1,S=!1,T=l.NO_ERRORS,N=d[l.NO_ERRORS]},setLastError:O,setLastErrorDiagnostic:v,clone:function(){return{initialized:f,terminated:S,lastError:T,lastErrorDiagnostic:N}},restore:function(e){f=e.initialized,S=e.terminated,T=e.lastError,N=e.lastErrorDiagnostic},ERRORS:l,TRUE:u,FALSE:c},t.API_1484_11={version:"1.0",Initialize:function(e){return r.default.logger.debug("[API] Initialize, param: ".concat(e)),A(),p()?(O(l.ALREADY_INITIALIZED_ERROR),v("SCO attempted to initialize the communication session after the communication session has already been initialized."),c):g()?(O(l.INSTANCE_TERMINATED_ERROR),v("SCO attempted to initialize the communication session after the communication session has already been terminated."),c):""!==e?(O(l.GENERAL_ARGUMENT_ERROR),v("Initialize expects an empty string as an argument."),c):(s.default.initialize(),f=!0,u)},Terminate:function(e){if(r.default.logger.debug("[API] Terminate, param: ".concat(e)),A(),!p())return O(l.TERMINATION_BEFORE_INITIALIZATION),v("SCO attempted to terminate the communication session before the communication session was ever initialized."),c;if(g())return O(l.TERMINATION_AFTER_TERMINATION),v("SCO attempted to terminate the communication session after the communication session has already been terminated."),c;if(""!==e)return O(l.GENERAL_ARGUMENT_ERROR),v("Terminate expects an empty string as an argument."),c;var t=o.default.getCurrentActivity().runTimeData.nav_request;return m("")!==u?(O(l.GENERAL_TERMINATION_FAILURE),v("Failed to Terminate because Commit returned an error"),c):(s.default.terminate(),S=!0,i.default.processNavigationRequest(t),u)},GetValue:function(e){if(r.default.logger.debug("[API] GetValue - param: ".concat(e)),A(),!p()&&!g())return O(l.RETRIEVE_BEFORE_INITIALIZATION),v("SCO attempted to retrieve data prior to a successful communication session initialization."),"";if(g())return O(l.RETRIEVE_AFTER_TERMINATION),v("SCO attempted to retrieve data after the communication session has successfully terminated."),"";if(null==e)return O(l.UNDEFINED_MODEL_ELEMENT),v("The data model element is not defined."),"";if(""===e)return O(l.GENERAL_GET_FAILURE),v("The data model element was not specified."),"";var t=s.default.getValue(e);return r.default.logger.debug("[API] get value - value: ".concat(t)),t},SetValue:function(e,t){return r.default.logger.debug("[API] SetValue - param: ".concat(e,", value: ").concat(t)),A(),p()||g()?g()?(O(l.STORE_AFTER_TERMINATION),v("SCO attempted to store data after the communication session has successfully terminated."),c):null==e?(O(l.UNDEFINED_MODEL_ELEMENT),v("The data model element is not defined."),c):null==t?(O(l.GENERAL_SET_FAILURE),v("The data model element value is null/undefined"),c):""===e?(O(l.GENERAL_SET_FAILURE),v("The data model element was not specified."),c):s.default.setValue(e,t):(O(l.STORE_BEFORE_INITIALIZATION),v("SCO attempted to store data prior to a successful communication session initialization."),c)},Commit:m,GetLastError:function(){return r.default.logger.debug("[API] GetLastError, error: ".concat(T)),T},GetErrorString:function(e){var t=d[e]||"";return r.default.logger.debug("[API] GetErrorString, errorCode: ".concat(e,", errorString: ").concat(t)),t},GetDiagnostic:function(){return r.default.logger.debug("[API] GetDiagnostic, lastErrorDiagnostic: ".concat(N)),N}}},5238:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CONSTANTS=void 0;var n=t.CONSTANTS={NAVIGATION_REQUESTS:{START:"start",RESUME_ALL:"resumeAll",CONTINUE:"continue",PREVIOUS:"previous",FORWARD:"forward",BACKWARD:"backward",CHOICE:"choice",EXIT:"exit",EXIT_ALL:"exitAll",SUSPEND_ALL:"suspendAll",ABANDON:"abandon",ABANDON_ALL:"abandonAll"},SEQUENCING_REQUESTS:{START:"start",CONTINUE:"continue",PREVIOUS:"previous",CHOICE:"choice",EXIT:"exit",EXIT_ALL:"exitAll",RETRY:"retry",RESUME_ALL:"resumeAll"},TERMINATION_REQUESTS:{EXIT:"exit",EXIT_ALL:"exitAll",SUSPEND_ALL:"suspendAll",ABANDON:"abandon",ABANDON_ALL:"abandonAll",EXIT_PARENT:"exitParent",RETRY:"retry"},VALIDITY:{VALID:"VALID",NOT_VALID:"NOT_VALID"},DIRECTIONS:{UNDEFINED:"UNDEFINED",FORWARD:"FORWARD",BACKWARD:"BACKWARD"},NAMESPACES:{ADLCP_NAMESPACE:"http://www.adlnet.org/xsd/adlcp_v1p3",ADLSEQ_NAMESPACE:"http://www.adlnet.org/xsd/adlseq_v1p3",ADLNAV_NAMESPACE:"http://www.adlnet.org/xsd/adlnav_v1p3",IMSSS_NAMESPACE:"http://www.imsglobal.org/xsd/imsss"},SEQUENCING_MODES:{CHOICE:"choice",CHOICE_EXIT:"choiceExit",FLOW:"flow",FORWARD_ONLY:"forwardOnly",USE_CURRENT_ATT_OBJ_PROGRESS_INFO:"useCurrentAttObjProgressInfo",USE_CURRENT_ATT_PROGRESS_INFO:"useCurrentAttProgressInfo"},SEQUENCING_RULES:{PRE_CONDITION:"preConditionRules",POST_CONDITION:"postConditionRules",EXIT_CONDITION:"exitConditionRules"},PRE_CONDITION_RULES_ACTIONS:{SKIP:"skip",DISABLED:"disabled",HIDDEN_FROM_CHOICE:"hiddenFromChoice",STOP_FORWARD_TRAVERSAL:"stopForwardTraversal"},POST_CONDITION_RULES_ACTIONS:{EXIT_PARENT:"exitParent",EXIT_ALL:"exitAll",RETRY:"retry",RETRY_ALL:"retryAll",CONTINUE:"continue",PREVIOUS:"previous"},EXIT_CONDITION_RULES_ACTIONS:{EXIT:"exit"},CONDITION_COMBINATIONS:{ANY:"any",ALL:"all"},CONDITIONS:{SATISFIED:"satisfied",OBJECTIVE_STATUS_KNOWN:"objectiveStatusKnown",OBJECTIVE_MEASURE_KNOWN:"objectiveMeasureKnown",OBJECTIVE_MEASURE_GREATER_THAN:"objectiveMeasureGreaterThan",OBJECTIVE_MEASURE_LESS_THAN:"objectiveMeasureLessThan",COMPLETED:"completed",ACTIVITY_PROGRESS_KNOWN:"activityProgressKnown",ATTEMPT_LIMIT_EXCEEDED:"attemptLimitExceeded",ATTEMPTED:"attempted",TIME_LIMIT_EXCEEDED:"timeLimitExceeded",OUTSIDE_AVAILABLE_TIME_RANGE:"outsideAvailableTimeRange",ALWAYS:"always"},ROLLUP_CHILD_ACTIVITY_SET:{ALL:"all",ANY:"any",NONE:"none",AT_LEAST_COUNT:"atLeastCount",AT_LEAST_PERCENT:"atLeastPercent"},ROLLUP_RULES_ACTIONS:{SATISFIED:"satisfied",NOT_SATISFIED:"notSatisfied",COMPLETED:"completed",INCOMPLETE:"incomplete"},ROLLUP_CONSIDERATION_CONDITIONS:{ALWAYS:"always",IF_ATTEMPTED:"ifAttempted",IF_NOT_SKIPPED:"ifNotSkipped",IF_NOT_SUSPENDED:"ifNotSuspended"},ROLLUP_CONTROLS:{},OPERATORS:{NO_OP:"noOp",NOT:"not"},DELIVERY_CONTROLS:{TRACKED:"tracked",COMPLETION_SET_BY_CONTENT:"completionSetByContent",OBJECTIVE_SET_BY_CONTENT:"objectiveSetByContent"},RANDOMIZATION_CONTROLS:{RANDOMIZATION_TIMING:"randomizationTiming",SELECT_COUNT:"selectCount",REORDER_CHILDREN:"reorderChildren",SELECTION_TIMING:"selectionTiming"},TIMING:{NEVER:"never",ONCE:"once",ON_EACH_NEW_ATTEMPT:"onEachNewAttempt"},LIMIT_CONDITIONS:{ATTEMPT_LIMIT:"attemptLimit",ATTEMPT_ABSOLUTE_DURATION_LIMIT:"attemptAbsoluteDurationLimit"},COURSE_STATUSES:{UNKNOWN:"unknown",NOT_ATTEMPTED:"not attempted",COMPLETED:"completed",INCOMPLETE:"incomplete",PASSED:"passed",FAILED:"failed"},CMI:{CREDIT:"credit",ENTRY:{AB_INITIO:"ab-initio",RESUME:"resume",EMPTY:""},EXIT:{TIMEOUT:"time-out",SUSPEND:"suspend",LOGOUT:"logout",NORMAL:"normal",EMPTY:""}},SCORM:{TRUE:!0,FALSE:!1,UNKNOWN:"unknown",PASSED:"passed",FAILED:"failed"},PROCESS_CODES:{NO_ERRORS:"NO_ERRORS",EXIT_SEQUENCING:"EXIT_SEQUENCING",NO_NEXT_ACTIVITY:"NO_NEXT_ACTIVITY",NO_PREVIOUS_ACTIVITY:"NO_PREVIOUS_ACTIVITY",INVALID_NAVIGATION_REQUEST:"INVALID_NAVIGATION_REQUEST",INVALID_CONTROL_MODE:"INVALID_CONTROL_MODE",CURRENT_ACTIVITY_NOT_TERMINATED:"CURRENT_ACTIVITY_NOT_TERMINATED",NO_ACTIVITY_TO_DELIVER:"NO_ACTIVITY_TO_DELIVER",SEQUENCING_SESSION_NOT_STARTED:"SEQUENCING_SESSION_NOT_STARTED",SEQUENCING_SESSION_STARTED:"SEQUENCING_SESSION_STARTED",NO_SUSPENDED_ACTIVITY:"NO_SUSPENDED_ACTIVITY",CURRENT_ACTIVITY_TERMINATED:"CURRENT_ACTIVITY_TERMINATED",ACTIVITY_NOT_FOUND:"ACTIVITY_NOT_FOUND",NO_TARGET_ACTIVITY:"NO_TARGET_ACTIVITY",NOTHING_TO_SUSPEND:"NOTHING_TO_SUSPEND",NOTHING_TO_ABANDON:"NOTHING_TO_ABANDON",LIMIT_CONDITIONS_VIOLATION:"LIMIT_CONDITIONS_VIOLATION",CURRENT_ACTIVITY_SUSPENDED:"CURRENT_ACTIVITY_SUSPENDED",ACTIVITY_HIDDEN_FOR_CHOICE:"ACTIVITY_HIDDEN_FOR_CHOICE",NO_ACTIVITIES_TO_CONSIDER:"NO_ACTIVITIES_TO_CONSIDER",NO_PARENT_FOR_ROOT:"NO_PARENT_FOR_ROOT",UNDEFINED_TERMINATION_REQUEST:"UNDEFINED_TERMINATION_REQUEST",NO_AVAILABLE_CHILDREN:"NO_AVAILABLE_CHILDREN",FORWARD_ONLY_VIOLATION:"FORWARD_ONLY_VIOLATION",UNABLE_TO_ACTIVATE_TARGET:"UNABLE_TO_ACTIVATE_TARGET",CHOICE_EXIT_VIOLATION:"CHOICE_EXIT_VIOLATION",CONSTRAINED_CHOICE_VIOLATION:"CONSTRAINED_CHOICE_VIOLATION",FLOW_VIOLATION:"FLOW_VIOLATION",NO_LEAF_TO_DELIVER:"NO_LEAF_TO_DELIVER"},MODE:{EXTERNAL:"external",DEBUG:"debug",DEBUG_LOCAL:"debug_local",TEST:"test"},INTERACTION_TYPE:{TRUE_FALSE:"true-false",CHOICE:"choice",FILL_IN:"fill-in",MATCHING:"matching",PERFORMANCE:"performance",SEQUENCING:"sequencing",LIKERT:"likert",NUMERIC:"numeric",OTHER:"other",LONG_FILL_IN:"long-fill-in"},CONFIG:{DEBUG:"debug",LOGLEVEL:"logLevel"},LOG_LEVEL:{TRACE_LEVEL:"trace",DEBUG_LEVEL:"debug",INFO_LEVEL:"info",WARN_LEVEL:"warn",ERROR_LEVEL:"error"}};t.default=n},2515:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=n(5238),s=(r=n(8895))&&r.__esModule?r:{default:r},a={};t.default={getCourseStateData:function(){return s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage["suspend-data"]:i},setCourseStateData:function(e){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage["suspend-data"]=e:i=e},getBookmark:function(){if(s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL)return window.localStorage.bookmark?window.localStorage.bookmark:""},setBookmark:function(e){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL&&(window.localStorage.bookmark=e)},getSystemGlobalObjectiveById:function(e){if(s.default.getMode()!==o.CONSTANTS.MODE.DEBUG_LOCAL)return a[e];var t=window.localStorage[e];return t?JSON.parse(t):void 0},addSystemGlobalObjective:function(e,t){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage[e]=JSON.stringify(t):a[e]=t},cleanCourseStateData:function(){s.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?window.localStorage["suspend-data"]="":i=void 0}}},6487:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(78))&&r.__esModule?r:{default:r};t.default=function(){var e=/P(\d+)Y/,t=/P\d*?Y?(\d+)M/,n=/(\d+)D/,r=/(\d+)H/,o=/T\d*?H?([0-9]+)M/,s=/(\d+)(\.\d+)?S/,a=/\.(\d+)S/;function u(i){var u=1970,c=0,l=1,d=0,f=0,S=0,T=0;if(e.test(i)&&(u+=+i.match(e)[1]),t.test(i)&&(c=+i.match(t)[1]),n.test(i)&&(l+=+i.match(n)[1]),r.test(i)&&(d=+i.match(r)[1]),o.test(i)&&(f=+i.match(o)[1]),s.test(i)&&(S=+i.match(s)[1]),a.test(i)){var N=i.match(a)[1];T=1===N.length?100*+N:10*+N}var p=new Date(u,c,l,d,f,S,T);return new Date(p.getTime()-6e4*p.getTimezoneOffset()).getTime()}function c(e){var t,n,r=new Date(e),i=r.getUTCFullYear()-1970,o=r.getUTCMonth(),s=r.getUTCDate()-1,a=r.getUTCHours(),u=r.getUTCMinutes(),c=r.getUTCSeconds(),l=r.getUTCMilliseconds(),d="";return i&&(d+="".concat(i,"Y")),o&&(d+="".concat(o,"M")),s&&(d+="".concat(s,"D")),0!==l&&(l<10?n=0:l<100?n="0".concat(Math.trunc(l/10)):(n=Math.trunc(l/10))%10==0&&(n/=10),0===n||isNaN(n)||(t=".".concat(n))),(a||u||c||t)&&(d+="T"),a&&(d+="".concat(a,"H")),u&&(d+="".concat(u,"M")),t?d+="".concat(c).concat(t,"S"):c&&(d+="".concat(c,"S")),""===d&&(d="T0S"),"P".concat(d)}return{ZERO_DURATION:"PT0H0M0S",validate:function(e){var t=/^P(?:\d+Y|Y)?(?:\d+M|M)?(?:\d+D|D)?(?:T(?:\d+H|H)?(?:\d+M|M)?(?:\d+(?:\.\d{1,2})?S|S)?)?$/.test(e)&&/[^T]$/.test(e);return t||i.default.logger.warn("Non valid duration format: ".concat(e)),t},validateTime:function(e){var t=/^((19[7-9]\d)|(20(([0-2]\d)|(3[0-8]))))(-((0[1-9])|(1[0-2]))(-((0[1-9])|([1-2]\d)|(3[0-1])))?)?(T(([0-1]\d)|(2[0-3]))(:[0-5]\d(:[0-5]\d(\.\d(\d)?([+-](([0-1]\d)|(2[0-3]))(:[0-5]\d)?|Z)?)?)?)?)?$/.test(e);return t||i.default.logger.warn("Non valid time format: ".concat(e)),t},normalize:function(e){return c(u(e))},toDuration:c,add:function(e,t){return c(u(e)+u(t))}}}()},4125:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(78)),i=f(n(5961)),o=f(n(6597)),s=f(n(4557)),a=n(5238),u=f(n(3562)),c=f(n(4338)),l=f(n(8361)),d=f(n(4278));function f(e){return e&&e.__esModule?e:{default:e}}var S=null,T=null,N={};function p(e,t){var n=e.ItemIdentifier,r=e.Children;N[n]=e;var o,s,a=new i.default(n,t);if(r.length>0){a.leaf=!1;for(var u=0,c=r.length;u<c;u++)a.children.push(p(r[u],a))}return a.resourceAddress=(o=e.Href,s=a.getParameters(),!/#/.test(o)&&s&&(o+=/\?/.test(o)?"&":"?".concat(s)),o),a.resourceScormType=e.ScormType,a.identifierRef=e.ResourceIdentifier,a.href=e.Href?"".concat(e.Href,".html"):"",a.guid=e.Href,a}function g(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""}function O(e){return e?e.replace(/\s+/g,""):""}t.default={parseManifest:function(e){return r.default.logger.debug("Parsing manifest...."),S=e.LearningObject[0],r.default.logger.debug("Parsing activities..."),T=p(S,null),r.default.logger.debug("Activities parsed."),r.default.logger.debug("Manifest parsed."),{root:T}},parseSequencingControlModes:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.SEQUENCING_MODES.CHOICE]=t.ControlChoice,n[a.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT]=t.ControlChoiceExit,n[a.CONSTANTS.SEQUENCING_MODES.FLOW]=t.ControlFlow,n[a.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY]=t.ControlForwardOnly,n[a.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO]=t.UseCurrentAttemptObjectiveInformation,n[a.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO]=t.UseCurrentAttemptProgressInformation,n},parseSequencingRules:function(e){var t=N[e].SequencingData,n={};function r(e){for(var t=[],n=0,r=e.length;n<r;n++){for(var i=e[n],o=[],s=g(i.ConditionCombination),a=g(O(i.Action)),l=0,d=i.RuleConditions.length;l<d;l++){var f=i.RuleConditions[l],S=f.ReferencedObjective,T=f.MeasureThreshold,N=g(f.Operator),p=g(O(f.Condition));o.push(new c.default(p,N,T,S))}t.push(new u.default(o,s,a))}return t}return n[a.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=r(t.PreConditionSequencingRules),n[a.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=r(t.PostConditionSequencingRules),n[a.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=r(t.ExitSequencingRules),n},parseRollupRules:function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=[],o=void 0,s=void 0,u=void 0;switch(r.ChildActivitySet){case"None":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.NONE;break;case"All":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL;break;case"Any":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ANY;break;case"At Least Count":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_COUNT;break;case"At Least Percent":s=a.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_PERCENT}for(var c=0;c<r.Conditions.length;c++){var f=r.Conditions[c],S=void 0,T=void 0;switch(f.Operator){case"No Op":S=a.CONSTANTS.OPERATORS.NO_OP;break;case"Not":S=a.CONSTANTS.OPERATORS.NOT}switch(f.Condition){case"Objective Status Known":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_STATUS_KNOWN;break;case"Objective Measure Greater Than":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_GREATER_THAN;break;case"Objective Measure Known":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_KNOWN;break;case"Objective Measure Less Than":T=a.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_LESS_THAN;break;case"Always":T=a.CONSTANTS.CONDITIONS.ALWAYS;break;case"Satisfied":T=a.CONSTANTS.CONDITIONS.SATISFIED;break;case"Completed":T=a.CONSTANTS.CONDITIONS.COMPLETED;break;case"Activity Progress Known":T=a.CONSTANTS.CONDITIONS.ACTIVITY_PROGRESS_KNOWN;break;case"Attempt Limit Exceeded":T=a.CONSTANTS.CONDITIONS.ATTEMPT_LIMIT_EXCEEDED;break;case"Time Limit Exceeded":T=a.CONSTANTS.CONDITIONS.TIME_LIMIT_EXCEEDED;break;case"Outside Available Time Range":T=a.CONSTANTS.CONDITIONS.OUTSIDE_AVAILABLE_TIME_RANGE;break;case"Attempted":T=a.CONSTANTS.CONDITIONS.ATTEMPTED}i.push(new d.default(S,T))}switch(r.ConditionCombination){case"All":u=a.CONSTANTS.CONDITION_COMBINATIONS.ALL;break;case"Any":u=a.CONSTANTS.CONDITION_COMBINATIONS.ANY}switch(r.Action){case"Not Satisfied":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED;break;case"Satisfied":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED;break;case"Completed":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED;break;case"Incomplete":o=a.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE}t.push(new l.default(s,r.MinimumCount,r.MinimumPercent,i,u,o))}return t}(N[e].SequencingData.RollupRules)},parseRollupControls:function(e){var t=N[e].SequencingData;return{rollupObjectiveSatisfied:t.RollupObjectiveSatisfied,rollupProgressCompletion:t.RollupProgressCompletion,objectiveMeasureWeight:t.RollupObjectiveMeasureWeight}},parseDeliveryControls:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.DELIVERY_CONTROLS.TRACKED]=t.Tracked,n[a.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]=t.CompletionSetByContent,n[a.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]=t.ObjectiveSetByContent,n},parseRandomizationControls:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]=g(O(t.RandomizationTiming)),n[a.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]=0!==t.SelectionCount?t.SelectionCount:void 0,n[a.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]=t.RandomizeChildren,n[a.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]=g(O(t.SelectionTiming)),n},parseLimitConditions:function(e){var t=N[e].SequencingData,n={};return n[a.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]=t.LimitConditionAttemptControl?t.LimitConditionAttemptLimit:void 0,n[a.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]=t.LimitConditionAttemptAbsoluteDurationControl?t.LimitConditionAttemptAbsoluteDurationLimit:void 0,n},parseObjectives:function(e,t){var n,r,i=N[e].SequencingData,a=[];(r=i.PrimaryObjective)&&(n=l(r,t,!0),a.push(n));for(var u=0,c=i.Objectives.length;u<c;u++)n=l(r=i.Objectives[u],t,!1),a.push(n);function l(e,t,n){for(var r,i,a=[],u=0,c=e.Maps.length;u<c;u++)i=e.Maps[u],(r={}).targetObjectiveID=i.TargetObjectiveId,r.readSatisfiedStatus=i.ReadSatisfiedStatus,r.readNormalizedMeasure=i.ReadNormalizedMeasure,r.writeSatisfiedStatus=i.WriteSatisfiedStatus,r.writeNormalizedMeasure=i.WriteNormalizedMeasure,a.push(r),s.default.getGlobalObjective(i.TargetObjectiveId).registerMappedActivity(t.getId(),r);return new o.default(t,e.SatisfiedByMeasure,e.Id,e.MinNormalizedMeasure,a,n)}return a},parseParameters:function(e){return N[e].Parameters},parseRollupConsiderations:function(e){var t=N[e].SequencingData;return{requiredForSatisfied:t.RequiredForSatisfied,requiredForNotSatisfied:t.RequiredForNotSatisfied,requiredForCompleted:t.RequiredForCompleted,requiredForIncomplete:t.RequiredForIncomplete,measureSatisfactionIfActive:t.MeasureSatisfactionIfActive}},parseConstrainedChoiceConsiderations:function(e){var t=N[e].SequencingData;return{preventActivation:t.PreventActivation,constrainChoice:t.ConstrainChoice}},getCompletionThreshold:function(e){var t=N[e];return null!==t.CompletionThreshold?t.CompletionThreshold:void 0},getTimeLimitAction:function(e){return N[e].TimeLimitAction},getLaunchData:function(e){return N[e].DataFromLms},getIdRef:function(e){var t=N[e];return"".concat(t.Identifierref)},getPublishIndex:function(e){var t=N[e];return"".concat(t.PublishIndex)},parsePresentation:function(e){var t=N[e].SequencingData,n=[];return t.HideAbandon&&n.push("abandon"),t.HideAbandonAll&&n.push("abandonAll"),t.HideContinue&&n.push("continue"),t.HidePrevious&&n.push("previous"),t.HideExit&&n.push("exit"),t.HideExitAll&&n.push("exitAll"),t.HideSuspendAll&&n.push("suspendAll"),n},getTitle:function(e){return N[e].Title},getVisibility:function(e){var t=N[e];return"".concat(t.Visible)},useObjectivesGlobalToSystem:function(){return"true"}}},295:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t="`",n=(e=e||{}).referenceIntBase||96,r=" ".charCodeAt(0),i=r+n-1,o=Math.pow(n,2)-1,s=e.minStringLength||5,a=Math.pow(n,1)-1+s,u=e.defaultWindowLength||144,c=o+s;function l(e,t){if(e>=0&&e<Math.pow(n,t)-1){for(var i="";e>0;)i=String.fromCharCode(e%n+r)+i,e=Math.floor(e/n);for(var o=t-i.length,s=0;s<o;s++)i=String.fromCharCode(r)+i;return i}throw"Reference int out of range: ".concat(e," (width = ").concat(t,")")}function d(e,t){for(var o=0,s=0;s<t;s++){o*=n;var a=e.charCodeAt(s);if(!(a>=r&&a<=i))throw"Invalid char code in reference int: ".concat(a);o+=a-r}return o}function f(e){return d(e,1)+s}return{compress:function(e,n){if((n=n||u)>c)throw"Window length too large";for(var r="",i=0,d=e.length-s;i<d;){for(var f=Math.max(i-n,0),S=s,T=!1,N={distance:o,length:0},p=null;f+S<i;)if(e.substr(f,S)==e.substr(i,S)&&S<a)S++,T=!0;else{var g=S-1;T&&g>N.length&&(N.distance=i-f-g,N.length=g),S=s,f++,T=!1}N.length?(p=t+l(N.distance,2)+l(N.length-s,1),i+=N.length):(p=e.charAt(i)!=t?e.charAt(i):t+t,i++),r+=p}return r+e.slice(i).replace(/`/g,"``")},decompress:function(e){for(var n="",r=0;r<e.length;){var i=e.charAt(r);if(i!=t)n+=i,r++;else if(e.charAt(r+1)!=t){var o=d(e.substr(r+1,2),2),a=f(e.charAt(r+3));n+=n.substr(n.length-o-a,a),r+=s-1}else n+=t,r+=2}return n}}}()},9125:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=S(n(2490)),i=S(n(4557)),o=S(n(8348)),s=n(5238),a=S(n(2543)),u=S(n(4050)),c=S(n(5280)),l=S(n(2590)),d=S(n(752)),f=S(n(7005));function S(e){return e&&e.__esModule?e:{default:e}}var T=!1,N=new Map;function p(e){return!e.exception&&null!==e.sequencingRequest}function g(e){var t=e.requestResult;t.exception?e.evaluationResult=t.exception:null==t.sequencingRequest&&(e.evaluationResult=!1)}function O(e,t){e.activityId=t?t.getId():null}function v(e){return!e.endSession&&e.validity===s.CONSTANTS.VALIDITY.VALID&&null!==e.deliveryRequest}function A(e,t){e.evaluationResult=t.validity===s.CONSTANTS.VALIDITY.VALID||t.exception}function m(e,t){!0===t.endSession?e.evaluationResult=!1:t.validity===s.CONSTANTS.VALIDITY.NOT_VALID?e.evaluationResult=t.exception:null===t.deliveryRequest&&(e.evaluationResult=!1)}function C(e,t){return function(e){return e===s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE}(e)&&t?"".concat(e,"-").concat(t):e}function E(e){return e===s.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS}function I(e){return e===s.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE}t.default={isEvaluationRequest:function(){return T},evaluateRequestOptions:function(){T=!0;var e=r.default.clone(),t=function(){var e=[];e.push(new u.default(s.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS)),e.push(new u.default(s.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE));for(var t=a.default.getAvailableActivitiesList(),n=0,r=t.length;n<r;n++){var i=t[n].getId();e.push(new u.default(s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,i))}return e}(),n=i.default.getCurrentActivity();n&&(n.setAttemptProgressStatus(!0),n.setAttemptCompletionStatus(!0),o.default.isCourseCompleted()),function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.requestResult=c.default.process(r.type,r.activityId)}}(t),function(e){for(var t=l.default.process(s.CONSTANTS.TERMINATION_REQUESTS.EXIT),n=0,r=e.length;n<r;n++){var i=e[n].requestResult;i.exception||null===i.terminationRequest||(t.validity===s.CONSTANTS.VALIDITY.NOT_VALID?i.exception=t.exception:t.sequencingRequest&&(i.sequencingRequest=t.sequencingRequest))}}(t),function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r.requestResult;if(p(i)){var o=d.default.process(i.sequencingRequest,r.activityId);(E(r.type)||I(r.type))&&O(r,o.deliveryRequest),v(o)?A(r,f.default.process(o.deliveryRequest)):m(r,o)}else g(r)}}(t),function(e){N.clear();for(var t=0,n=e.length;t<n;t++){var r=e[t],i=C(r.type,r.activityId);N.set(i,r)}}(t),r.default.restore(e)},isNavigationValid:function(e,t){var n=C(e,t),r=N.has(n)?N.get(n).evaluationResult:null;return{validity:!0===r,exception:"string"==typeof r?r:void 0}},isAvailableInTheTree:function(e){var t=this.isNavigationValid(s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,e.getId());return{enabled:t.validity,visible:e.isVisible()&&"SB.2.9-3"!==t.exception&&"SB.2.9-6"!==t.exception}},getActivityToLoad:function(e){var t;if(E(e)||I(e)){var n=N.get(e);t=n&&!0===n.evaluationResult?n.activityId:null}return t},processNavigationRequest:function(e){var t;switch(/^\{target=.+}choice$/.test(e)&&(t=e.match(/^\{target=(.+)}choice$/)[1],e=s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE),e){case s.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE:o.default.next();break;case s.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS:o.default.previous();break;case s.CONSTANTS.NAVIGATION_REQUESTS.CHOICE:o.default.choice(t);break;case s.CONSTANTS.NAVIGATION_REQUESTS.EXIT:o.default.exit();break;case s.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL:o.default.exitAll();break;case s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON:o.default.abandon();break;case s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL:o.default.abandonAll();break;case s.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL:o.default.suspendAll()}}}},6492:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=a(n(7904)),o=a(n(4125)),s=a(n(78));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}t.default={parseManifest:function(e){if("Element"===e.manifest.constructor.name||e.manifest.documentElement)r=i.default;else{if("object"!==u(e.manifest))throw s.default.logger.error("Not valid inputs, cannot parse manifest."),new Error("Not valid inputs, cannot parse manifest.");r=o.default}return r.parseManifest(e.manifest)},parseSequencingControlModes:function(e){return r.parseSequencingControlModes(e)},parseSequencingRules:function(e){return r.parseSequencingRules(e)},parseRollupRules:function(e){return r.parseRollupRules(e)},parseRollupControls:function(e){return r.parseRollupControls(e)},parseDeliveryControls:function(e){return r.parseDeliveryControls(e)},parseRandomizationControls:function(e){return r.parseRandomizationControls(e)},parseLimitConditions:function(e){return r.parseLimitConditions(e)},parseObjectives:function(e,t){return r.parseObjectives(e,t)},parseParameters:function(e){return r.parseParameters(e)},parseRollupConsiderations:function(e){return r.parseRollupConsiderations(e)},parseConstrainedChoiceConsiderations:function(e){return r.parseConstrainedChoiceConsiderations(e)},getCompletionThreshold:function(e){return r.getCompletionThreshold(e)},getTimeLimitAction:function(e){return r.getTimeLimitAction(e)},getLaunchData:function(e){return r.getLaunchData(e)},getIdRef:function(e){return r.getIdRef(e)},getPublishIndex:function(e){return r.getPublishIndex(e)},parsePresentation:function(e){return r.parsePresentation(e)},getTitle:function(e){return r.getTitle(e)},getVisibility:function(e){return r.getVisibility(e)},useObjectivesGlobalToSystem:function(e){return r.useObjectivesGlobalToSystem(e)}}},2490:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(4557)),i=l(n(2543)),o=l(n(4016)),s=l(n(4277)),a=l(n(2515)),u=l(n(8895)),c=n(5238);function l(e){return e&&e.__esModule?e:{default:e}}var d="";t.default={clone:function(){return{packagingModel:i.default.clone(),globalState:r.default.clone(),runTimeAPI:o.default.clone()}},restore:function(e){i.default.restore(e.packagingModel),r.default.restore(e.globalState),o.default.restore(e.runTimeAPI)},suspend:function(){var e,t={};return t.packagingModel=i.default.suspend(),t.globalState=r.default.suspend(),t.additionalData=d,e=u.default.getMode()!==c.CONSTANTS.MODE.TEST?s.default.suspend(t):t,a.default.setCourseStateData(e),e},resume:function(e,t){var n,o;return void 0!==e?(n=e,o=t):(n=a.default.getCourseStateData(),o=!0),u.default.getMode()!==c.CONSTANTS.MODE.TEST&&n&&(n=s.default.restore(n,o)),!!n&&(i.default.resume(n.packagingModel),r.default.resume(n.globalState),d=n.additionalData,!!r.default.getSuspendedActivity())},cleanState:function(){a.default.cleanCourseStateData()},setAdditionalData:function(e){d=e},getAdditionalData:function(){return d}}},78:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(8895))&&r.__esModule?r:{default:r},o=n(2795),s=n(5238);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=t.default={},l=s.CONSTANTS.LOG_LEVEL,d=u(u(u(u(u({},l.TRACE_LEVEL,4),l.DEBUG_LEVEL,3),l.INFO_LEVEL,2),l.WARN_LEVEL,1),l.ERROR_LEVEL,0);c.logger=function(){var e=i.default.isDebug()?d[l.DEBUG_LEVEL]:Object.prototype.hasOwnProperty.call(d,i.default.getLogLevel())?d[i.default.getLogLevel()]:d[l.INFO_LEVEL],t=i.default.isLocallyRunning(),n=i.default.getMode();function r(r,i,a){t||n===s.CONSTANTS.MODE.TEST||n===s.CONSTANTS.MODE.DEBUG_LOCAL||function(t,n,r){d[n]<=e&&("function"==typeof o.datadogLogs.logger[n]?o.datadogLogs.logger[n](t,r):o.datadogLogs.logger.log("".concat(n.toUpperCase(),": ").concat(t),r))}(r,i,a),(t||e===d[l.DEBUG_LEVEL])&&function(t,n,r){var i=r?", context: ".concat(JSON.stringify(r)):"";d[n]<=e&&"undefined"!=typeof window&&void 0!==window.console&&("function"==typeof window.console[n]?window.console[n]("".concat(t).concat(i)):"function"==typeof window.console.log&&window.console.log("".concat(n.toUpperCase(),": ").concat(t).concat(i)))}(r,i,a)}return{trace:function(e){r(e,l.TRACE_LEVEL)},info:function(e){r(e,l.INFO_LEVEL)},warn:function(e){r(e,l.WARN_LEVEL)},error:function(e,t){r(e,l.ERROR_LEVEL,t)},debug:function(e){r(e,l.DEBUG_LEVEL)}}}(),c.contains=function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(t===e[n])return!0;return!1},c.onlyUnique=function(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)-1===r.indexOf(e[t])&&""!==e[t]&&r.push(e[t]);return r},c.shuffle=function(e){var t,n,r;for(t=e.length-1;t>0;t--)n=Math.floor(Math.random()*(t+1)),r=e[t],e[t]=e[n],e[n]=r;return e},c.trim=function(e){return"function"!=typeof String.prototype.trim?e.replace(/^\s+|\s+$/g,""):e.trim()},c.filter=function(e,t){var n,r=[];if(!e||!t)return e;for(var i=0,o=e.length;i<o;i++)t(n=e[i])&&r.push(n);return r},c.compareByProperty=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){return(n[e]<r[e]?-1:n[e]>r[e]?1:0)*t}},c.sortByKey=function(e){var t=[];return Object.keys(e).sort().forEach((function(n){t.push(e[n])})),t},c.invert=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[e[n]]=n);return t},c.isEmptyObject=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},c.isNumber=function(e){return!isNaN(e)&&!isNaN(parseFloat(e))},c.countDecimals=function(e){return e%1!=0?e.toString().split(".")[1].length:0},c.retrieveActivitiesList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.push(e);for(var n=0;n<e.children.length;n++)c.retrieveActivitiesList(e.children[n],t);return t},c.getParamDetails=function(e){var t,n,r,i,o,s,a=!0;return/^[^\.]*\.[^\.]*\.([0-9]*)\..*$/.test(e)?(/^[^\.]*\.[^\.]*\.([0-9]*)\.[^\.]*\.([0-9]*)\.[^\.]*$/.test(e)?(s=e.match(/^([^\.]*\.[^\.]*)\.(0|[1-9][0-9]*)\.[^\.]*\.([0|[1-9][0-9]*)\.[^\.]*$/))?(n=s[1],i=s[2],o=s[3]):a=!1:(s=e.match(/^([^\.]*\.[^\.]*)\.(0|[1-9][0-9]*)\..*$/))?(n=s[1],i=s[2]):a=!1,t=(t=e.replace(/\.(0|[1-9][0-9]*)\./,".n.")).replace(/\.(0|[1-9][0-9]*)\./,".m.")):(/^adl\.nav\.request_valid\.choice\.\{target=.*}$/.test(e)?(t="adl.nav.request_valid.choice",(s=e.match(/\{target=(.*)}$/))?r=s[1]:a=!1):t=e,i=-1,o=-1),{paramWOindex:t,startsWith:n,n:+i,m:+o,endsWith:r,valid:a}}},7904:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=f(n(78)),o=f(n(4278)),s=f(n(6597)),a=f(n(5961)),u=f(n(4338)),c=f(n(8361)),l=f(n(3562)),d=f(n(4557));function f(e){return e&&e.__esModule?e:{default:e}}var S=null,T=null,N=[],p=[],g={};function O(e,t,n){return v(e,n,t)}function v(e,t,n){var r=[],i=e.firstChild;if(t)for(;i;i=i.nextSibling)1===i.nodeType&&i.nodeName.indexOf(t)>-1&&(n?i.namespaceURI===n&&r.push(i):r.push(i));return r}function A(e,t,n){var i;if(e.getElementsByTagNameNS)return e.getElementsByTagNameNS(t,n);switch(t){case r.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE:i="adlcp";break;case r.CONSTANTS.NAMESPACES.ADLSEQ_NAMESPACE:i="adlseq";break;case r.CONSTANTS.NAMESPACES.ADLNAV_NAMESPACE:i="adlnav";break;case r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE:i="imsss"}return e.getElementsByTagName("".concat(i,":").concat(n))}function m(e,t){var n,r=e.getAttribute("identifier"),i=v(e,"item");N[r]=e;var o=new a.default(r,t);if(i.length>0){o.leaf=!1;for(var s=0,u=i.length;s<u;s++)o.children.push(m(i[s],o))}return o.getIdRef()&&((n=p[o.getIdRef()]?p[o.getIdRef()]:[]).push(o),p[o.getIdRef()]=n),o}function C(e,t,n){return e||t||n}function E(e,t){for(var n=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,t),o=[],s=0,a=n.length;s<a;s++){var c=[],d=void 0,f=void 0;if((d=A(n[s],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"ruleConditions")).length){var S=A(d=d[0],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"ruleCondition");if(S.length){for(var T=0,N=S.length;T<N;T++){var p=S[T],g=p.getAttribute("referencedObjective"),O=p.getAttribute("measureThreshold"),v=p.getAttribute("operator"),m=p.getAttribute("condition");c.push(new u.default(m,v,O,g))}var C=d.getAttribute("conditionCombination");(f=A(n[s],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"ruleAction")).length?(f=f[0].getAttribute("action"),o.push(new l.default(c,C,f))):i.default.logger.warn("Missing mandatory element RuleAction.")}else i.default.logger.warn("Missing mandatory element RuleCondition")}else i.default.logger.warn("Missing mandatory element RuleConditions")}return o}t.default={parseManifest:function(e){return i.default.logger.debug("Parsing manifest...."),S=e.getElementsByTagName("organization")[0],i.default.logger.debug("Parsing activities..."),T=m(S,null),i.default.logger.debug("Activities parsed."),i.default.logger.debug("Parsing sequencing collections..."),g=function(e){for(var t=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencingCollection"),n=t&&t.length?A(t[0],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"):[],i={},o=0,s=n.length;o<s;o++)i[n[o].getAttribute("ID")]=n[o];return i}(e),i.default.logger.debug("Sequencing collections parsed."),i.default.logger.debug("Parsing resources..."),function(e){var t=e.getElementsByTagName("resource"),n="",r="";function o(e,t){var n="";try{(n=t?e.getElementsByTagName(t)[0].getAttribute("xml:base"):e.getAttribute("xml:base"))&&!/.*\/$/.test(n)&&(n="",i.default.logger.error("".concat(t,"'s 'xml:base' attribute must ends with trailing slash.")))}catch(e){i.default.logger.warn("Getting 'base' attribute error: ".concat(e))}return n||""}function s(e,t,i){return!/#/.test(e)&&i&&(e+=/\?/.test(e)?"&":"?".concat(i)),e=encodeURI(e),/^(http|\/).*/.test(e)||/^(http|\/).*/.test(e=t+e)||/^(http|\/).*/.test(e=r+e)?e:e=n+e}n=o(e,"manifest"),r=o(e,"resources");for(var a=0,u=t.length;a<u;a++)for(var c=t[a],l=c.getAttribute("identifier"),d=c.getAttribute("href"),f=o(c),S=c.getAttribute("type"),T=c.getAttribute("adlcp:scormType"),N=p[l]||[],g=0,O=N.length;g<O;g++){var v=N[g];v.resourceAddress=s(d,f,v.getParameters()),v.resourceType=S,v.resourceScormType=T,v.href=d,v.guid=d&&new RegExp(".*.html$").test(d)?d.match(/([^\/]+)(?=\.html$)/)[1]:""}}(e),i.default.logger.debug("Resources parsed."),i.default.logger.debug("Manifest parsed."),{root:T}},parseSequencingControlModes:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"controlMode");return n&&n.length&&(n=n[0],(t={})[r.CONSTANTS.SEQUENCING_MODES.CHOICE]=!/^false$/i.test(n.getAttribute("choice")),t[r.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT]=!/^false$/i.test(n.getAttribute("choiceExit")),t[r.CONSTANTS.SEQUENCING_MODES.FLOW]=/^true$/i.test(n.getAttribute("flow")),t[r.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY]=/^true$/i.test(n.getAttribute("forwardOnly")),t[r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO]=!/^false$/i.test(n.getAttribute("useCurrentAttemptObjectiveInfo")),t[r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO]=!/^false$/i.test(n.getAttribute("useCurrentAttemptProgressInfo"))),t}return s[r.CONSTANTS.SEQUENCING_MODES.CHOICE]=!0,s[r.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT]=!0,s[r.CONSTANTS.SEQUENCING_MODES.FLOW]=!1,s[r.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY]=!1,s[r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO]=!0,s[r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO]=!0,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(i=a(g[t]))),C(n,i,s)},parseSequencingRules:function(e){var t,n,i=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),o={};return o[r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=[],o[r.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=[],o[r.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=[],(i=i&&i.length?i[0]:null)&&((n=O(i,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencingRules"))&&n.length?(o[r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=E(i,"preConditionRule"),o[r.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=E(i,"postConditionRule"),o[r.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=E(i,"exitConditionRule")):(t=i.getAttribute("IDRef"))&&(o[r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION]=E(g[t],"preConditionRule"),o[r.CONSTANTS.SEQUENCING_RULES.POST_CONDITION]=E(g[t],"postConditionRule"),o[r.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION]=E(g[t],"exitConditionRule"))),o},parseRollupRules:function(e){var t,n,i,s=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing");function a(e){var t,n=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupRules"),i=n.length?A(n[0],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupRule"):[];if(i&&i.length){if(t=[],n.length>1)throw new Error("Manifest parsing error: <rollupRules> must occurs 0 or 1 time in the <sequencing> element.");for(var s=0,a=i.length;s<a;s++){var u=i[s],l=u.getAttribute("childActivitySet"),d=u.getAttribute("minimumCount"),f=u.getAttribute("minimumPercent"),S=A(u,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupConditions"),T=A(u,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupAction");if(l=l||r.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL,null!==d&&""!==d&&(d=+d)<0)throw new Error("Manifest parsing error: <rollupRule> element 'minimumCount' attribute must be non Negative Integer");if(null!==f&&""!==f&&((f=+f)<0||f>1))throw new Error("Manifest parsing error: <rollupRule> element 'minimumPercent' attribute must be in range from 0 to 1");var N=[],p=void 0;if(!S.length)throw new Error("Manifest parsing error: <rollupRule> element - missing mandatory element <rollupConditions>");if(S.length>1)throw new Error("Manifest parsing error: <RollupConditions> element is present more than ones in <RollupRules> element");var g=S[0];p=g.getAttribute("conditionCombination");var O=A(g,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupCondition");if(p=p||r.CONSTANTS.CONDITION_COMBINATIONS.ANY,!O.length)throw new Error("Manifest parsing error: <rollupConditions> element - missing mandatory element rollupCondition");for(var v=0,m=O.length;v<m;v++){var C=O[v],E=C.getAttribute("operator"),I=C.getAttribute("condition");if(E=E||r.CONSTANTS.OPERATORS.NO_OP,!I)throw new Error("Manifest parsing error: <rollupCondition> element - missing mandatory attribute condition");N.push(new o.default(E,I))}if(N=N||[],!T.length)throw new Error("Manifest parsing error: <rollupRule> element - missing mandatory element <rollupAction>");var h=(T=T[0]).getAttribute("action");t.push(new c.default(l,d,f,N,p,h))}}return t}return(s=s&&s.length?s[0]:null)&&(n=a(s),(t=s.getAttribute("IDRef"))&&(i=a(g[t]))),C(n,i,[])},parseRollupControls:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing");function s(e){var t,n,i=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"rollupRules");if(i&&i.length&&(i=i[0],(n={}).rollupObjectiveSatisfied=!/^false$/i.test(i.getAttribute("rollupObjectiveSatisfied")),n.rollupProgressCompletion=!/^false$/i.test(i.getAttribute("rollupProgressCompletion")),n.objectiveMeasureWeight=1,null!==(t=i.getAttribute("objectiveMeasureWeight"))&&""!==t)){if(!((t=+t)>=0&&t<=1))throw new Error("Manifest parsing error: 'objectiveMeasureWeight' must be in range from 0 to 1.");n.objectiveMeasureWeight=t}return n}return(o=o&&o.length?o[0]:null)&&(n=s(o),(t=o.getAttribute("IDRef"))&&(i=s(g[t]))),C(n,i,{rollupObjectiveSatisfied:!0,rollupProgressCompletion:!0,objectiveMeasureWeight:1})},parseDeliveryControls:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"deliveryControls");return n&&n.length&&(n=n[0],(t={})[r.CONSTANTS.DELIVERY_CONTROLS.TRACKED]=!/^false$/i.test(n.getAttribute(r.CONSTANTS.DELIVERY_CONTROLS.TRACKED)),t[r.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]=/^true$/i.test(n.getAttribute(r.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT)),t[r.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]=/^true$/i.test(n.getAttribute(r.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT))),t}return s[r.CONSTANTS.DELIVERY_CONTROLS.TRACKED]=!0,s[r.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]=!1,s[r.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]=!1,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(i=a(g[t]))),C(n,i,s)},parseRandomizationControls:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"randomizationControls");if(n&&n.length){t={};var i=(n=n[0]).getAttribute(r.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING),o=n.getAttribute(r.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT),s=n.getAttribute(r.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN),a=n.getAttribute(r.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING);t[r.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]=i||r.CONSTANTS.TIMING.NEVER,t[r.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]=o,t[r.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]=/^true$/i.test(s),t[r.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]=a||r.CONSTANTS.TIMING.NEVER}return t}return s[r.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]=r.CONSTANTS.TIMING.NEVER,s[r.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]=void 0,s[r.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]=!1,s[r.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]=r.CONSTANTS.TIMING.NEVER,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(i=a(g[t]))),C(n,i,s)},parseLimitConditions:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={};function a(e){var t,n=A(e,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"limitConditions");if(n&&n.length){t={};var i=(n=n[0]).getAttribute("attemptLimit"),o=n.getAttribute("attemptAbsoluteDurationLimit");t[r.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]=null!==i&&""!==i?+i:void 0,t[r.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]=null!==o&&null!==o?o:void 0}return t}return s[r.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]=void 0,s[r.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]=void 0,(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(i=a(g[t]))),C(n,i,s)},parseObjectives:function(e,t){var n,o,a=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),u=a&&a.length?A(a[0],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"objectives"):[],c=[],l=null;function f(e,t,n){var o=t.getAttribute("satisfiedByMeasure"),a=t.getAttribute("objectiveID"),u=A(t,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"minNormalizedMeasure"),c=A(t,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"mapInfo"),l=1,f=[];if(o=!!o&&/^true$/i.test(o),a=a&&i.default.trim(a)?a:"","objective"===t.nodeName&&!a)throw new Error("Manifest parsing error: missing mandatory attribute 'objectiveID' in <objective> element.");if(u.length&&(l=+(u=(u=u[0].firstChild).textContent||u.text),u<1&&u>-1&&(l=u)),c.length){for(var S=c.length-1;S>=0;S--){var T=c[S],N=T.getAttribute("targetObjectiveID"),p=T.getAttribute("readSatisfiedStatus"),g=T.getAttribute("readNormalizedMeasure"),O=T.getAttribute("writeSatisfiedStatus"),v=T.getAttribute("writeNormalizedMeasure"),m={},C=void 0;if(!N||!i.default.trim(N))throw new Error("Manifest parsing error: missing mandatory attribute targetObjectiveID in <mapInfo> element.");m.targetObjectiveID=N,C=d.default.getGlobalObjective(N),m.readSatisfiedStatus=!/^false$/i.test(p),m.readNormalizedMeasure=!/^false$/i.test(g),m.writeSatisfiedStatus=/^true$/i.test(O),m.writeNormalizedMeasure=/^true$/i.test(v),C.registerMappedActivity(e.getId(),m),f.push(m)}!function(e){for(var t=!1,n=!1,r=!1,i=!1,o=e.length-1;o>=0;o--){if(e[o].readSatisfiedStatus){if(t)throw new Error("Manifest parsing error: only one <mapInfo> element could have the 'readSatisfiedStatus' attribute set to 'true'.");t=!0}if(e[o].readNormalizedMeasure){if(n)throw new Error("Manifest parsing error: only one <mapInfo> element shall have the 'readNormalizedMeasure' attribute set to 'true'.");n=!0}if(e[o].writeSatisfiedStatus){if(r)throw new Error("Manifest parsing error: only one <mapInfo> element shall have the 'writeSatisfiedStatus' attribute set to 'true'.");r=!0}if(e[o].writeNormalizedMeasure){if(i)throw new Error("Manifest parsing error: only one <mapInfo> element shall have the 'writeNormalizedMeasure' attribute set to 'true'.");i=!0}}}(f)}return new s.default(e,o,a,l,f,n)}if(u.length){if(!(n=A(u=u[0],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"primaryObjective")).length)throw new Error("Manifest parsing error: missing mandatory <primaryObjective> element.");if(l=f(t,n[0],!0),c.push(l),(o=A(u,r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"objective"))&&o.length)for(var S=0,T=o.length;S<T;S++)l=f(t,o[S],!1),c.push(l)}return function(e){var t,n={};if(e&&e.length)for(var r=e.length-1;r>=0;r--)n[e[r].id]="id";if(t=Object.keys(n).length,e.length!==t)throw new Error("Manifest parsing error: all defined 'objectiveID' attributes shall be unique.")}(c),c},parseParameters:function(e){var t=N[e].getAttribute("parameters");return null!==t?t:""},parseRollupConsiderations:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing"),s={requiredForSatisfied:r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,requiredForNotSatisfied:r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,requiredForCompleted:r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,requiredForIncomplete:r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,measureSatisfactionIfActive:!0};function a(e){var t,n=A(e,r.CONSTANTS.NAMESPACES.ADLSEQ_NAMESPACE,"rollupConsiderations");return n&&n.length&&(n=n[0],(t={}).requiredForSatisfied=n.getAttribute("requiredForSatisfied")||r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.requiredForNotSatisfied=n.getAttribute("requiredForNotSatisfied")||r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.requiredForCompleted=n.getAttribute("requiredForCompleted")||r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.requiredForIncomplete=n.getAttribute("requiredForIncomplete")||r.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.ALWAYS,t.measureSatisfactionIfActive=!/^false$/i.test(n.getAttribute("measureSatisfactionIfActive"))),t}return(o=o&&o.length?o[0]:null)&&(n=a(o),(t=o.getAttribute("IDRef"))&&(i=a(g[t]))),C(n,i,s)},parseConstrainedChoiceConsiderations:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.IMSSS_NAMESPACE,"sequencing");function s(e){var t,n=A(e,r.CONSTANTS.NAMESPACES.ADLSEQ_NAMESPACE,"constrainedChoiceConsiderations");return n&&n.length&&(n=n[0],(t={}).preventActivation=/^true$/i.test(n.getAttribute("preventActivation")),t.constrainChoice=/^true$/i.test(n.getAttribute("constrainChoice"))),t}return(o=o&&o.length?o[0]:null)&&(n=s(o),(t=o.getAttribute("IDRef"))&&(i=s(g[t]))),C(n,i,{preventActivation:!1,constrainChoice:!1})},getCompletionThreshold:function(e){var t=A(N[e],r.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE,"completionThreshold");if(t.length){if(+(t=(t=t[0].firstChild).textContent||t.text)<0||+t>1)throw new Error("Manifest parsing error: 'completionThreshold' value is out of range [0, 1].")}else t=void 0;return t},getTimeLimitAction:function(e){var t=A(N[e],r.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE,"timeLimitAction");return t.length?(t=t[0].firstChild).textContent||t.text:void 0},getLaunchData:function(e){var t=A(N[e],r.CONSTANTS.NAMESPACES.ADLCP_NAMESPACE,"dataFromLMS");return t.length?(t=t[0].firstChild).textContent||t.text:void 0},getIdRef:function(e){return N[e].getAttribute("identifierref")},getPublishIndex:function(e){return N[e].getAttribute("publishIndex")},parsePresentation:function(e){var t,n,i,o=O(N[e],r.CONSTANTS.NAMESPACES.ADLNAV_NAMESPACE,"presentation"),s=o&&o.length?A(o[0],r.CONSTANTS.NAMESPACES.ADLNAV_NAMESPACE,"hideLMSUI"):[],a=[];for(t=0,n=s.length;t<n;t++)i=(i=s[t].firstChild).textContent||i.text,a.push(i);return a},getTitle:function(e){var t=v(N[e],"title")[0].firstChild;return t?t.textContent||t.text:""},getVisibility:function(e){return N[e].getAttribute("isvisible")||"true"},useObjectivesGlobalToSystem:function(){return S.getAttribute("adlseq:objectivesGlobalToSystem")||S.getAttribute("objectivesGlobalToSystem")||"true"}}},8895:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238);t.default=function(){var e=!1,t="info";"undefined"!=typeof window&&null!==window&&window.PARAMS&&(e=window.PARAMS[r.CONSTANTS.CONFIG.DEBUG]||!1,t=window.PARAMS[r.CONSTANTS.CONFIG.LOGLEVEL]||r.CONSTANTS.LOG_LEVEL.INFO_LEVEL);var n=!1;"undefined"!=typeof window&&null!==window&&window.location&&(n="localhost"===window.location.hostname);var i=null;function o(){return null===i&&(i=e&&window.localStorage&&n?r.CONSTANTS.MODE.DEBUG_LOCAL:e?r.CONSTANTS.MODE.DEBUG:"undefined"!=typeof window?r.CONSTANTS.MODE.EXTERNAL:r.CONSTANTS.MODE.TEST),i}return{getMode:o,isDebug:function(){return e},getLogLevel:function(){return t},isObjectivesGlobalToSystem:function(){return o()===r.CONSTANTS.MODE.TEST},isLocallyRunning:function(){return n}}}()},4660:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(78)),i=c(n(6487)),o=c(n(4016)),s=n(5238),a=c(n(2490)),u=c(n(4557));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var d,f,S,T="READ-ONLY",N="WRITE-ONLY",p="READ-WRITE",g="long_identifier_type",O="state",v="time",A="real",m="state_or_real",C="time_interval",E="localized_string_type",I="real_in_range",h="character_string",_="correct_response_pattern",b={"cmi._version":{permissions:T},"cmi.comments_from_learner._children":{permissions:T},"cmi.comments_from_learner._count":{permissions:T},"cmi.comments_from_learner.n.comment":{permissions:p,format:E,types:["string"],length:4020},"cmi.comments_from_learner.n.location":{permissions:p,format:h,types:["string"],length:250},"cmi.comments_from_learner.n.timestamp":{permissions:p,format:v,types:["string"]},"cmi.comments_from_lms._children":{permissions:T},"cmi.comments_from_lms._count":{permissions:T},"cmi.comments_from_lms.n.comment":{permissions:T},"cmi.comments_from_lms.n.location":{permissions:T},"cmi.comments_from_lms.n.timestamp":{permissions:T},"cmi.completion_status":{permissions:p,format:O,range:["completed","incomplete","not attempted","unknown"],types:["string"]},"cmi.completion_threshold":{permissions:T},"cmi.credit":{permissions:T},"cmi.entry":{permissions:T},"cmi.exit":{permissions:N,format:O,range:["time-out","suspend","logout","normal",""],types:["string"]},"cmi.interactions._children":{permissions:T},"cmi.interactions._count":{permissions:T},"cmi.interactions.n.id":{permissions:p,format:g,types:["string"],length:4e3},"cmi.interactions.n.type":{permissions:p,format:O,types:["string"],range:[s.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE,s.CONSTANTS.INTERACTION_TYPE.CHOICE,s.CONSTANTS.INTERACTION_TYPE.FILL_IN,s.CONSTANTS.INTERACTION_TYPE.LONG_FILL_IN,s.CONSTANTS.INTERACTION_TYPE.MATCHING,s.CONSTANTS.INTERACTION_TYPE.PERFORMANCE,s.CONSTANTS.INTERACTION_TYPE.SEQUENCING,s.CONSTANTS.INTERACTION_TYPE.LIKERT,s.CONSTANTS.INTERACTION_TYPE.NUMERIC,s.CONSTANTS.INTERACTION_TYPE.OTHER],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.objectives._count":{permissions:T},"cmi.interactions.n.objectives.m.id":{permissions:p,format:g,types:["string"],length:4e3,dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.timestamp":{permissions:p,format:v,types:["string"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.correct_responses._count":{permissions:T},"cmi.interactions.n.correct_responses.m.pattern":{permissions:p,format:_,types:["string"],dependencies:["cmi.interactions.n.id","cmi.interactions.n.type"]},"cmi.interactions.n.weighting":{permissions:p,format:A,types:["number"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.learner_response":{permissions:p,format:_,types:["string"],dependencies:["cmi.interactions.n.id","cmi.interactions.n.type"]},"cmi.interactions.n.result":{permissions:p,format:m,types:["string","number"],range:["correct","incorrect","unanticipated","neutral"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.latency":{permissions:p,format:C,types:["string"],dependencies:["cmi.interactions.n.id"]},"cmi.interactions.n.description":{permissions:p,format:E,types:["string"],length:250,dependencies:["cmi.interactions.n.id"]},"cmi.launch_data":{permissions:T},"cmi.learner_id":{permissions:T},"cmi.learner_name":{permissions:T},"cmi.learner_preference._children":{permissions:T},"cmi.learner_preference.audio_level":{permissions:p,format:I,types:["number"],range:[0,Number.MAX_VALUE]},"cmi.learner_preference.language":{permissions:p,format:"CHARACTERSTRING",types:["string"],length:250},"cmi.learner_preference.delivery_speed":{permissions:p,format:I,types:["number"],range:[0,Number.MAX_VALUE]},"cmi.learner_preference.audio_captioning":{permissions:p,format:O,types:["string"],range:["-1","0","1"]},"cmi.location":{permissions:p,format:h,types:["string"],length:1e3},"cmi.max_time_allowed":{permissions:T},"cmi.mode":{permissions:T},"cmi.objectives._children":{permissions:T},"cmi.objectives._count":{permissions:T},"cmi.objectives.n.id":{permissions:p,format:g,types:["string"],length:4e3},"cmi.objectives.n.score._children":{permissions:T},"cmi.objectives.n.score.scaled":{permissions:p,format:I,types:["number"],range:[-1,1],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.score.raw":{permissions:p,format:A,types:["number"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.score.min":{permissions:p,format:A,types:["number"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.score.max":{permissions:p,format:A,types:["number"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.success_status":{permissions:p,format:O,types:["string"],range:["passed","failed","unknown"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.completion_status":{permissions:p,format:O,types:["string"],range:["completed","incomplete","not attempted","unknown"],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.progress_measure":{permissions:p,format:I,types:["number"],range:[0,1],dependencies:["cmi.objectives.n.id"]},"cmi.objectives.n.description":{permissions:p,format:E,types:["string"],length:250,dependencies:["cmi.objectives.n.id"]},"cmi.progress_measure":{permissions:p,format:I,types:["number"],range:[0,1]},"cmi.scaled_passing_score":{permissions:T},"cmi.score._children":{permissions:T},"cmi.score.scaled":{permissions:p,format:I,types:["number"],range:[-1,1]},"cmi.score.raw":{permissions:p,format:A,types:["number"]},"cmi.score.max":{permissions:p,format:A,types:["number"]},"cmi.score.min":{permissions:p,format:A,types:["number"]},"cmi.session_time":{permissions:N,format:C,types:["string"]},"cmi.success_status":{permissions:p,format:O,types:["string"],range:["passed","failed","unknown"]},"cmi.suspend_data":{permissions:p,format:h,types:["string"],length:64e3},"cmi.time_limit_action":{permissions:T,format:O,types:["string"],range:["exit,message","continue,message","exit,no message","continue,no message"]},"cmi.total_time":{permissions:T,format:C,types:["string"]},"adl.nav.request":{permissions:p,format:O,types:["string"],range:["continue","previous","choice","exit","exitAll","abandon","abandonAll","suspendAll","_none_"]},"adl.nav.request_valid.continue":{permissions:T},"adl.nav.request_valid.previous":{permissions:T},"adl.nav.request_valid.choice":{permissions:T}};function R(){f=a.default.clone(),(d=u.default.getCurrentActivity().runTimeData).initialize(),S=d.interactions.length}t.default={initialize:R,terminate:function(){d.terminate()},commit:function(){var e=d.getValue("adl.nav.request");d.commit(),!e||e!==s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON&&e!==s.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL?(f=a.default.clone(),d=u.default.getCurrentActivity().runTimeData):(a.default.restore(f),R())},setValue:function(e,t){var n=r.default.getParamDetails(e);return function(e,t){var n,a,u,c,f,N=b[e.paramWOindex];if(!e.valid)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("Not valid parameter."),!1;if(!N)return o.default.setLastError(o.default.ERRORS.UNDEFINED_MODEL_ELEMENT),o.default.setLastErrorDiagnostic("The data model element is not defined."),!1;if(N.permissions===T)return o.default.setLastError(o.default.ERRORS.READ_ONLY_ERROR),o.default.setLastErrorDiagnostic("SCO attempted to store a data model value for an element that is implemented as read-only."),!1;if(!function(e,t,n){var o,a,u,c=!1,f=l(t);for(a=0,u=e.types.length;a<u;a++){if(f===e.types[a]){c=!0;break}if("number"===e.types[a]&&!isNaN(+t)){c=!0;break}}if(!c)return!1;switch(e.format){case g:return/^urn:/.test(t)?/^urn:[a-z0-9][a-z0-9-]{0,31}:[a-z0-9()+,\-.:=@;$_!*'%/?#]+$/i.test(t):!!t&&""!==t.replace(/^\s+|\s+$/g,"");case E:if(/^\{lang=.*}/.test(t))return/^\{lang=.+}.*$/.test(t);break;case O:return!!/\{target=.+}choice/.test(t)||e.range.indexOf(t)>-1;case m:return e.range.indexOf(t)>-1||""!==t&&!isNaN(+t);case v:return i.default.validateTime(t);case C:return i.default.validate(t);case _:if(d.getInteractions()[n.n])switch(d.getInteractions()[n.n].type){case s.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE:return"cmi.interactions.n.correct_responses.m.pattern"===n.paramWOindex&&n.m>0||/^(true|false)$/i.test(t);case s.CONSTANTS.INTERACTION_TYPE.CHOICE:if(""!==t&&(o=t.split("[,]"))){if(o.length!==r.default.onlyUnique(o).length)return!1;for(a=0,u=o.length;a<u;a++)if(/\{.*}/.test(o[a]))return!1}break;case s.CONSTANTS.INTERACTION_TYPE.FILL_IN:case s.CONSTANTS.INTERACTION_TYPE.LONG_FILL_IN:if(/^\{case_matters=/.test(t)&&!(o=/^(\{case_matters=(true|false)}.*)|(\{order_matters=(true|false)}\{case_matters=(true|false)}.*)$/.test(t)))return!1;if(/^\{order_matters=/.test(t)&&!(o=/^(\{order_matters=(true|false)}.*)|(\{case_matters=(true|false)}\{order_matters=(true|false)}.*)$/.test(t)))return!1;if(o=(o=t.replace(/^(\{case_matters=(true|false)}(\{order_matters=(true|false)})?)|(\{order_matters=(true|false)}(\{case_matters=(true|false)})?)/,"")).split("[,]"))for(a=0,u=o.length;a<u;a++)if(/^\{lang=/.test(o[a])&&!/^\{lang=(en|eng|en-US|fr)}.*/.test(o[a]))return!1;break;case s.CONSTANTS.INTERACTION_TYPE.LIKERT:if(/\[(.*)?\]/.test(t))return!1;break;case s.CONSTANTS.INTERACTION_TYPE.MATCHING:return/^(.[^((\[,\])|(\[\.\]))]*\[\.\].[^((\[,\])|(\[\.\]))]*(\[,\])?){1,}$/.test(t);case s.CONSTANTS.INTERACTION_TYPE.PERFORMANCE:return/^\{order_matters=/.test(t)?/^(\{order_matters=(true|false)})(.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?((\[,\](.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?){0,})$/.test(t):/^(.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?((\[,\](.[^((\[\.\])|(\[\,\]))]*)?\[\.\](.[^((\[\.\])|(\[\,\]))]*)?){0,})$/.test(t);case s.CONSTANTS.INTERACTION_TYPE.SEQUENCING:return"cmi.interactions.n.correct_responses.m.pattern"===n.paramWOindex&&n.m>1||/^.[^(\[,\])]*(\[,\].[^(\[,\])]*){0,}?$/.test(t);case s.CONSTANTS.INTERACTION_TYPE.NUMERIC:return"cmi.interactions.n.correct_responses.m.pattern"===n.paramWOindex&&n.m>0||(1===(o=t.split("[:]")).length?!isNaN(o[0]):!isNaN(o[0])&&!isNaN(o[1])&&+o[0]<+o[1]);case s.CONSTANTS.INTERACTION_TYPE.OTHER:}}return!0}(N,t,e))return o.default.setLastError(o.default.ERRORS.TYPE_MISMATCH),o.default.setLastErrorDiagnostic("SCO attempted to store a data model value for a data model element and the value was not of the correct data type."),!1;if(!function(e,t){var n;switch(e.format){case h:case g:return e.length>=t.length;case E:return/^\{lang=/.test(t)?(n=t.replace(/^\{lang=.[^}]*}/,""),e.length>=n.length):e.length>=t.length;case I:return e.range[0]<=t&&e.range[1]>=t}return!0}(N,t))return o.default.setLastError(o.default.ERRORS.VALUE_OUT_OF_RANGE),o.default.setLastErrorDiagnostic("SCO attempted to store a data model value for an element, however the value was not in the specified range of values for the element."),!1;if(!function(e,t){var n,r;if(e.dependencies)for(n=0,r=e.dependencies.length;n<r;n++)switch(e.dependencies[n]){case"cmi.interactions.n.id":if(t.n-d.getInteractions().length<1&&(!d.getInteractions()[t.n]||void 0===d.getInteractions()[t.n].id))return!1;break;case"cmi.interactions.n.type":if(t.n-d.getInteractions().length<1&&(!d.getInteractions()[t.n]||void 0===d.getInteractions()[t.n].type))return!1;break;case"cmi.objectives.n.id":if(t.n-d.getObjectives().length<1&&(!d.getObjectives()[t.n]||void 0===d.getObjectives()[t.n].id))return!1}return!0}(N,e))return o.default.setLastError(o.default.ERRORS.DEPENDENCY_NOT_ESTABLISHED),o.default.setLastErrorDiagnostic("Relevant dependencies are not in place."),!1;switch(e.startsWith){case"cmi.comments_from_learner":if(d.getCommentsFromLearner().length<e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;break;case"cmi.interactions":if((n=d.getInteractions()).length<e.n||n.length==e.n&&"cmi.interactions.n.id"!==e.paramWOindex)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;switch(e.paramWOindex){case"cmi.interactions.n.objectives.m.id":if(n[e.n].objectives.length<e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;break;case"cmi.interactions.n.correct_responses.m.pattern":if(n[e.n].correct_responses.length<e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;switch(n[e.n].type){case s.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE:case s.CONSTANTS.INTERACTION_TYPE.NUMERIC:if(e.m>0)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("Only one correct pattern is allowed for '".concat(n[e.n].type,"' interaction type.")),!1;break;case s.CONSTANTS.INTERACTION_TYPE.CHOICE:if(n[e.n].correct_responses.length)for(c=0,f=n[e.n].correct_responses.length;c<f;c++)if(n[e.n].correct_responses[c].pattern===t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element's value is already in use and it is not unique."),!1;break;case s.CONSTANTS.INTERACTION_TYPE.SEQUENCING:if(e.m>1)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("Only two correct patterns are allowed for 'sequencing' interaction type."),!1}}if("cmi.interactions.n.id"===e.paramWOindex)if(n.length===e.n){for(c=0,f=n.length;c<f;c++)if(n[c].id===t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element's value is already in use and it is not unique."),!1}else if(S>e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element's value was set during previous attempt set and cannot be changed."),!1;if("cmi.interactions.n.objectives.m.id"===e.paramWOindex)for(c=0,f=(a=n[e.n].objectives).length;c<f;c++)if(a[c].id===t&&c!==e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model elements value is already in use and is not unique."),!1;break;case"cmi.objectives":if((u=d.getObjectives()).length<e.n||u.length===e.n&&"cmi.objectives.n.id"!==e.paramWOindex)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model element collection was attempted to be set out of order."),!1;if("cmi.objectives.n.id"===e.paramWOindex)if(u.length===e.n){for(c=0,f=u.length;c<f;c++)if(u[c].id===t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model elements value is already in use and is not unique."),!1}else if(u[e.n].id!==t)return o.default.setLastError(o.default.ERRORS.GENERAL_SET_FAILURE),o.default.setLastErrorDiagnostic("The data model elements value is already set and cannot be changed."),!1}return!0}(n,t)?(d.setValue(e,t,n),o.default.TRUE):o.default.FALSE},getValue:function(e){var t=r.default.getParamDetails(e),n="";return function(e){var t=b[e.paramWOindex];if(!t)return o.default.setLastError(o.default.ERRORS.UNDEFINED_MODEL_ELEMENT),o.default.setLastErrorDiagnostic("The data model element is not defined."),!1;if(t.permissions===N)return o.default.setLastError(o.default.ERRORS.WRITE_ONLY_ERROR),o.default.setLastErrorDiagnostic("SCO attempted to retrieve a data model value for an element that is implemented as write-only."),!1;switch(e.startsWith){case"cmi.comments_from_learner":if(d.getCommentsFromLearner().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.comments_from_lms":if(d.getCommentsFromLMS().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.interactions":if(d.getInteractions().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.objectives":if(d.getObjectives().length<=e.n)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1}switch(e.paramWOindex){case"cmi.interactions.n.objectives.m.id":if(d.getInteractions()[e.n].objectives.length<=e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1;break;case"cmi.interactions.n.correct_responses.m.pattern":if(d.getInteractions()[e.n].correct_responses.length<=e.m)return o.default.setLastError(o.default.ERRORS.GENERAL_GET_FAILURE),o.default.setLastErrorDiagnostic("The data model element request failed to be processed due to an index out of range error."),!1}return!0}(t)&&void 0===(n=d.getValue(e,t))?(o.default.setLastError(o.default.ERRORS.VALUE_NOT_INITIALIZED),o.default.setLastErrorDiagnostic("SCO attempted to retrieve a data model value that has never been initialized."),""):n}}},4557:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o,s,a=f(n(2543)),u=f(n(857)),c=f(n(6492)),l=f(n(2515)),d=f(n(8895));function f(e){return e&&e.__esModule?e:{default:e}}function S(){return o="string"==typeof o?a.default.getActivityById(o):o}function T(){return null===s&&(s=c.default.useObjectivesGlobalToSystem()||"true"),!/^false$/i.test(s)}t.default={init:function(e){r=void 0,i={},o=e,s=null},getCurrentActivity:function(){return r},setCurrentActivity:function(e){r=e},getSuspendedActivity:S,setSuspendedActivity:function(e){o=e},getGlobalObjective:function(e){return i[e]||(i[e]=new u.default(e)),i[e]},clone:function(){var e,t=i,n=S();for(e in r&&(r=a.default.getActivityById(r.getId())),n&&(n=a.default.getActivityById(n.getId())),i={},t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=new u.default(e,t[e]));return{currentActivityId:r?r.getId():void 0,suspendedActivityId:n?n.getId():void 0,globalObjectives:t}},restore:function(e){r=a.default.getActivityById(e.currentActivityId),e.suspendedActivityId&&(o=a.default.getActivityById(e.suspendedActivityId)),i=e.globalObjectives},suspend:function(){var e,t={};for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]={objectiveProgressStatus:i[e].objectiveProgressStatus,objectiveSatisfiedStatus:i[e].objectiveSatisfiedStatus,objectiveMeasureStatus:i[e].objectiveMeasureStatus,objectiveNormalizedMeasure:i[e].objectiveNormalizedMeasure});return{suspendedActivityId:o?o.getId():void 0,globalObjectives:t}},resume:function(e){var t;for(t in e.suspendedActivityId&&(o=a.default.getActivityById(e.suspendedActivityId)),e.globalObjectives)Object.prototype.hasOwnProperty.call(e.globalObjectives,t)&&(e.globalObjectives[t].mappedActivities=i[t].mappedActivities,i[t]=new u.default(t,e.globalObjectives[t],!0))},getObjectiveGlobalToSystem:function(e){if(d.default.isObjectivesGlobalToSystem()&&T())return l.default.getSystemGlobalObjectiveById(e)},setObjectiveGlobalToSystem:function(e,t){d.default.isObjectivesGlobalToSystem()&&T()&&l.default.addSystemGlobalObjective(e,t)}}},2543:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(78)),i=s(n(6492)),o=s(n(5961));function s(e){return e&&e.__esModule?e:{default:e}}var a,u={},c=[];function l(e){var t,n;for(c.push(e),u[e.getId()]=e,t=0,n=e.children.length;t<n;t++)l(e.children[t])}function d(e,t){var n=e.getAvailableChildren();t.push(e);for(var r=0,i=n.length;r<i;r++)d(n[r],t);return t}t.default={init:function(e){u={},c=[],r.default.logger.debug("Initializing Content Packaging Model...");var t=i.default.parseManifest(e);l(a=t.root),r.default.logger.debug("Content Packaging Model initialized.")},getRoot:function(){return a},getActivityById:function(e){return u[e]},getActivityByGuid:function(e){return Object.values(u).find((function(t){return t.guid===e}))},getNextAvailableSibling:function(e){var t=e.getParent().getAvailableChildren(),n=t.indexOf(e);return-1!==n&&t.length>n+1?t[n+1]:null},getPreviousAvailableSibling:function(e){var t=e.getParent().getAvailableChildren(),n=t.indexOf(e);return n>0?t[n-1]:null},getLastAvailableActivity:function(){return function e(t){var n,r,i,o=t.getAvailableChildren();for(n=o.length-1;n>=0;n--){if((r=o[n]).isLeaf())return r;if(void 0!==(i=e(r)))return i}}(a)},getAvailableActivitiesList:function(){return d(a,[])},getAllActivitiesList:function(){return c},clone:function(){var e=a,t=u,n=c;return a=new o.default(a.getId(),null,a),u={},c=[],l(a),{root:e,activities:t,allActivities:n}},restore:function(e){a=e.root,u=e.activities,c=e.allActivities},suspend:function(){return a.suspend()},resume:function(e){a.resume(e)}}},4277:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2543)),i=c(n(4557)),o=c(n(1806)),s=c(n(295)),a=c(n(78)),u=n(5238);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={_:"_0","+":"_1","[":"_2","]":"_3","%":"_4"," ":"_5",";":"_6","`":"_7"},S={"-":"-0","|":"-1","!":"-2","#":"-3","*":"-4","{":"-5","}":"-6",":":"-7",'"':"-8","@@":"-9","^^":"~0","&":"~1",$:"~2"},T={true:"t",false:"f",unknown:"u"},N={unknown:"0",completed:"1",incomplete:"2","not attempted":"3"},p={unknown:"0",passed:"1",failed:"2"},g={fff:"0",fft:"1",ftf:"2",ftt:"3",tff:"4",tft:"5",ttf:"6",ttt:"7"},O=d(d(d(d(d(d(d(d(d(d({},u.CONSTANTS.INTERACTION_TYPE.OTHER,"0"),u.CONSTANTS.INTERACTION_TYPE.TRUE_FALSE,"1"),u.CONSTANTS.INTERACTION_TYPE.CHOICE,"2"),u.CONSTANTS.INTERACTION_TYPE.FILL_IN,"3"),u.CONSTANTS.INTERACTION_TYPE.LONG_FILL_IN,"4"),u.CONSTANTS.INTERACTION_TYPE.MATCHING,"5"),u.CONSTANTS.INTERACTION_TYPE.PERFORMANCE,"6"),u.CONSTANTS.INTERACTION_TYPE.SEQUENCING,"7"),u.CONSTANTS.INTERACTION_TYPE.LIKERT,"8"),u.CONSTANTS.INTERACTION_TYPE.NUMERIC,"9"),v={correct:"c",incorrect:"i",unanticipated:"u",neutral:"n"},A=a.default.invert(f),m=a.default.invert(S),C=a.default.invert(T),E=a.default.invert(N),I=a.default.invert(p),h=a.default.invert(g),_=a.default.invert(O),b=a.default.invert(v),R="^^",y="|",L="&",M="*",D="#",P="$";function w(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e=e.split(n).join(t[n]));return e}function U(e){return w(e,S)}function j(e){return w(e,m)}function x(e,t){return e in t?t[e]:e}function V(e){return x(e,T)}function k(e){return x(e,C)}function B(e){return x(e,b)}function G(e){var t="";if(!function(e){return!1===e.objectiveProgressStatus&&!1===e.objectiveSatisfiedStatus&&!1===e.objectiveMeasureStatus&&0===e.objectiveNormalizedMeasure}(e)){var n="";n+=V(e.objectiveMeasureStatus),n+=V(e.objectiveProgressStatus),t+=x(n+=V(e.objectiveSatisfiedStatus),g)+L;var r=e.objectiveNormalizedMeasure;t+=a.default.countDecimals(r)>4?r.toFixed(4):r}return t}function F(e){var t={};if(1===e.length&&""===e[0])t={objectiveProgressStatus:!1,objectiveSatisfiedStatus:!1,objectiveMeasureStatus:!1,objectiveNormalizedMeasure:0};else{var n=x(e[0],h);t.objectiveMeasureStatus="true"===k(n.charAt(0)),t.objectiveProgressStatus="true"===k(n.charAt(1)),t.objectiveSatisfiedStatus="true"===k(n.charAt(2)),t.objectiveNormalizedMeasure=Number(e[1])}return t}function q(e,t){for(var n="",r=0;r<e.length;r++)0!==r&&(n+=t),n+=G(e[r]);return n}function Y(e){for(var t=[],n=0;n<e.length;n++){var r=F(e[n].split(L));t.push(r)}return t}function Q(e,t){e.objectiveMeasureStatus=t.objectiveMeasureStatus,e.objectiveNormalizedMeasure=t.objectiveNormalizedMeasure,e.objectiveProgressStatus=t.objectiveProgressStatus,e.objectiveSatisfiedStatus=t.objectiveSatisfiedStatus}function z(e){for(var t=e.getAllChildren(),n=e.getAvailableChildren(),r="",i=0;i<n.length;i++){var o=t.indexOf(n[i]);-1!==o&&(r+=o,i<n.length-1&&(r+="!"))}return r}function W(e){for(var t="",n=0;n<e.length;n++){0!==n&&(t+=M);var r=e[n];t+=r.id.substring(r.id.lastIndexOf("-")+1)+L,t+=(null!=r.type?x(r.type,O):"")+L,t+=(null!=r.weighting?r.weighting:"")+L,t+=(null!=r.result?x(r.result,v):"")+L,t+=(null!=r.learner_response?U(r.learner_response):"")+L,t+=null!=r.description?U(r.description):""}return t}t.default={suspend:function(e){var t="";a.default.isEmptyObject(e.globalState.globalObjectives)||(t+=q(a.default.sortByKey(e.globalState.globalObjectives),y));t+=R;for(var n=a.default.retrieveActivitiesList(e.packagingModel),i=0;i<n.length;i++){var o=r.default.getActivityById(n[i].id);t+=V(o.getCompletion(!1))+L,t+=n[i].trackingModel.activityProgressInformation.attemptCount+L,t+=V(o.isSuspended())+L,t+=V(o.getProgressStatus())+L,t+=V(o.isActive()),t+=L+o.getAttemptExperiencedDuration(),o.isLeaf()||!o.getReorderChildren()&&!o.getSelectCountStatus()||(t+=L+z(o));var u=n[i].runTimeData;if(o.isLeaf()&&(t+=L,t+=(u.completion_status?x(u.completion_status,N):"")+L,t+=u.success_status?x(u.success_status,p):""),n[i].objectives&&n[i].objectives.length>0)t+=D,t+=q(a.default.sortByKey(n[i].trackingModel.objectiveProgressInformation),M);u.interactions&&u.interactions.length>0&&(t+=P,t+=W(u.interactions)),i<n.length-1&&(t+=y)}return t+=R,t+=e.additionalData,w(t=s.default.compress(t),f)},restore:function(e,t){if(e){var n=i.default.clone(),c=r.default.clone();e=w(e,A),t&&(e=s.default.decompress(e));var l=e.split(R);if(""!==l[0]){var d=Y(l[0].split(y)),f=a.default.sortByKey(n.globalObjectives);d.forEach((function(e,t){return Q(f[t],e)}))}for(var S=l[1].split(y),T=function(){var e=c.allActivities[N],t=(S[N].indexOf(D)>-1?S[N].split(D)[0]:S[N].indexOf(P)>-1?S[N].split(P)[0]:S[N]).split(L),n=k(t[0]),r=parseInt(t[1]);n!==u.CONSTANTS.SCORM.UNKNOWN&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus("true"===n));var i=k(t[2]),s=k(t[3]),l=k(t[4]);if(e.setSuspended("true"===i),e.setProgressStatus("true"===s),e.setActive("true"===l),e.trackingModel.activityProgressInformation.attemptCount=r,e.trackingModel.attemptProgressInformation.experiencedDuration=parseInt(t[5]),!e.isLeaf()){var d;d=t[6]?function(e,t){var n=e.split("!"),r=t.getAllChildren(),i=[];return n.forEach((function(e){i.push(r[parseInt(e)].id)})),i}(t[6],e):e.getAllChildren().map((function(e){return e.getId()})),e.setAvailableChildren(d)}if(e.isLeaf()&&(""!==t[6]&&(e.runTimeData.completion_status=x(t[6],E)),""!==t[7]&&(e.runTimeData.success_status=x(t[7],I))),S[N].indexOf(D)>-1){var f=S[N].split(D)[1];if(f.indexOf(P)>-1&&(f=f.split(P)[0]),f){var T=Y(f.split(M)),p=a.default.sortByKey(e.trackingModel.objectiveProgressInformation);T.forEach((function(e,t){return Q(p[t],e)}))}}if(e.isLeaf()&&e.hasQuestions()){var g=e.getPrimaryObjective(),O=e.trackingModel.objectiveProgressInformation[g.getId()];e.runTimeData.score.scaled=g.getSuccessStatus()!==u.CONSTANTS.SCORM.UNKNOWN?O.objectiveNormalizedMeasure:void 0}S[N].indexOf(P)>-1&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n].split(L),i=new o.default;i.id="".concat(e.resourceAddress.replace(".html",""),"-").concat(r[0]),i.type=r[1]?x(r[1],_):void 0,i.weighting=r[2]?Number(r[2]):void 0,a.default.isNumber(r[3])?i.result=+r[3]:i.result=r[3]?B(r[3]):"",i.learner_response=r[4]?j(r[4]):"",i.description=r[5]?j(r[5]):"",e.runTimeData.interactions.push(i)}}(e,S[N].split(P)[1].split(M))},N=0;N<S.length;N++)T();var p=l[2];return{globalState:n,packagingModel:c.root,additionalData:p}}}}},5961:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=d(n(917)),i=d(n(9386)),o=d(n(6597)),s=n(5238),a=d(n(78)),u=d(n(6492)),c=d(n(2543)),l=d(n(4557));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){var s,a;if(this.id=e,this.parent=t,n){for(this.parameters=n.parameters,this.leaf=n.leaf,this.sequencingModes=n.sequencingModes,this.deliveryControls=n.deliveryControls,this.randomizationControls=n.randomizationControls,this.limitConditions=n.limitConditions,this.sequencingRules=n.sequencingRules,this.rollupRules=n.rollupRules,this.rollupControls=n.rollupControls,this.rollupConsiderations=n.rollupConsiderations,this.constrainedChoiceConsiderations=n.constrainedChoiceConsiderations,this.presentation=n.presentation,this.identifierRef=n.identifierRef,this.publishIndex=n.publishIndex,this.resourceAddress=n.resourceAddress,this.resourceType=n.resourceType,this.resourceScormType=n.resourceScormType,this.title=n.title,this.visible=n.visible,this.href=n.href,this.guid=n.guid,this.objectives=[],s=0,a=n.objectives.length;s<a;s++)this.objectives.push(new o.default(this,n.objectives[s].satisfiedByMeasure,n.objectives[s].id,n.objectives[s].minNormalizedMeasure,n.objectives[s].maps,n.objectives[s].contributesToRollup,n.objectives[s]));for(this.primaryObjective=this.objectives[0],this.children=[],s=0,a=n.children.length;s<a;s++)this.children.push(new f(n.children[s].getId(),this,n.children[s]));this.trackingModel=new r.default(this,n.trackingModel),this.runTimeData=new i.default(this,n.runTimeData)}else this.parameters=null,this.leaf=!0,this.sequencingModes=null,this.deliveryControls=null,this.randomizationControls=null,this.limitConditions=null,this.sequencingRules=null,this.rollupRules=null,this.rollupControls=null,this.rollupConsiderations=null,this.constrainedChoiceConsiderations=null,this.presentation=null,this.identifierRef=null,this.publishIndex=null,this.resourceAddress=null,this.resourceType=null,this.resourceScormType=null,this.title=null,this.visible=null,this.href=null,this.guid=null,this.objectives=u.default.parseObjectives(this.getId(),this),this.primaryObjective=null,this.children=[],this.trackingModel=new r.default(this),this.runTimeData=new i.default(this)}f.prototype.getId=function(){return this.id},f.prototype.getParameters=function(){return null===this.parameters&&(this.parameters=u.default.parseParameters(this.getId())),this.parameters},f.prototype.getParent=function(){return this.parent},f.prototype.isLeaf=function(){return this.leaf},f.prototype.getAllChildren=function(){return this.children},f.prototype.setAvailableChildren=function(e){return this.trackingModel.setAvailableChildren(e)},f.prototype.getAvailableChildren=function(){return this.trackingModel.getAvailableChildren()},f.prototype.getFirstAvailableChild=function(){return this.trackingModel.getFirstAvailableChild()},f.prototype.getLastAvailableChild=function(){return this.trackingModel.getLastAvailableChild()},f.prototype.getSequencingRules=function(e,t){null===this.sequencingRules&&(this.sequencingRules=u.default.parseSequencingRules(this.getId()));var n=this.sequencingRules[e],r=[];if(t)for(var i=0,o=n.length;i<o;i++){var s=n[i];s.ruleAction===t&&r.push(s)}else r=n;return r},f.prototype.getRollupControls=function(){return null===this.rollupControls&&(this.rollupControls=u.default.parseRollupControls(this.getId())),this.rollupControls},f.prototype.getRollupRules=function(e){var t,n=[];null===this.rollupRules&&(this.rollupRules=u.default.parseRollupRules(this.getId()));for(var r=0,i=this.rollupRules.length;r<i;r++)(t=this.rollupRules[r]).ruleAction===e&&n.push(t);return n},f.prototype.getRollupObjectiveSatisfied=function(){return this.getRollupControls().rollupObjectiveSatisfied},f.prototype.getRollupProgressCompletion=function(){return this.getRollupControls().rollupProgressCompletion},f.prototype.isSequencingControlMode=function(e){return null===this.sequencingModes&&(this.sequencingModes=u.default.parseSequencingControlModes(this.getId())),this.sequencingModes[e]},f.prototype.isActive=function(){return this.trackingModel.getActive()},f.prototype.isSuspended=function(){return this.trackingModel.getSuspended()},f.prototype.isTracked=function(){return null===this.deliveryControls&&(this.deliveryControls=u.default.parseDeliveryControls(this.getId())),this.deliveryControls[s.CONSTANTS.DELIVERY_CONTROLS.TRACKED]},f.prototype.isAttempted=function(){return!0===this.getProgressStatus()&&this.getAttemptCount()>0},f.prototype.getCompletion=function(e){return this.isTracked()&&this.getAttemptProgressStatus(e)===s.CONSTANTS.SCORM.TRUE?this.getAttemptCompletionStatus(e):s.CONSTANTS.SCORM.UNKNOWN},f.prototype.getSatisfiedStatus=function(e,t){var n=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()&&n.getProgressStatus(t)===s.CONSTANTS.SCORM.TRUE?n.getSatisfiedStatus(t):s.CONSTANTS.SCORM.UNKNOWN},f.prototype.isObjectiveStatusKnown=function(e,t){var n=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()?n.getProgressStatus(t):s.CONSTANTS.SCORM.UNKNOWN},f.prototype.isObjectiveMeasureKnown=function(e,t){var n=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()?n.getMeasureStatus(t):s.CONSTANTS.SCORM.UNKNOWN},f.prototype.isObjectiveMeasureGreaterThan=function(e,t,n){var r=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()&&this.isObjectiveMeasureKnown(e)===s.CONSTANTS.SCORM.TRUE?!0===r.getMeasureStatus(n)&&r.getNormalizedMeasure(n)>t:s.CONSTANTS.SCORM.UNKNOWN},f.prototype.isObjectiveMeasureLessThan=function(e,t,n){var r=e?this.getObjective(e):this.getPrimaryObjective();return this.isTracked()&&this.isObjectiveMeasureKnown(e)===s.CONSTANTS.SCORM.TRUE?!0===r.getMeasureStatus(n)&&r.getNormalizedMeasure(n)<t:s.CONSTANTS.SCORM.UNKNOWN},f.prototype.isActivityProgressKnown=function(e){return this.isTracked()?this.getProgressStatus()===s.CONSTANTS.SCORM.TRUE&&this.getAttemptProgressStatus(e)===s.CONSTANTS.SCORM.TRUE:s.CONSTANTS.SCORM.UNKNOWN},f.prototype.isAttemptLimitExceeded=function(){return this.isTracked()?!0===this.getProgressStatus()&&!0===this.getAttemptControl()&&this.getAttemptCount()>=this.getAttemptLimit():s.CONSTANTS.SCORM.UNKNOWN},f.prototype.getRollupSet=function(){for(var e,t,n=c.default.getAvailableActivitiesList(),r=l.default.getCurrentActivity(),i=this.getObjectives(),o=[],s=this.getPath(!1,null),u=[],d=0,f=i.length;d<f;d++)e=i[d],u=u.concat(e.getReadMappedActivities());for(var S=0,T=(u=a.default.onlyUnique(u)).length;S<T;S++)t=c.default.getActivityById(u[S]),s=s.concat(t.getPath(!1,null));s=a.default.onlyUnique(s);for(var N=0,p=n.length;N<p;N++)t=n[N],a.default.contains(s,t)&&t!==r&&o.push(t);return o.push(r),o},f.prototype.isCompletionSetByContent=function(){return null===this.deliveryControls&&(this.deliveryControls=u.default.parseDeliveryControls(this.getId())),this.deliveryControls[s.CONSTANTS.DELIVERY_CONTROLS.COMPLETION_SET_BY_CONTENT]},f.prototype.isObjectiveSetByContent=function(){return null===this.deliveryControls&&(this.deliveryControls=u.default.parseDeliveryControls(this.getId())),this.deliveryControls[s.CONSTANTS.DELIVERY_CONTROLS.OBJECTIVE_SET_BY_CONTENT]},f.prototype.getRandomizationTiming=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.RANDOMIZATION_TIMING]},f.prototype.getSelectCountStatus=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),void 0!==this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]},f.prototype.getSelectCount=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),+this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.SELECT_COUNT]},f.prototype.getReorderChildren=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.REORDER_CHILDREN]},f.prototype.getSelectionTiming=function(){return null===this.randomizationControls&&(this.randomizationControls=u.default.parseRandomizationControls(this.getId())),this.randomizationControls[s.CONSTANTS.RANDOMIZATION_CONTROLS.SELECTION_TIMING]},f.prototype.getPath=function(e,t,n){var r=[],i=this;for(e&&null!==t&&(i=t,t=n?n.getParent():null);i!==t;)r.push(i),i=i.getParent();return e&&(r=r.reverse()),r},f.prototype.prepareForNewAttempt=function(e,t){var n,r,o;if(this.runTimeData=new i.default(this),this.trackingModel.prepareForNewAttempt(e),t)for(r=0,o=(n=this.getAvailableChildren()).length;r<o;r++)n[r].prepareForNewAttempt(e,t)},f.prototype.incrementAttemptCount=function(){this.trackingModel.incrementAttemptCount()},f.prototype.getAttemptCount=function(){return this.trackingModel.getAttemptCount()},f.prototype.setProgressStatus=function(e){this.trackingModel.setProgressStatus(e)},f.prototype.getProgressStatus=function(){return this.trackingModel.getProgressStatus()},f.prototype.setAttemptProgressStatus=function(e){return this.trackingModel.setAttemptProgressStatus(e)},f.prototype.getAttemptProgressStatus=function(e){return this.trackingModel.getAttemptProgressStatus(e)},f.prototype.setAttemptCompletionStatus=function(e){return this.trackingModel.setAttemptCompletionStatus(e)},f.prototype.getAttemptCompletionStatus=function(e){return this.trackingModel.getAttemptCompletionStatus(e)},f.prototype.setActive=function(e){this.trackingModel.setActive(e)},f.prototype.setSuspended=function(e){this.trackingModel.setSuspended(e)},f.prototype.getAttemptControl=function(){return null===this.limitConditions&&(this.limitConditions=u.default.parseLimitConditions(this.getId())),void 0!==this.limitConditions[s.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]},f.prototype.getAttemptLimit=function(){return null===this.limitConditions&&(this.limitConditions=u.default.parseLimitConditions(this.getId())),this.limitConditions[s.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_LIMIT]},f.prototype.getAttemptAbsoluteDurationLimit=function(){return null===this.limitConditions&&(this.limitConditions=u.default.parseLimitConditions(this.getId())),this.limitConditions[s.CONSTANTS.LIMIT_CONDITIONS.ATTEMPT_ABSOLUTE_DURATION_LIMIT]},f.prototype.findCommonAncestor=function(e){var t=this.getParent();if(!e)return null;if(e===c.default.getRoot())return e;if(this===e)return t;if(t===e.getParent())return t;for(var n=this.getPath(!1,null),r=e.getPath(!1,null);n.length;)for(var i=n.shift(),o=r.length-1;o>=0;o--)if(r[o]===i)return i;a.default.logger.warn("Could not find common ancestor, please check function implementation!")},f.prototype.isSiblingTo=function(e){return this.isLeaf()||a.default.logger.warn("isSiblingTo function applied to not leaf activity!"),this.getParent()===e.getParent()},f.prototype.isDescendantOf=function(e){for(var t,n=e.getAvailableChildren(),r=0,i=n.length;r<i;r++)if((t=n[r]).isLeaf()){if(this===t)return!0}else if(this.isDescendantOf(t))return!0;return!1},f.prototype.getActivitiesBetween=function(e,t,n){var r,i=[],o=!1;if(this.isSiblingTo(e))for(var s=this.getParent().getAvailableChildren(),a=0,u=s.length;a<u;a++)if((r=s[a])!==this){if(o){if(r===e){n&&i.push(r);break}i.push(r)}}else o=!0,t&&i.push(r);return i},f.prototype.isForwardTo=function(e){var t=function e(t,n,r){for(var i,o,s=r.getAvailableChildren(),a=0,u=s.length;a<u;a++){if((i=s[a])===t)return!1;if(i===n)return!0;if(!i.isLeaf()&&void 0!==(o=e(t,n,i)))return o}}(this,e,this.findCommonAncestor(e));if(void 0===t)throw new Error("error in isForwardTo function, probably findCommonAncestor is not working properly");return t},f.prototype.getObjectives=function(){return this.objectives.length||this.objectives.push(new o.default(this,!1,"selfGeneratedPrimaryObjective",1,null,!0)),this.objectives},f.prototype.getObjective=function(e){for(var t,n=this.getObjectives(),r=0,i=n.length;r<i;r++)if((t=n[r]).getId()===e)return t;a.default.logger.error("Could not found objective by id: ".concat(e))},f.prototype.getPrimaryObjective=function(){return null===this.primaryObjective&&(this.primaryObjective=this.getObjectives()[0]),this.primaryObjective},f.prototype.getRollupObjectiveMeasureWeight=function(){return this.getRollupControls().objectiveMeasureWeight},f.prototype.hasQuestions=function(){return this.objectives.some((function(e){return/^q-/.test(e.id)}))},f.prototype.getResourceUrl=function(){return this.resourceAddress},f.prototype.getTitle=function(){return null===this.title&&(this.title=u.default.getTitle(this.getId())),this.title},f.prototype.isVisible=function(){return null===this.visible&&(this.visible="true"===u.default.getVisibility(this.getId())),this.visible},f.prototype.getIdRef=function(){return null===this.identifierRef&&(this.identifierRef=u.default.getIdRef(this.getId())),this.identifierRef},f.prototype.getPublishIndex=function(){return null===this.publishIndex&&(this.publishIndex=u.default.getPublishIndex(this.getId())),this.publishIndex},f.prototype.getRollupConsiderations=function(){return this.rollupConsiderations||(this.rollupConsiderations=u.default.parseRollupConsiderations(this.getId())),this.rollupConsiderations},f.prototype.getConstrainedChoiceConsiderations=function(){return this.constrainedChoiceConsiderations||(this.constrainedChoiceConsiderations=u.default.parseConstrainedChoiceConsiderations(this.getId())),this.constrainedChoiceConsiderations},f.prototype.getPreventActivation=function(){return this.getConstrainedChoiceConsiderations().preventActivation},f.prototype.getConstrainChoice=function(){return this.getConstrainedChoiceConsiderations().constrainChoice},f.prototype.getRequiredForSatisfied=function(){return this.getRollupConsiderations().requiredForSatisfied},f.prototype.getRequiredForNotSatisfied=function(){return this.getRollupConsiderations().requiredForNotSatisfied},f.prototype.getRequiredForCompleted=function(){return this.getRollupConsiderations().requiredForCompleted},f.prototype.getRequiredForIncomplete=function(){return this.getRollupConsiderations().requiredForIncomplete},f.prototype.getMeasureSatisfactionIfActive=function(){return this.getRollupConsiderations().measureSatisfactionIfActive},f.prototype.isButtonHidden=function(e){return null===this.presentation&&(this.presentation=u.default.parsePresentation(this.getId())),this.presentation.indexOf(e)>-1},f.prototype.transferLocalStateToGlobal=function(){var e,t;for(e=0,t=this.objectives.length;e<t;e++)"function"==typeof this.objectives[e].transferLocalStateToGlobal&&this.objectives[e].transferLocalStateToGlobal()},f.prototype.suspend=function(){for(var e,t,n={id:this.id,children:[],trackingModel:this.trackingModel.suspend(),runTimeData:this.runTimeData.suspend(),objectives:[]},r=0,i=this.objectives.length;r<i;r++)t=this.objectives[r],n.objectives.push(t.suspend());for(var o=0,s=this.children.length;o<s;o++)e=this.children[o],n.children.push(e.suspend());return n},f.prototype.resume=function(e){var t,n,r,i;for(t=0,n=e.children.length;t<n;t++)r=e.children[t],this.children[t].resume(r);for(t=0,n=e.objectives.length;t<n;t++)i=e.objectives[t],this.objectives[t].resume(i);this.trackingModel.resume(e.trackingModel),this.runTimeData.resume(e.runTimeData)},f.prototype.getAttemptExperiencedDuration=function(){return this.trackingModel.getAttemptExperiencedDuration()},f.prototype.setAttemptStartTime=function(){this.trackingModel.setAttemptStartTime()},f.prototype.setAttemptEndTime=function(){this.trackingModel.setAttemptEndTime()}},857:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=o(n(4557)),i=o(n(78));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){var i;this.globalObjectiveId=e,t?(n&&(i=r.default.getObjectiveGlobalToSystem(e))?(this.objectiveProgressStatus=i.objectiveProgressStatus,this.objectiveSatisfiedStatus=i.objectiveSatisfiedStatus,this.objectiveMeasureStatus=i.objectiveMeasureStatus,this.objectiveNormalizedMeasure=i.objectiveNormalizedMeasure):(this.objectiveProgressStatus=t.objectiveProgressStatus,this.objectiveSatisfiedStatus=t.objectiveSatisfiedStatus,this.objectiveMeasureStatus=t.objectiveMeasureStatus,this.objectiveNormalizedMeasure=t.objectiveNormalizedMeasure,r.default.setObjectiveGlobalToSystem(e,this)),this.mappedActivities=t.mappedActivities):((i=r.default.getObjectiveGlobalToSystem(e))?(this.objectiveProgressStatus=i.objectiveProgressStatus,this.objectiveSatisfiedStatus=i.objectiveSatisfiedStatus,this.objectiveMeasureStatus=i.objectiveMeasureStatus,this.objectiveNormalizedMeasure=i.objectiveNormalizedMeasure):(this.objectiveProgressStatus=!1,this.objectiveSatisfiedStatus=!1,this.objectiveMeasureStatus=!1,this.objectiveNormalizedMeasure=0,r.default.setObjectiveGlobalToSystem(e,this)),this.mappedActivities={readSatisfiedStatus:[],writeSatisfiedStatus:[],readNormalizedMeasure:[],writeNormalizedMeasure:[]})}s.prototype.getProgressStatus=function(){return this.objectiveProgressStatus},s.prototype.setProgressStatus=function(e){this.objectiveProgressStatus=e,r.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.getSatisfiedStatus=function(){return this.objectiveSatisfiedStatus},s.prototype.setSatisfiedStatus=function(e){this.objectiveSatisfiedStatus=e,r.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.getMeasureStatus=function(){return this.objectiveMeasureStatus},s.prototype.setMeasureStatus=function(e){this.objectiveMeasureStatus=e,r.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.getNormalizedMeasure=function(){return this.objectiveNormalizedMeasure},s.prototype.setNormalizedMeasure=function(e){this.objectiveNormalizedMeasure=e,r.default.setObjectiveGlobalToSystem(this.globalObjectiveId,this)},s.prototype.registerMappedActivity=function(e,t){t.readSatisfiedStatus&&(i.default.contains(this.mappedActivities.readSatisfiedStatus,e)||this.mappedActivities.readSatisfiedStatus.push(e)),t.writeSatisfiedStatus&&(i.default.contains(this.mappedActivities.writeSatisfiedStatus,e)||this.mappedActivities.writeSatisfiedStatus.push(e)),t.readNormalizedMeasure&&(i.default.contains(this.mappedActivities.readNormalizedMeasure,e)||this.mappedActivities.readNormalizedMeasure.push(e)),t.writeNormalizedMeasure&&(i.default.contains(this.mappedActivities.writeNormalizedMeasure,e)||this.mappedActivities.writeNormalizedMeasure.push(e))},s.prototype.getMappedActivities=function(e){return this.mappedActivities[e]}},1806:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.id=void 0,this.type=void 0,this.objectives=[],this.timestamp=void 0,this.correct_responses=[],this.weighting=void 0,this.learner_response=void 0,this.result=void 0,this.latency=void 0,this.description=void 0}},4050:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){this.type=e,this.activityId=t,this.requestResult=null,this.evaluationResult=null}},6597:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n(78)),i=n(5238),o=a(n(4557)),s=a(n(3578));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,o,s,a){this.activity=e,this.id=n,this.satisfiedByMeasure=t||!1,this.minNormalizedMeasure=void 0!==r?r:1,this.maps=o||[],this.contributesToRollup=s||!1,a?(this.score={raw:a.score.raw,min:a.score.min,max:a.score.max},this.completion_status=a.completion_status,this.progress_measure=a.progress_measure,this.description=a.description,this.satisfiedStatusChangedDuringAttempt=a.satisfiedStatusChangedDuringAttempt,this.normalizedMeasureChangedDuringAttempt=a.normalizedMeasureChangedDuringAttempt):(this.score={raw:void 0,min:void 0,max:void 0},this.completion_status=i.CONSTANTS.UNKNOWN,this.progress_measure=void 0,this.description=void 0,this.satisfiedStatusChangedDuringAttempt=!1,this.normalizedMeasureChangedDuringAttempt=!1)}u.prototype.getId=function(){return this.id},u.prototype.hasGlobalObjectives=function(){return this.maps.length>0},u.prototype.getProgressStatus=function(e){var t,n,r=i.CONSTANTS.SCORM.UNKNOWN;if(this.getSatisfiedByMeasure())return this.getMeasureStatus(e)===i.CONSTANTS.SCORM.TRUE?i.CONSTANTS.SCORM.TRUE:i.CONSTANTS.SCORM.FALSE;if(r=this.activity.trackingModel.getObjectiveProgressStatus(this.getId(),e))return r;if(this.hasGlobalObjectives())for(t=0,n=this.maps.length;t<n;t++)if(this.maps[t].readSatisfiedStatus){r=o.default.getGlobalObjective(this.maps[t].targetObjectiveID).getProgressStatus();break}return r},u.prototype.setProgressStatus=function(e){this.activity.trackingModel.setObjectiveProgressStatus(this.getId(),e)},u.prototype.getSatisfiedStatus=function(e){var t,n,r,s=i.CONSTANTS.SCORM.UNKNOWN;if(this.getSatisfiedByMeasure()&&(this.getMeasureStatus(!1)&&(!this.activity.isActive()||this.activity.isActive()&&this.activity.getMeasureSatisfactionIfActive())?+this.getNormalizedMeasure(!1)>=+this.getMinimumSatisfiedNormalizedMeasure()?(this.setProgressStatus(i.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(i.CONSTANTS.SCORM.TRUE)):(this.setProgressStatus(i.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(i.CONSTANTS.SCORM.FALSE)):this.setProgressStatus(i.CONSTANTS.SCORM.FALSE)),this.activity.trackingModel.getObjectiveProgressStatus(this.getId(),e)===i.CONSTANTS.SCORM.TRUE&&(s=this.activity.trackingModel.getObjectiveSatisfiedStatus(this.getId(),e)),this.satisfiedStatusChangedDuringAttempt)return s;if(this.hasGlobalObjectives())for(n=0,r=this.maps.length;n<r;n++)if(this.maps[n].readSatisfiedStatus){(t=o.default.getGlobalObjective(this.maps[n].targetObjectiveID)).getProgressStatus()===i.CONSTANTS.SCORM.TRUE&&(s=t.getSatisfiedStatus());break}return s},u.prototype.setSatisfiedStatus=function(e){this.satisfiedStatusChangedDuringAttempt=!0,this.activity.trackingModel.setObjectiveSatisfiedStatus(this.getId(),e)},u.prototype.getMeasureStatus=function(e){var t,n,r=i.CONSTANTS.SCORM.UNKNOWN;if(r=this.activity.trackingModel.getObjectiveMeasureStatus(this.getId(),e))return r;if(this.hasGlobalObjectives())for(t=0,n=this.maps.length;t<n;t++)if(this.maps[t].readNormalizedMeasure){r=o.default.getGlobalObjective(this.maps[t].targetObjectiveID).getMeasureStatus();break}return r},u.prototype.setMeasureStatus=function(e){this.activity.trackingModel.setObjectiveMeasureStatus(this.getId(),e)},u.prototype.getNormalizedMeasure=function(e){var t,n,r,s;if(this.activity.trackingModel.getObjectiveMeasureStatus(this.getId(),e)===i.CONSTANTS.SCORM.TRUE&&(t=this.activity.trackingModel.getObjectiveNormalizedMeasure(this.getId(),e)),this.normalizedMeasureChangedDuringAttempt)return t;if(this.hasGlobalObjectives())for(r=0,s=this.maps.length;r<s;r++)if(this.maps[r].readNormalizedMeasure){(n=o.default.getGlobalObjective(this.maps[r].targetObjectiveID)).getMeasureStatus()===i.CONSTANTS.SCORM.TRUE&&(t=n.getNormalizedMeasure());break}return t},u.prototype.setNormalizedMeasure=function(e){this.normalizedMeasureChangedDuringAttempt=!0,this.activity.trackingModel.setObjectiveNormalizedMeasure(this.getId(),e),this.getSatisfiedByMeasure()&&!this.contributesToRollup&&s.default.process(this.activity,this.id)},u.prototype.getScoreScaled=function(){return this.getMeasureStatus(!1)===i.CONSTANTS.SCORM.TRUE?this.getNormalizedMeasure(!1):void 0},u.prototype.setScoreScaled=function(e){this.setMeasureStatus(!0),this.setNormalizedMeasure(e)},u.prototype.getScoreRaw=function(){return this.score.raw},u.prototype.setScoreRaw=function(e){this.score.raw=e},u.prototype.getScoreMin=function(){return this.score.min},u.prototype.setScoreMin=function(e){this.score.min=e},u.prototype.getScoreMax=function(){return this.score.min},u.prototype.setScoreMax=function(e){this.score.min=e},u.prototype.getSuccessStatus=function(){return this.getProgressStatus(!1)===i.CONSTANTS.SCORM.TRUE?this.getSatisfiedStatus(!1)===i.CONSTANTS.SCORM.TRUE?i.CONSTANTS.SCORM.PASSED:i.CONSTANTS.SCORM.FAILED:i.CONSTANTS.SCORM.UNKNOWN},u.prototype.setSuccessStatus=function(e){switch(e){case i.CONSTANTS.SCORM.PASSED:this.setProgressStatus(i.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(i.CONSTANTS.SCORM.TRUE);break;case i.CONSTANTS.SCORM.FAILED:this.setProgressStatus(i.CONSTANTS.SCORM.TRUE),this.setSatisfiedStatus(i.CONSTANTS.SCORM.FALSE);break;case i.CONSTANTS.SCORM.UNKNOWN:this.setProgressStatus(i.CONSTANTS.SCORM.FALSE),this.setSatisfiedStatus(i.CONSTANTS.SCORM.FALSE)}},u.prototype.getCompletionStatus=function(){return this.completion_status},u.prototype.setCompletionStatus=function(e){this.completion_status=e},u.prototype.getProgressMeasure=function(){return this.progress_measure},u.prototype.setProgressMeasure=function(e){this.progress_measure=e},u.prototype.getDescription=function(){return this.description},u.prototype.setDescription=function(e){this.description=e},u.prototype.getSatisfiedByMeasure=function(){return this.satisfiedByMeasure},u.prototype.getMinimumSatisfiedNormalizedMeasure=function(){return this.minNormalizedMeasure},u.prototype.transferLocalStateToGlobal=function(){var e,t=this.getId();if(this.activity.isTracked()&&this.hasGlobalObjectives())for(var n=0,r=this.maps.length;n<r;n++)e=o.default.getGlobalObjective(this.maps[n].targetObjectiveID),this.maps[n].writeSatisfiedStatus&&this.satisfiedStatusChangedDuringAttempt&&(e.setProgressStatus(i.CONSTANTS.SCORM.TRUE),e.setSatisfiedStatus(this.activity.trackingModel.getObjectiveSatisfiedStatus(t,!1))),this.maps[n].writeNormalizedMeasure&&this.normalizedMeasureChangedDuringAttempt&&(e.setMeasureStatus(i.CONSTANTS.SCORM.TRUE),e.setNormalizedMeasure(this.activity.trackingModel.getObjectiveNormalizedMeasure(t,!1)));this.satisfiedStatusChangedDuringAttempt=!1,this.normalizedMeasureChangedDuringAttempt=!1},u.prototype.getReadMappedActivities=function(){var e,t=[];if(this.hasGlobalObjectives())for(var n=0,i=this.maps.length;n<i;n++)e=o.default.getGlobalObjective(this.maps[n].targetObjectiveID),this.maps[n].writeSatisfiedStatus&&(t=t.concat(e.getMappedActivities("readSatisfiedStatus"))),this.maps[n].writeNormalizedMeasure&&(t=t.concat(e.getMappedActivities("readNormalizedMeasure")));return r.default.onlyUnique(t)},u.prototype.suspend=function(){return{score:{raw:this.score.raw},progress_measure:this.progress_measure,completion_status:this.completion_status}},u.prototype.resume=function(e){this.score.raw=e.score.raw,this.progress_measure=e.progress_measure,this.completion_status=e.completion_status}},4278:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(5238);function i(e,t){this.operator=e||r.CONSTANTS.OPERATORS.NO_OP,this.condition=t}i.prototype.negate=function(e){return e===r.CONSTANTS.SCORM.UNKNOWN?r.CONSTANTS.SCORM.UNKNOWN:!e},i.prototype.evaluate=function(e){switch(this.condition){case r.CONSTANTS.CONDITIONS.SATISFIED:return e.getSatisfiedStatus(void 0,!1);case r.CONSTANTS.CONDITIONS.OBJECTIVE_STATUS_KNOWN:return e.isObjectiveStatusKnown(void 0,!1);case r.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_KNOWN:return e.isObjectiveMeasureKnown(void 0,!1);case r.CONSTANTS.CONDITIONS.COMPLETED:return e.getCompletion(!1);case r.CONSTANTS.CONDITIONS.ACTIVITY_PROGRESS_KNOWN:return e.isActivityProgressKnown(!1);case r.CONSTANTS.CONDITIONS.ATTEMPTED:return e.isAttempted();case r.CONSTANTS.CONDITIONS.ATTEMPT_LIMIT_EXCEEDED:return e.isAttemptLimitExceeded();case r.CONSTANTS.CONDITIONS.TIME_LIMIT_EXCEEDED:case r.CONSTANTS.CONDITIONS.OUTSIDE_AVAILABLE_TIME_RANGE:}}},8361:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(5238);function i(e,t,n,i,o,s){this.childActivitySet=e||r.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL,this.minimumCount=t||0,this.minimumPercent=n||0,this.rollupConditions=i||[],this.conditionCombination=o||r.CONSTANTS.CONDITION_COMBINATIONS.ALL,this.ruleAction=s}i.prototype.applyConditionCombination=function(e){var t,n,i;if(0===e.length)return r.CONSTANTS.SCORM.UNKNOWN;if(this.conditionCombination===r.CONSTANTS.CONDITION_COMBINATIONS.ALL)for(i=!0,t=0,n=e.length;t<n;t++){if(e[t]===r.CONSTANTS.SCORM.FALSE)return r.CONSTANTS.SCORM.FALSE;i=e[t]===r.CONSTANTS.SCORM.UNKNOWN||i===r.CONSTANTS.SCORM.UNKNOWN?r.CONSTANTS.SCORM.UNKNOWN:r.CONSTANTS.SCORM.TRUE}else if(this.conditionCombination===r.CONSTANTS.CONDITION_COMBINATIONS.ANY)for(t=0,n=e.length;t<n;t++){if(e[t]===r.CONSTANTS.SCORM.TRUE)return r.CONSTANTS.SCORM.TRUE;i=e[t]===r.CONSTANTS.SCORM.UNKNOWN||i===r.CONSTANTS.SCORM.UNKNOWN?r.CONSTANTS.SCORM.UNKNOWN:r.CONSTANTS.SCORM.FALSE}return i}},4338:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(5238);function i(e,t,n,i){this.condition=e||void 0,this.operator=t||r.CONSTANTS.OPERATORS.NO_OP,this.measureThreshold=n?+n:void 0,this.referencedObjective=i||void 0}i.prototype.negate=function(e){return e===r.CONSTANTS.SCORM.UNKNOWN?r.CONSTANTS.SCORM.UNKNOWN:!e},i.prototype.evaluate=function(e){switch(this.condition){case r.CONSTANTS.CONDITIONS.SATISFIED:return e.getSatisfiedStatus(this.referencedObjective,!0);case r.CONSTANTS.CONDITIONS.OBJECTIVE_STATUS_KNOWN:return e.isObjectiveStatusKnown(this.referencedObjective,!0);case r.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_KNOWN:return e.isObjectiveMeasureKnown(this.referencedObjective,!0);case r.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_GREATER_THAN:return e.isObjectiveMeasureGreaterThan(this.referencedObjective,this.measureThreshold,!0);case r.CONSTANTS.CONDITIONS.OBJECTIVE_MEASURE_LESS_THAN:return e.isObjectiveMeasureLessThan(this.referencedObjective,this.measureThreshold,!0);case r.CONSTANTS.CONDITIONS.COMPLETED:return e.getCompletion(!0);case r.CONSTANTS.CONDITIONS.ACTIVITY_PROGRESS_KNOWN:return e.isActivityProgressKnown(!0);case r.CONSTANTS.CONDITIONS.ATTEMPTED:return e.isAttempted();case r.CONSTANTS.CONDITIONS.ATTEMPT_LIMIT_EXCEEDED:return e.isAttemptLimitExceeded();case r.CONSTANTS.CONDITIONS.TIME_LIMIT_EXCEEDED:case r.CONSTANTS.CONDITIONS.OUTSIDE_AVAILABLE_TIME_RANGE:break;case r.CONSTANTS.CONDITIONS.ALWAYS:return!0}}},9386:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var r=f(n(78)),i=f(n(6487)),o=f(n(9125)),s=f(n(6492)),a=n(5238),u=f(n(5067)),c=f(n(1806)),l=f(n(8660)),d=["activity","trackingModel"];function f(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var n,r;this.activity=e,this.trackingModel=e.trackingModel,t?(this.comentsFromLearner=t.comentsFromLearner,this.objectives=T(e,t.objectives),this.interactions=t.interactions,this.commentsFromLMS=t.commentsFromLMS,this.learnerPreferences=(n=t.learnerPreferences,(r={}).audio_level=n.audio_level,r.language=n.language,r.delivery_speed=n.delivery_speed,r.audio_captioning=n.audio_captioning,r),this.mode=t.mode,this.location=t.location,this.launch_data=t.launch_data,this.learner_id=t.learner_id,this.learner_name=t.learner_name,this.session_time_start=t.session_time_start,this.session_time=t.session_time,this.total_time=t.total_time,this.suspend_data=t.suspend_data,this.time_limit_action=t.time_limit_action,this.completion_status=t.completion_status,this.completion_threshold=t.completion_threshold,this.progress_measure=t.progress_measure,this.credit=t.credit,this.entry=t.entry,this.exit=t.exit,this.success_status=t.success_status,this.nav_request=t.nav_request,this.scaled_passing_score=t.scaled_passing_score,this.score=function(e){var t={};return t.scaled=e.scaled,t.raw=e.raw,t.min=e.min,t.max=e.max,t}(t.score)):(this.comentsFromLearner=[],this.objectives=T(e),this.interactions=[],this.commentsFromLMS=[],this.learnerPreferences={audio_level:"1",language:"",delivery_speed:"1",audio_captioning:"0"},this.mode="normal",this.location=void 0,this.launch_data=s.default.getLaunchData(e.getId()),this.learner_id="learnerId",this.learner_name="learnerName",this.session_time_start=void 0,this.session_time=void 0,this.total_time="PT0H0M0S",this.suspend_data=void 0,this.time_limit_action=s.default.getTimeLimitAction(e.getId())||"continue,no message",this.completion_status=a.CONSTANTS.SCORM.UNKNOWN,this.completion_threshold=s.default.getCompletionThreshold(e.getId()),this.progress_measure=void 0,this.credit=a.CONSTANTS.CMI.CREDIT,this.entry=a.CONSTANTS.CMI.ENTRY.AB_INITIO,this.exit="",this.success_status=a.CONSTANTS.SCORM.UNKNOWN,this.nav_request="_none_",this.scaled_passing_score=function(e){var t=e.getPrimaryObjective();return t.satisfiedByMeasure?void 0!==t.minNormalizedMeasure?t.minNormalizedMeasure:1:void 0}(e),this.score={scaled:void 0,raw:void 0,min:void 0,max:void 0})}function T(e,t){for(var n,r=e.getObjectives(),i=[],o=0,s=r.length;o<s;o++)""!==(n=r[o].getId())&&"selfGeneratedPrimaryObjective"!==n&&i.push(r[o]);if(t)for(var a=0,c=t.length;a<c;a++)t[a]instanceof u.default&&i.push(new u.default(t[a]));return i}S.prototype.getCommentsFromLearner=function(){return this.comentsFromLearner},S.prototype.initializeCommentsFromLearner=function(){this.comentsFromLearner[this.comentsFromLearner.length]={}},S.prototype.getCommentsFromLMS=function(){return this.commentsFromLMS},S.prototype.initializeInteraction=function(){this.interactions[this.interactions.length]=new c.default},S.prototype.getInteractions=function(){return this.interactions},S.prototype.getLearnerPreferences=function(){return this.learnerPreferences},S.prototype.initializeObjective=function(){this.objectives[this.objectives.length]=new u.default},S.prototype.getObjectives=function(){return this.objectives},S.prototype.getCompletionStatus=function(){return this.completion_status},S.prototype.setCompletionStatus=function(e){switch(e){case a.CONSTANTS.COURSE_STATUSES.UNKNOWN:this.trackingModel.setAttemptProgressStatus(!1);break;case a.CONSTANTS.COURSE_STATUSES.COMPLETED:this.trackingModel.setAttemptProgressStatus(!0),this.trackingModel.setAttemptCompletionStatus(!0);break;case a.CONSTANTS.COURSE_STATUSES.INCOMPLETE:case a.CONSTANTS.COURSE_STATUSES.NOT_ATTEMPTED:this.trackingModel.setAttemptProgressStatus(!0),this.trackingModel.setAttemptCompletionStatus(!1)}this.completion_status=e},S.prototype.setExit=function(e){switch(e){case a.CONSTANTS.CMI.EXIT.LOGOUT:case a.CONSTANTS.CMI.EXIT.TIMEOUT:l.default.process(a.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL);break;case a.CONSTANTS.CMI.EXIT.SUSPEND:this.trackingModel.setSuspended(!0)}},S.prototype.getSuccessStatus=function(){return this.activity.getPrimaryObjective().getSuccessStatus()},S.prototype.setSuccessStatus=function(e){var t=this.activity.getPrimaryObjective();t.getSatisfiedByMeasure()||t.setSuccessStatus(e)},S.prototype.setScoreScaled=function(e){var t=this.activity.getPrimaryObjective();void 0!==this.scaled_passing_score&&(+this.scaled_passing_score<=+e?this.setSuccessStatus(a.CONSTANTS.COURSE_STATUSES.PASSED):this.setSuccessStatus(a.CONSTANTS.COURSE_STATUSES.FAILED)),t.setScoreScaled(e),this.score.scaled=e},S.prototype.getMaxTimeAllowed=function(){return this.activity.getAttemptAbsoluteDurationLimit()},S.prototype.setProgressMeasure=function(e){void 0!==this.completion_threshold&&(+this.completion_threshold<=+e?this.setCompletionStatus(a.CONSTANTS.COURSE_STATUSES.COMPLETED):this.setCompletionStatus(a.CONSTANTS.COURSE_STATUSES.INCOMPLETE)),this.progress_measure=e},S.prototype.initialize=function(){this.session_time=void 0,this.nav_request="_none_",this.session_time_start=new Date},S.prototype.setValue=function(e,t,n){switch(n.paramWOindex){case"cmi.comments_from_learner.n.comment":n.n===this.getCommentsFromLearner().length&&this.initializeCommentsFromLearner(),this.getCommentsFromLearner()[n.n].comment=t;break;case"cmi.comments_from_learner.n.location":n.n===this.getCommentsFromLearner().length&&this.initializeCommentsFromLearner(),this.getCommentsFromLearner()[n.n].location=t;break;case"cmi.comments_from_learner.n.timestamp":n.n===this.getCommentsFromLearner().length&&this.initializeCommentsFromLearner(),this.getCommentsFromLearner()[n.n].timestamp=t;break;case"cmi.completion_status":this.completion_threshold||this.setCompletionStatus(t);break;case"cmi.exit":this.exit=t;break;case"cmi.interactions.n.id":n.n===this.getInteractions().length&&this.initializeInteraction(),this.getInteractions()[n.n].id=t;break;case"cmi.interactions.n.type":this.getInteractions()[n.n].type=t;break;case"cmi.interactions.n.objectives.m.id":this.getInteractions()[n.n].objectives[n.m]=this.getInteractions()[n.n].objectives[n.m]||{},this.getInteractions()[n.n].objectives[n.m].id=t;break;case"cmi.interactions.n.timestamp":this.getInteractions()[n.n].timestamp=t;break;case"cmi.interactions.n.correct_responses.m.pattern":this.getInteractions()[n.n].correct_responses[n.m]=this.getInteractions()[n.n].correct_responses[n.m]||{},this.getInteractions()[n.n].correct_responses[n.m].pattern=t;break;case"cmi.interactions.n.weighting":this.getInteractions()[n.n].weighting=t;break;case"cmi.interactions.n.learner_response":this.getInteractions()[n.n].learner_response=t;break;case"cmi.interactions.n.result":this.getInteractions()[n.n].result=t;break;case"cmi.interactions.n.latency":this.getInteractions()[n.n].latency=t;break;case"cmi.interactions.n.description":this.getInteractions()[n.n].description=t;break;case"cmi.learner_preference.audio_level":this.getLearnerPreferences().audio_level=t;break;case"cmi.learner_preference.language":this.getLearnerPreferences().language=t;break;case"cmi.learner_preference.delivery_speed":this.getLearnerPreferences().delivery_speed=t;break;case"cmi.learner_preference.audio_captioning":this.getLearnerPreferences().audio_captioning=t;break;case"cmi.location":this.location=t;break;case"cmi.objectives.n.id":n.n===this.getObjectives().length&&this.initializeObjective(),this.getObjectives()[n.n].id=t;break;case"cmi.objectives.n.score.scaled":this.getObjectives()[n.n].setScoreScaled(t);break;case"cmi.objectives.n.score.raw":this.getObjectives()[n.n].setScoreRaw(t);break;case"cmi.objectives.n.score.max":this.getObjectives()[n.n].setScoreMax(t);break;case"cmi.objectives.n.score.min":this.getObjectives()[n.n].setScoreMin(t);break;case"cmi.objectives.n.success_status":this.getObjectives()[n.n].setSuccessStatus(t);break;case"cmi.objectives.n.completion_status":this.getObjectives()[n.n].setCompletionStatus(t);break;case"cmi.objectives.n.progress_measure":this.getObjectives()[n.n].setProgressMeasure(t);break;case"cmi.objectives.n.description":this.getObjectives()[n.n].setDescription(t);break;case"cmi.progress_measure":this.setProgressMeasure(t);break;case"cmi.score.scaled":this.setScoreScaled(t);break;case"cmi.score.raw":this.score.raw=t;break;case"cmi.score.max":this.score.max=t;break;case"cmi.score.min":this.score.min=t;break;case"cmi.session_time":this.session_time=i.default.normalize(t);break;case"cmi.success_status":this.setSuccessStatus(t);break;case"cmi.suspend_data":this.suspend_data=t;break;case"adl.nav.request":this.nav_request=t}},S.prototype.getValue=function(e,t){switch((t=t||r.default.getParamDetails(e)).paramWOindex){case"cmi._version":return"1.0";case"cmi.comments_from_learner._children":case"cmi.comments_from_lms._children":return"comment,location,timestamp";case"cmi.comments_from_learner._count":return this.getCommentsFromLearner().length;case"cmi.comments_from_learner.n.comment":return this.getCommentsFromLearner()[t.n].comment;case"cmi.comments_from_learner.n.location":return this.getCommentsFromLearner()[t.n].location;case"cmi.comments_from_learner.n.timestamp":return this.getCommentsFromLearner()[t.n].timestamp;case"cmi.comments_from_lms._count":return this.getCommentsFromLMS().length;case"cmi.comments_from_lms.n.comment":return this.getCommentsFromLMS()[t.n].comment;case"cmi.comments_from_lms.n.location":return this.getCommentsFromLMS()[t.n].location;case"cmi.comments_from_lms.n.timestamp":return this.getCommentsFromLMS()[t.n].timestamp;case"cmi.completion_status":return this.getCompletionStatus();case"cmi.completion_threshold":return this.completion_threshold;case"cmi.credit":return this.credit;case"cmi.entry":return this.entry;case"cmi.interactions._children":return"id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description";case"cmi.interactions._count":return this.getInteractions().length;case"cmi.interactions.n.id":return this.getInteractions()[t.n].id;case"cmi.interactions.n.type":return this.getInteractions()[t.n].type;case"cmi.interactions.n.objectives._count":return this.getInteractions()[t.n].objectives.length;case"cmi.interactions.n.objectives.m.id":return this.getInteractions()[t.n].objectives[t.m].id;case"cmi.interactions.n.timestamp":return this.getInteractions()[t.n].timestamp;case"cmi.interactions.n.correct_responses._count":return this.getInteractions()[t.n].correct_responses.length;case"cmi.interactions.n.correct_responses.m.pattern":return this.getInteractions()[t.n].correct_responses[t.m].pattern;case"cmi.interactions.n.weighting":return this.getInteractions()[t.n].weighting;case"cmi.interactions.n.learner_response":return this.getInteractions()[t.n].learner_response;case"cmi.interactions.n.result":return this.getInteractions()[t.n].result;case"cmi.interactions.n.latency":return this.getInteractions()[t.n].latency;case"cmi.interactions.n.description":return this.getInteractions()[t.n].description;case"cmi.launch_data":return this.launch_data;case"cmi.learner_id":return this.learner_id;case"cmi.learner_name":return this.learner_name;case"cmi.learner_preference._children":return"audio_level,language,delivery_speed,audio_captioning";case"cmi.learner_preference.audio_level":return this.getLearnerPreferences().audio_level;case"cmi.learner_preference.language":return this.getLearnerPreferences().language;case"cmi.learner_preference.delivery_speed":return this.getLearnerPreferences().delivery_speed;case"cmi.learner_preference.audio_captioning":return this.getLearnerPreferences().audio_captioning;case"cmi.location":return this.location;case"cmi.max_time_allowed":return this.getMaxTimeAllowed();case"cmi.mode":return this.mode;case"cmi.objectives._children":return"id,score,success_status,completion_status,progress_measure,description";case"cmi.objectives._count":return this.getObjectives().length;case"cmi.objectives.n.id":return this.getObjectives()[t.n].id;case"cmi.objectives.n.score._children":case"cmi.score._children":return"scaled,raw,min,max";case"cmi.objectives.n.score.scaled":return this.getObjectives()[t.n].getScoreScaled();case"cmi.objectives.n.score.raw":return this.getObjectives()[t.n].getScoreRaw();case"cmi.objectives.n.score.min":return this.getObjectives()[t.n].getScoreMin();case"cmi.objectives.n.score.max":return this.getObjectives()[t.n].getScoreMax();case"cmi.objectives.n.success_status":return this.getObjectives()[t.n].getSuccessStatus();case"cmi.objectives.n.completion_status":return this.getObjectives()[t.n].getCompletionStatus();case"cmi.objectives.n.progress_measure":return this.getObjectives()[t.n].getProgressMeasure();case"cmi.objectives.n.description":return this.getObjectives()[t.n].getDescription();case"cmi.progress_measure":return this.progress_measure;case"cmi.scaled_passing_score":return this.scaled_passing_score;case"cmi.score.scaled":return this.score.scaled;case"cmi.score.raw":return this.score.raw;case"cmi.score.max":return this.score.max;case"cmi.score.min":return this.score.min;case"cmi.success_status":return this.getSuccessStatus();case"cmi.suspend_data":return this.suspend_data;case"cmi.time_limit_action":return this.time_limit_action;case"cmi.total_time":return this.total_time;case"adl.nav.request_valid.continue":return o.default.isNavigationValid(a.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE).validity;case"adl.nav.request_valid.previous":return o.default.isNavigationValid(a.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS).validity;case"adl.nav.request_valid.choice":return o.default.isNavigationValid(a.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,t.endsWith).validity;case"adl.nav.request":return this.nav_request}},S.prototype.commit=function(){this.setExit(this.exit)},S.prototype.terminate=function(){var e=0;switch(void 0===this.session_time&&(e=this.session_time_start?(new Date).getTime()-this.session_time_start.getTime()|0:0,this.session_time=i.default.toDuration(e)),this.total_time=i.default.add(this.total_time,this.session_time),this.exit){case a.CONSTANTS.CMI.EXIT.SUSPEND:this.entry=a.CONSTANTS.CMI.ENTRY.RESUME;break;case a.CONSTANTS.CMI.EXIT.TIMEOUT:case a.CONSTANTS.CMI.EXIT.LOGOUT:this.nav_request=a.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL}this.nav_request===a.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL&&(this.entry=a.CONSTANTS.CMI.ENTRY.RESUME)},S.prototype.suspend=function(){this.activity,this.trackingModel;var e=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(this,d);return e.objectives=r.default.filter(e.objectives,(function(e){return e instanceof u.default})),e},S.prototype.resume=function(e){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&("objectives"===t&&(this[t]=T(this.activity,e.objectives)),this[t]=e[t])}},5067:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(5238);function i(e){e?(this.id=e.id,this.score={scaled:e.score.scaled,raw:e.score.raw,min:e.score.min,max:e.score.max},this.success_status=e.success_status,this.completion_status=e.completion_status,this.progress_measure=e.progress_measure,this.description=e.description):(this.id=void 0,this.score={scaled:void 0,raw:void 0,min:void 0,max:void 0},this.success_status=r.CONSTANTS.SCORM.UNKNOWN,this.completion_status=r.CONSTANTS.SCORM.UNKNOWN,this.progress_measure=void 0,this.description=void 0)}i.prototype.setScoreScaled=function(e){this.score.scaled=e},i.prototype.getScoreScaled=function(){return this.score.scaled},i.prototype.setScoreRaw=function(e){this.score.raw=e},i.prototype.getScoreRaw=function(){return this.score.raw},i.prototype.setScoreMax=function(e){this.score.max=e},i.prototype.getScoreMax=function(){return this.score.max},i.prototype.setScoreMin=function(e){this.score.min=e},i.prototype.getScoreMin=function(){return this.score.min},i.prototype.setSuccessStatus=function(e){this.success_status=e},i.prototype.getSuccessStatus=function(){return this.success_status},i.prototype.setCompletionStatus=function(e){this.completion_status=e},i.prototype.getCompletionStatus=function(){return this.completion_status},i.prototype.setProgressMeasure=function(e){this.progress_measure=e},i.prototype.getProgressMeasure=function(){return this.progress_measure},i.prototype.setDescription=function(e){this.description=e},i.prototype.getDescription=function(){return this.description}},3562:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r,i=(r=n(78))&&r.__esModule?r:{default:r},o=n(5238);function s(e,t,n){this.conditions=e||[],this.conditionCombination=t||o.CONSTANTS.CONDITION_COMBINATIONS.ALL,this.ruleAction=n}s.prototype.evaluate=function(){i.default.logger.error("Implement sequencing rule evaluation!!!!")},s.prototype.applyConditionCombination=function(e){var t;if(0===e.length)return o.CONSTANTS.SCORM.UNKNOWN;if(this.conditionCombination===o.CONSTANTS.CONDITION_COMBINATIONS.ALL){t=!0;for(var n=0,r=e.length;n<r;n++){if(e[n]===o.CONSTANTS.SCORM.FALSE)return o.CONSTANTS.SCORM.FALSE;t=e[n]===o.CONSTANTS.SCORM.UNKNOWN||t===o.CONSTANTS.SCORM.UNKNOWN?o.CONSTANTS.SCORM.UNKNOWN:o.CONSTANTS.SCORM.TRUE}}else if(this.conditionCombination===o.CONSTANTS.CONDITION_COMBINATIONS.ANY)for(var i=0,s=e.length;i<s;i++){if(e[i]===o.CONSTANTS.SCORM.TRUE)return o.CONSTANTS.SCORM.TRUE;t=e[i]===o.CONSTANTS.SCORM.UNKNOWN||t===o.CONSTANTS.SCORM.UNKNOWN?o.CONSTANTS.SCORM.UNKNOWN:o.CONSTANTS.SCORM.FALSE}return t}},917:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(5238),i=a(n(2543)),o=a(n(4624)),s=a(n(3735));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n,r;this.definitionModel=e,t?(this.objectiveProgressInformation=d(t.objectiveProgressInformation),this.previousObjectiveProgressInformation=d(t.previousObjectiveProgressInformation),this.activityProgressInformation=(n=t.activityProgressInformation,(r={}).progressStatus=n.progressStatus,r.absoluteDuration=n.absoluteDuration,r.experiencedDuration=n.experiencedDuration,r.attemptCount=n.attemptCount,r),this.attemptProgressInformation=f(t.attemptProgressInformation),this.previousAttemptProgressInformation=f(t.previousAttemptProgressInformation),this.activityStateInformation={active:t.activityStateInformation.active,suspended:t.activityStateInformation.suspended,availableChildren:c(e,t.activityStateInformation.availableChildren)}):(this.objectiveProgressInformation=l(this.definitionModel),this.previousObjectiveProgressInformation=l(this.definitionModel),this.activityProgressInformation={progressStatus:!1,absoluteDuration:0,experiencedDuration:0,attemptCount:0},this.attemptProgressInformation={progressStatus:!1,completionStatus:!1,absoluteDuration:0,experiencedDuration:0,startTime:null},this.previousAttemptProgressInformation=this.attemptProgressInformation,this.activityStateInformation={active:!1,suspended:!1,availableChildren:[]})}function c(e,t){var n,r=[];if(t&&t.length)for(var i=0,o=t.length;i<o;i++){n=t[i];for(var s=0,a=e.children.length;s<a;s++)if(n.getId()===e.children[s].getId()){r.push(e.children[s]);break}}return r}function l(e){for(var t={},n=e.getObjectives(),r=0,i=n.length;r<i;r++)(0===r||n[r].getId())&&(t[n[r].getId()]={objectiveProgressStatus:!1,objectiveSatisfiedStatus:!1,objectiveMeasureStatus:!1,objectiveNormalizedMeasure:0});return t}function d(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=e[i];t[i]={objectiveProgressStatus:o.objectiveProgressStatus,objectiveSatisfiedStatus:o.objectiveSatisfiedStatus,objectiveMeasureStatus:o.objectiveMeasureStatus,objectiveNormalizedMeasure:o.objectiveNormalizedMeasure}}return t}function f(e){var t={};return t.progressStatus=e.progressStatus,t.completionStatus=e.completionStatus,t.absoluteDuration=e.absoluteDuration,t.experiencedDuration=e.experiencedDuration,t.startTime=e.startTime,t}u.prototype.setAvailableChildren=function(e){this.activityStateInformation.availableChildren=e},u.prototype.getAvailableChildren=function(){var e=this.activityStateInformation.availableChildren;return e&&0===e.length&&!this.definitionModel.isLeaf()&&(e=this.definitionModel.getAllChildren(),this.activityStateInformation.availableChildren=e),this.activityStateInformation.availableChildren},u.prototype.getFirstAvailableChild=function(){var e=this.getAvailableChildren();return e.length?e[0]:null},u.prototype.getLastAvailableChild=function(){var e=this.getAvailableChildren();return e.length?e[e.length-1]:null},u.prototype.prepareForNewAttempt=function(e){var t,n;e?(this.previousAttemptProgressInformation={progressStatus:!1,completionStatus:!1,absoluteDuration:0,experiencedDuration:0},this.previousObjectiveProgressInformation=l(this.definitionModel)):(this.previousAttemptProgressInformation=(t=this.attemptProgressInformation,n=this.previousAttemptProgressInformation,{progressStatus:t.progressStatus||n.progressStatus,completionStatus:t.completionStatus||n.completionStatus}),this.previousObjectiveProgressInformation=function(e,t){var n,r,i,o,s={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r=e[n],i=t[n],o={},r.objectiveProgressStatus?(o.objectiveProgressStatus=r.objectiveProgressStatus,o.objectiveSatisfiedStatus=r.objectiveSatisfiedStatus):(o.objectiveProgressStatus=i.objectiveProgressStatus,o.objectiveSatisfiedStatus=i.objectiveSatisfiedStatus),r.objectiveMeasureStatus?(o.objectiveMeasureStatus=r.objectiveMeasureStatus,o.objectiveNormalizedMeasure=r.objectiveNormalizedMeasure):(o.objectiveMeasureStatus=i.objectiveMeasureStatus,o.objectiveNormalizedMeasure=i.objectiveNormalizedMeasure),s[n]=o);return s}(this.objectiveProgressInformation,this.previousObjectiveProgressInformation)),o.default.process(this.definitionModel),s.default.process(this.definitionModel),this.objectiveProgressInformation=l(this.definitionModel),this.attemptProgressInformation={progressStatus:!1,completionStatus:!1,absoluteDuration:0,experiencedDuration:0,startTime:null}},u.prototype.incrementAttemptCount=function(){this.definitionModel.isTracked()&&this.activityProgressInformation.attemptCount++},u.prototype.getAttemptCount=function(){return this.activityProgressInformation.attemptCount},u.prototype.setActive=function(e){this.activityStateInformation.active=e},u.prototype.getActive=function(){return this.activityStateInformation.active},u.prototype.setSuspended=function(e){this.activityStateInformation.suspended=e},u.prototype.getSuspended=function(){return this.activityStateInformation.suspended},u.prototype.setProgressStatus=function(e){this.activityProgressInformation.progressStatus=e},u.prototype.getProgressStatus=function(){return this.activityProgressInformation.progressStatus},u.prototype.setAttemptProgressStatus=function(e){this.definitionModel.isTracked()&&(this.attemptProgressInformation.progressStatus=e)},u.prototype.getAttemptProgressStatus=function(e){var t=this.definitionModel.getParent();return!t||t.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO)?this.attemptProgressInformation.progressStatus?this.attemptProgressInformation.progressStatus:e?this.previousAttemptProgressInformation.progressStatus:this.attemptProgressInformation.progressStatus:this.attemptProgressInformation.progressStatus?this.attemptProgressInformation.progressStatus:this.previousAttemptProgressInformation.progressStatus},u.prototype.setAttemptCompletionStatus=function(e){this.definitionModel.isTracked()&&(this.attemptProgressInformation.completionStatus=e)},u.prototype.getAttemptCompletionStatus=function(e){var t;return this.getAttemptProgressStatus(e)?!(t=this.definitionModel.getParent())||t.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_PROGRESS_INFO)?this.attemptProgressInformation.completionStatus?this.attemptProgressInformation.completionStatus:e?this.previousAttemptProgressInformation.completionStatus:this.attemptProgressInformation.completionStatus:this.attemptProgressInformation.completionStatus?this.attemptProgressInformation.completionStatus:this.previousAttemptProgressInformation.completionStatus:r.CONSTANTS.SCORM.UNKNOWN},u.prototype.setAttemptStartTime=function(){this.attemptProgressInformation.startTime=Math.trunc(performance.now())},u.prototype.setAttemptEndTime=function(){this.attemptProgressInformation.startTime&&(this.attemptProgressInformation.experiencedDuration+=Math.trunc(performance.now())-this.attemptProgressInformation.startTime,this.attemptProgressInformation.startTime=null)},u.prototype.getAttemptExperiencedDuration=function(){var e=this.attemptProgressInformation.startTime;return e&&this.definitionModel.isTracked()?this.attemptProgressInformation.experiencedDuration+(Math.trunc(performance.now())-e):this.attemptProgressInformation.experiencedDuration},u.prototype.getObjectiveProgressStatus=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveProgressStatus?this.objectiveProgressInformation[e].objectiveProgressStatus:t?this.previousObjectiveProgressInformation[e].objectiveProgressStatus:this.objectiveProgressInformation[e].objectiveProgressStatus:this.objectiveProgressInformation[e].objectiveProgressStatus?this.objectiveProgressInformation[e].objectiveProgressStatus:this.previousObjectiveProgressInformation[e].objectiveProgressStatus:r.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveProgressStatus=function(e,t){this.objectiveProgressInformation[e].objectiveProgressStatus=t},u.prototype.getObjectiveSatisfiedStatus=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveSatisfiedStatus?this.objectiveProgressInformation[e].objectiveSatisfiedStatus:t?this.previousObjectiveProgressInformation[e].objectiveSatisfiedStatus:this.objectiveProgressInformation[e].objectiveSatisfiedStatus:this.objectiveProgressInformation[e].objectiveSatisfiedStatus?this.objectiveProgressInformation[e].objectiveSatisfiedStatus:this.previousObjectiveProgressInformation[e].objectiveSatisfiedStatus:r.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveSatisfiedStatus=function(e,t){this.objectiveProgressInformation[e].objectiveSatisfiedStatus=t},u.prototype.getObjectiveMeasureStatus=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveMeasureStatus?this.objectiveProgressInformation[e].objectiveMeasureStatus:t?this.previousObjectiveProgressInformation[e].objectiveMeasureStatus:this.objectiveProgressInformation[e].objectiveMeasureStatus:this.objectiveProgressInformation[e].objectiveMeasureStatus?this.objectiveProgressInformation[e].objectiveMeasureStatus:this.previousObjectiveProgressInformation[e].objectiveMeasureStatus:r.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveMeasureStatus=function(e,t){this.objectiveProgressInformation[e].objectiveMeasureStatus=t},u.prototype.getObjectiveNormalizedMeasure=function(e,t){var n=this.definitionModel.getParent();return this.objectiveProgressInformation?!n||n.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.USE_CURRENT_ATT_OBJ_PROGRESS_INFO)?this.objectiveProgressInformation[e].objectiveNormalizedMeasure?this.objectiveProgressInformation[e].objectiveNormalizedMeasure:t?this.previousObjectiveProgressInformation[e].objectiveNormalizedMeasure:this.objectiveProgressInformation[e].objectiveNormalizedMeasure:this.objectiveProgressInformation[e].objectiveNormalizedMeasure?this.objectiveProgressInformation[e].objectiveNormalizedMeasure:this.previousObjectiveProgressInformation[e].objectiveNormalizedMeasure:r.CONSTANTS.SCORM.UNKNOWN},u.prototype.setObjectiveNormalizedMeasure=function(e,t){this.objectiveProgressInformation[e].objectiveNormalizedMeasure=t},u.prototype.suspend=function(){var e,t={objectiveProgressInformation:this.objectiveProgressInformation,activityProgressInformation:this.activityProgressInformation,attemptProgressInformation:this.attemptProgressInformation,activityStateInformation:{active:this.activityStateInformation.active,suspended:this.activityStateInformation.suspended,availableChildren:[]}};if(this.activityStateInformation.availableChildren)for(var n=0,r=this.activityStateInformation.availableChildren.length;n<r;n++)e=this.activityStateInformation.availableChildren[n],t.activityStateInformation.availableChildren.push(e.getId());return t},u.prototype.resume=function(e){var t,n,r;if(this.objectiveProgressInformation=e.objectiveProgressInformation,this.activityProgressInformation=e.activityProgressInformation,this.attemptProgressInformation=e.attemptProgressInformation,this.activityStateInformation.active=e.activityStateInformation.active,this.activityStateInformation.suspended=e.activityStateInformation.suspended,e.activityStateInformation.availableChildren)for(this.activityStateInformation.availableChildren=[],t=0,n=e.activityStateInformation.availableChildren.length;t<n;t++)r=e.activityStateInformation.availableChildren[t],this.activityStateInformation.availableChildren.push(i.default.getActivityById(r))}},8348:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(8029),n(590),n(2557);var r=p(n(78)),i=p(n(9125)),o=n(5238),s=p(n(2490)),a=p(n(2515)),u=p(n(4557)),c=p(n(2543)),l=p(n(8660)),d=p(n(1556)),f=p(n(8895)),S=p(n(6487)),T=n(4016),N=p(n(8499));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if(!e)return null;var t=e.getPrimaryObjective();return{guid:e.guid||"",id:e.getId(),title:e.getTitle(),publishIndex:e.getPublishIndex(),normalizedMeasure:t.getMeasureStatus()?t.getNormalizedMeasure():void 0,minimumMeasure:t.getMinimumSatisfiedNormalizedMeasure(),weight:e.getRollupObjectiveMeasureWeight(),attempts:e.getAttemptCount(),href:e.href||"",parent:e.getParent()?e.getParent().getId():null,completion:e.getCompletion(),completionForUI:e.getCompletion(),satisfied:e.getSatisfiedStatus(),satisfiedForUI:I(e),duration:e.getAttemptExperiencedDuration(),isLeaf:e.isLeaf(),availableChildren:e.getAvailableChildren().map((function(e){return e.getId()})),children:e.getAllChildren().map((function(e){return e.getId()})),attemptProgressStatus:e.getAttemptProgressStatus(!1),progress:e.getProgressStatus(),reorderChildren:e.getReorderChildren()}}function O(e){for(var t=c.default.getAvailableActivitiesList(),n=0,r=t.length;n<r;n++)if(t[n].getId()===e)return n}function v(e){var t=e.getAvailableChildren();e.setActive(!1),e.setSuspended(!1),e.prepareForNewAttempt(!0,!1),e.setProgressStatus(!1),e.incrementAttemptCount(),e.setSuspended(!0);for(var n=0;n<t.length;n++)v(t[n])}function A(e){var t=e.getParent();if(t){t.setActive(!1),e.setSuspended(!1);var n=t.trackingModel.attemptProgressInformation.startTime;t.prepareForNewAttempt(!0,!1),t.trackingModel.attemptProgressInformation.startTime=n,e.setSuspended(!0),A(t)}}function m(e,t,n){for(var r=e.getAvailableChildren(),i=0;i<r.length;i++){var o=r[i];if(n||M(t,o)){if(!P(o)){var s=D(o);s&&R(s.id),o.setActive(!1),o.setSuspended(!1),o.prepareForNewAttempt(!0,!1),o.setSuspended(!0),o.setProgressStatus(!1),o.incrementAttemptCount(),o!==t&&C(o),o.isLeaf()||m(o,t,!0)}}else m(o,t,!1)}}function C(e){if(e.getAttemptCount()>0){for(var t=e.getObjectives(),n=0;n<t.length;n++){var r=t[n];r.setSatisfiedStatus(!1),r.setNormalizedMeasure(0),r.setMeasureStatus(!1),r.setProgressStatus(!1)}L(e)}}function E(e,t){var n=!1,r=e.getParent();if(h(e.getId()))return E(r);if(r&&!r.isSequencingControlMode(o.CONSTANTS.SEQUENCING_MODES.FLOW)&&!r.isSequencingControlMode(o.CONSTANTS.SEQUENCING_MODES.CHOICE))return!0;for(;e;){if(null==t&&(t=i.default.isAvailableInTheTree(e)),t.enabled&&t.visible&&!n)return!1;if(null!=N.default.process(e,o.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,o.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.DISABLED))return!0;if((null!=N.default.process(e,o.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,o.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)||e.getParent()&&!e.getParent().isSequencingControlMode(o.CONSTANTS.SEQUENCING_MODES.FLOW))&&(n=!0),!t.visible&&n)return!0;e=e.getParent()}return!1}function I(e){var t=e.getCompletion(),n=e.getObjectives().find((function(e){return/^SubmitAll$/.test(e.getId())})),r=e.getSatisfiedStatus(),i=e.getObjectives().find((function(e){return/^NoFeedback$/.test(e.getId())})),s=r===o.CONSTANTS.SCORM.UNKNOWN||i||e.isLeaf()&&n&&!b(e.id);return(!0===t&&s||!1===t&&!e.isActive()&&s)&&(r=o.CONSTANTS.SCORM.UNKNOWN),r}function h(e){return _(e).some((function(e){return/^EnhancedScorecard$/.test(e.id)}))}function _(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity();return t?t.getObjectives().map((function(e){return{id:e.getId(),hasGlobalObjectives:e.hasGlobalObjectives(),globalObjectiveId:e.hasGlobalObjectives()?e.maps[0].targetObjectiveID:void 0}})):[]}function b(e){var t=(e?c.default.getActivityById(e):u.default.getCurrentActivity()).getObjectives().find((function(e){return/^Submit/.test(e.getId())}));return!!t&&t.getSatisfiedStatus()===o.CONSTANTS.SCORM.TRUE}function R(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity();if(b(e)){var n=t.getObjectives().find((function(e){return/^Submit/.test(e.getId())}));if(n){n.setSatisfiedStatus(o.CONSTANTS.SCORM.FALSE),L(t),n.setProgressStatus(o.CONSTANTS.SCORM.FALSE);var r=_(t.id).filter((function(e){return e.id===n.getId()}))[0];r&&r.hasGlobalObjectives&&u.default.getGlobalObjective(r.globalObjectiveId).setProgressStatus(o.CONSTANTS.SCORM.FALSE)}}}function y(e,t){e.setActive(o.CONSTANTS.SCORM.FALSE),e.setAttemptCompletionStatus(o.CONSTANTS.SCORM.TRUE),e.setAttemptProgressStatus(o.CONSTANTS.SCORM.TRUE),e.setProgressStatus(o.CONSTANTS.SCORM.TRUE),e.setSuspended(o.CONSTANTS.SCORM.TRUE);var n=e.getPrimaryObjective();n.getProgressStatus()||n.getSatisfiedByMeasure()||e.getObjectives().some((function(e){return/^q-/.test(e.getId())}))||(n.setProgressStatus(o.CONSTANTS.SCORM.TRUE),n.setSatisfiedStatus(o.CONSTANTS.SCORM.TRUE)),t&&!e.isLeaf()&&e.getAllChildren().forEach((function(e){y(e,t)})),e.setAttemptEndTime()}function L(e){if(e)if(e.isLeaf())d.default.process(e);else{var t=e.getAllChildren().filter((function(e){return!e.isLeaf()}));t.length>0?t.forEach((function(e){L(e)})):d.default.process(e)}}function M(e,t){for(var n,r,i,o,s=e.getObjectives(),a=t.getObjectives(),u=0,c=a.length;u<c;u++)if((o=a[u].maps).length)for(var l=0,d=o.length;l<d;l++)if(i=o[l].targetObjectiveID)for(var f=0,S=s.length;f<S;f++)if((r=s[f].maps).length)for(var T=0,N=r.length;T<N;T++)if((n=r[T].targetObjectiveID)&&n===i)return!0;return!1}function D(e){for(var t,n,r=e.getAllChildren(),i=0,o=r.length;i<o;i++)if(h((t=r[i]).getId())){n=t;break}return n}function P(e){var t,n,r,i;if(D(e)){var o=function(e){for(var t,r,i=e.getAllChildren(),s=0,a=i.length;s<a;s++)if((t=i[s]).isLeaf()){if((n=(n=t.getObjectives()).filter((function(e){return/^q-/.test(e.getId())}))).length>0)return t}else if(r=o(t))return r;return r};if(t=o(e)){if((n=t.getObjectives())&&n.length)for(var s=1;s<n.length;s++)if(r=n[s].getId(),/Retake/.test(r)||/Resume/.test(r)||/Review/.test(r)){i=parseInt(r.match(/^.*-(.*)/)[1]);break}return e.getAttemptCount()>i}}return!1}t.default={start:function(e){var t;return r.default.logger.debug("Initializing Player..."),function(e){u.default.init(e.bookmark),c.default.init(e),e.bookmark||c.default.getRoot().prepareForNewAttempt(!0,!0),void 0===e.isCompressed&&(e.isCompressed=!0),s.default.resume(e.suspendData,e.isCompressed)}(e),t=e.bookmark?l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.RESUME_ALL):l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.START),i.default.evaluateRequestOptions(),r.default.logger.debug("Player initialized."),t},resumeAll:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.RESUME_ALL);return i.default.evaluateRequestOptions(),e},suspendAll:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL);return s.default.suspend(),e},next:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE);return i.default.evaluateRequestOptions(),e},previous:function(){var e=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS);return i.default.evaluateRequestOptions(),e},choice:function(e){var t=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.CHOICE,e);return i.default.evaluateRequestOptions(),t},exit:function(){var e=u.default.getCurrentActivity().runTimeData.exit===o.CONSTANTS.CMI.EXIT.SUSPEND,t=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.EXIT);return e?s.default.suspend():s.default.cleanState(),t},exitAll:function(){var e=u.default.getCurrentActivity().runTimeData.exit===o.CONSTANTS.CMI.EXIT.SUSPEND,t=l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL);return e?s.default.suspend():s.default.cleanState(),t},abandon:function(){return l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.ABANDON)},abandonAll:function(){return l.default.process(o.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL)},retake:function(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity().getParent();return R(),v(t),A(t),this.choice(t.getId()),!0},resetChoiceBranch:function(){var e=u.default.getCurrentActivity(),t=c.default.getRoot();return function(){var e=u.default.getCurrentActivity(),t=e.getObjectives().filter((function(e){return/^Branch/.test(e.getId())}));if(t){for(var n=0;n<t.length;n++)t[n].setSatisfiedStatus(o.CONSTANTS.SCORM.FALSE);L(e);for(var r=0;r<t.length;r++){var i=t[r];i.setProgressStatus(o.CONSTANTS.SCORM.FALSE),i.hasGlobalObjectives()&&u.default.getGlobalObjective(i.maps[0].targetObjectiveID).setProgressStatus(o.CONSTANTS.SCORM.FALSE)}}}(),A(e),m(t,e,!1),this.choice(e.getId()),!0},getNextPage:function(){return i.default.getActivityToLoad(o.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE)},getPreviousPage:function(){return i.default.getActivityToLoad(o.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS)},getFollowingPageId:function(){var e,t=c.default.getAvailableActivitiesList(),n=O(u.default.getCurrentActivity().getId());do{e=t[++n]}while(e&&!e.isLeaf());return e?e.getId():null},getPrecedingPageId:function(){var e,t=c.default.getAvailableActivitiesList(),n=O(u.default.getCurrentActivity().getId());do{e=t[--n]}while(e&&!e.isLeaf());return e?e.getId():null},getActivityById:function(e){return g(c.default.getActivityById(e))},getActivityBy:function(e,t){return"guid"===e?g(c.default.getActivityByGuid(t)):(r.default.logger.error("Only 'guid' parameter is supported by getActivityBy, but '".concat(e,"' was requested")),null)},getCurrentActivity:function(){return g(u.default.getCurrentActivity())},getParentActivity:function(e){var t=c.default.getActivityById(e);return t||(t=u.default.getCurrentActivity()),g(t.parent)},getRootActivity:function(){return g(c.default.getRoot())},getAllActivitiesList:function(){return c.default.getAllActivitiesList()},isButtonHidden:function(e){var t=u.default.getCurrentActivity();return!t||t.isButtonHidden(e)},isNavigationValid:function(e,t){return i.default.isNavigationValid(e,t)},getMenuItems:function(e){for(var t,n,r,o=e?c.default.getAllActivitiesList():c.default.getAvailableActivitiesList(),s=u.default.getCurrentActivity(),a=[],l={},d=0,f=o.length;d<f;d++){n=(t=o[d]).getParent(),r=s?i.default.isAvailableInTheTree(t):{enabled:!0,visible:!0};var S=t.getProgressStatus(),T=t.getCompletion(),N=I(t),p=t.getResourceUrl()||"";a.push({id:t.getId(),title:t.getTitle(),isLeaf:t.isLeaf(),active:t.isActive(),enabled:r.enabled,satisfied:N,completed:T,progress:S,visible:r.visible,href:p.replace(/\.html.*$/,".html"),parent:n?n.getId():"",inaccessible:E(t,r)}),r.visible||(l[t.getId()]=t)}return a.forEach((function(e){var t=!0,n=c.default.getActivityById(e.id);e.isLeaf||(n.getAvailableChildren().forEach((function(e){Object.prototype.hasOwnProperty.call(l,e.id)||(t=!1)})),e.allChildrenHidden=t)})),a},getTreeMenuItems:function(e){var t=[],n=c.default.getRoot(),r=u.default.getCurrentActivity(),o=e?n.getAllChildren():n.getAvailableChildren();function s(e,t,n){for(var o=n?e.getAllChildren():e.getAvailableChildren(),a=r?i.default.isAvailableInTheTree(e):{enabled:!0,visible:!0},u=e.getParent(),c=e.getProgressStatus(),l=e.getCompletion(),d=I(e),f=e.getResourceUrl()||"",S={id:e.getId(),title:e.getTitle(),isLeaf:e.isLeaf(),active:e.isActive(),enabled:a.enabled,satisfied:d,completed:l,progress:c,visible:a.visible,href:f.replace(/\.html.*$/,".html"),parent:u?u.getId():"",inaccessible:E(e,a),childElements:[]},T=0,N=o.length;T<N;T++)s(o[T],S.childElements,n);S.allChildrenHidden=0===S.childElements.filter((function(e){return e.visible})).length,t.push(S)}for(var a=0,l=o.length;a<l;a++)s(o[a],t,e);return t},isCourseCompleted:function(){return L(u.default.getCurrentActivity()),c.default.getRoot().getCompletion()===o.CONSTANTS.SCORM.TRUE},getObjectives:_,findCommonAncestorId:function(e,t){var n=c.default.getActivityById(e),r=c.default.getActivityById(t),i=n.findCommonAncestor(r);return i?i.id:void 0},getInteractions:function(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity();return t?t.runTimeData.getInteractions().map((function(e){return{id:e.id,description:e.description,result:e.result,response:e.learner_response}})):[]},isScorecard:h,hasQuestions:function(e){return(e?c.default.getActivityById(e):u.default.getCurrentActivity()).hasQuestions()},submitAssessment:function(e){var t=e?c.default.getActivityById(e):u.default.getCurrentActivity(),n=t.getParent(),r=n.getAllChildren(),i=t.getObjectives().find((function(e){return/^Submit/.test(e.getId())}));if(i){i.setSatisfiedStatus(o.CONSTANTS.SCORM.TRUE);for(var s=0,a=r.length;s<a;s++)y(r[s],!0),L(r[s])}y(n,!1),t.getPrimaryObjective().setProgressStatus(o.CONSTANTS.SCORM.TRUE),t.getPrimaryObjective().setSatisfiedStatus(o.CONSTANTS.SCORM.TRUE)},setActivityAsCompleted:function(e){y(e?c.default.getActivityById(e):u.default.getCurrentActivity(),!1)},isAssessmentSubmitted:b,getProctorControlParam:function(){for(var e=u.default.getCurrentActivity().getParameters().split("&"),t=0;t<e.length;t++)if(e[t].startsWith("proctor")){var n=e[t].split("=");if(2===n.length)return n[1]}},formatDuration:function(e){return S.default.toDuration(e)},storeAdditionalData:function(e){s.default.setAdditionalData(e)},retrieveAdditionalData:function(){return s.default.getAdditionalData()||""},getSuspendData:function(){return s.default.suspend()},saveCourseData:function(e){a.default.setCourseStateData(e.suspendData),a.default.setBookmark(e.bookmark)},retrieveBookmark:function(e){return t=e=f.default.getMode()===o.CONSTANTS.MODE.DEBUG_LOCAL?a.default.getBookmark():e,{bookmark:(n=t.split("_type_"))[0]?n[0]:"",bookmarkType:n[1]?n[1]:""};var t,n},getActivityRunTimeData:function(e){return c.default.getActivityById(e).runTimeData},API_1484_11:T.API_1484_11}},4876:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(78)),i=n(5238),o=s(n(8146));function s(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e,t){var n,s=e.getAvailableChildren(),a=!0,u=!0,c=!1;if(t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED){if(r.default.logger.trace("Activity Progress Rollup Default Process (completed action) start..."),s.length){for(var l=0,d=s.length;l<d;l++)if(n=s[l],o.default.process(n,i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED)&&(c=!0,n.getCompletion(!1)!==i.CONSTANTS.SCORM.TRUE)){a=!1;break}c&&a&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!0))}r.default.logger.trace("Activity Progress Rollup Default Process (completed action) end.")}if(t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE){if(r.default.logger.trace("Activity Progress Rollup Default Process (incomplete action) start..."),s.length){for(var f=0,S=s.length;f<S;f++)if(n=s[f],o.default.process(n,i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE)&&(c=!0,!n.isAttempted())){u=!1;break}c&&u&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!1))}r.default.logger.trace("Activity Progress Rollup Default Process (incomplete action) end.")}}}},8002:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(4876)),o=s(n(1162));function s(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){var t=!1,n=!1,s=e.getRollupRules(r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE).length>0,a=e.getRollupRules(r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED).length>0;s&&o.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE)&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!1),t=!0),a&&o.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED)&&(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!0),n=!0),s||n||i.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE),a||t||i.default.process(e,r.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED)}}},9212:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(8499)),o=s(n(9843));function s(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){return null!==i.default.process(e,r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,r.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.DISABLED)||!!o.default.process(e)}}},8146:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(78)),i=n(5238),o=s(n(8499));function s(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e,t){r.default.logger.trace("Check Child For Rollup Subprocess start...");var n=!1;return t!==i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&t!==i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED||e.getRollupObjectiveSatisfied()&&(n=!0,t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&e.getRequiredForSatisfied()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED||t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED&&e.getRequiredForNotSatisfied()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED?(!1===e.getProgressStatus()||e.getAttemptCount()&&e.isSuspended())&&(n=!1):t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&e.getRequiredForSatisfied()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED||t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED&&e.getRequiredForNotSatisfied()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED?!1!==e.getProgressStatus()&&0!==e.getAttemptCount()||(n=!1):(t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED&&e.getRequiredForSatisfied()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED||t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED&&e.getRequiredForNotSatisfied()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED)&&null!==o.default.process(e,i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,i.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)&&(n=!1)),t!==i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&t!==i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE||e.getRollupProgressCompletion()&&(n=!0,t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&e.getRequiredForCompleted()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED||t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE&&e.getRequiredForIncomplete()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SUSPENDED?(!1===e.getProgressStatus()||e.getAttemptCount()&&e.isSuspended())&&(n=!1):t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&e.getRequiredForCompleted()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED||t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE&&e.getRequiredForIncomplete()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_ATTEMPTED?!1!==e.getProgressStatus()&&0!==e.getAttemptCount()||(n=!1):(t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.COMPLETED&&e.getRequiredForCompleted()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED||t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.INCOMPLETE&&e.getRequiredForIncomplete()===i.CONSTANTS.ROLLUP_CONSIDERATION_CONDITIONS.IF_NOT_SKIPPED)&&null!==o.default.process(e,i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,i.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)&&(n=!1)),r.default.logger.trace("Check Child For Rollup Subprocess end."),n}}},8402:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(5238),o=(r=n(8499))&&r.__esModule?r:{default:r};function s(e,t){this.reachable=e,this.exception=t}t.default={process:function(e,t){var n;return t===i.CONSTANTS.DIRECTIONS.FORWARD?o.default.process(e,i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,i.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.STOP_FORWARD_TRAVERSAL)?new s(!1,"SB.2.4-1"):new s(!0,null):t===i.CONSTANTS.DIRECTIONS.BACKWARD?(n=e.getParent())?n.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY)?new s(!1,"SB.2.4-2"):new s(!0,null):new s(!1,"SB.2.4-3"):void 0}}},880:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(6814))&&r.__esModule?r:{default:r};t.default={process:function(e,t){var n=i.default.process(e,t);return null===n?e:n}}},6814:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(5238),o=(r=n(2543))&&r.__esModule?r:{default:r};t.default={process:function e(t,n){var r,s,a=o.default.getRoot(),u=o.default.getLastAvailableActivity();if(n===i.CONSTANTS.DIRECTIONS.FORWARD)return t===u||t===a?null:null===(r=o.default.getNextAvailableSibling(t))?e(t.getParent(),i.CONSTANTS.DIRECTIONS.FORWARD):r;if(n===i.CONSTANTS.DIRECTIONS.BACKWARD)return t===a?null:null===(s=o.default.getPreviousAvailableSibling(t))?e(t.getParent(),i.CONSTANTS.DIRECTIONS.BACKWARD):s;throw new Error("ChoiceFlowTreeTraversalSubprocess: wrong travelsal direction")}}},9876:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=T(n(78)),i=n(5238),o=T(n(4557)),s=T(n(3697)),a=T(n(8499)),u=T(n(8402)),c=T(n(2326)),l=T(n(880)),d=T(n(3268)),f=T(n(2543)),S=T(n(9125));function T(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(e){var t,n,T,p,g,O,v,A,m=f.default.getActivityById(e),C=f.default.getRoot(),E=o.default.getCurrentActivity();if(!m)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-1");for(var I=0,h=(t=m.getPath(!0,null)).length;I<h;I++){if((T=t[I])!==C&&!r.default.contains(T.getParent().getAvailableChildren(),T))return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-2");if(v=a.default.process(T,i.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,i.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.HIDDEN_FROM_CHOICE))return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-3")}if(m!==C&&!m.getParent().isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.CHOICE))return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-4");if(O=E?E.findCommonAncestor(m):C,E===m);else if(E&&E.isSiblingTo(m)){if(!(n=E.getActivitiesBetween(m,!0,!1)).length)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");A=m.isForwardTo(E)?i.CONSTANTS.DIRECTIONS.FORWARD:A=i.CONSTANTS.DIRECTIONS.BACKWARD;for(var _=0,b=n.length;_<b;_++)if(T=n[_],!(v=u.default.process(T,A)).reachable)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,v.exception)}else if(E&&E!==O)if(m===O){if(!(t=E.getPath(!1,O.getParent())).length)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");for(var R=0,y=t.length;R<y;R++)if((T=t[R])!==t[t.length]&&!T.isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT))return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-7")}else{if(!(t=E.getPath(!1,O)).length)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");p=void 0;for(var L=0,M=t.length;L<M;L++){if(!(T=t[L]).isSequencingControlMode(i.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT))return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-7");void 0===p&&!T.isLeaf()&&T.getConstrainChoice()&&(p=T)}if(void 0!==p&&(A=m.isForwardTo(p)?i.CONSTANTS.DIRECTIONS.FORWARD:i.CONSTANTS.DIRECTIONS.BACKWARD,g=l.default.process(p,A),!m.isDescendantOf(g)&&m!==g&&m!==p))return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-8");if(!(t=m.getPath(!0,m,O)).length)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");if(m.isForwardTo(E))for(var D=0,P=t.length;D<P;D++){if(T=t[D],D<t.length-1&&!(v=u.default.process(T,i.CONSTANTS.DIRECTIONS.FORWARD)).reachable)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,v.exception);if(!T.isActive()&&T!==O&&T.getPreventActivation())return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-6")}else for(var w=0,U=t.length;w<U;w++)if(!(T=t[w]).isActive()&&T!==O&&T.getPreventActivation())return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-6")}else{if(!(t=m.getPath(!0,m,O)).length)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-5");for(var j=0,x=t.length;j<x;j++){if(T=t[j],!(v=u.default.process(T,i.CONSTANTS.DIRECTIONS.FORWARD)).reachable)return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,v.exception);if(!T.isActive()&&T!==O&&T.getPreventActivation())return new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-6")}}return m.isLeaf()?new N(i.CONSTANTS.VALIDITY.VALID,m,!1,null):(v=d.default.process(m,i.CONSTANTS.DIRECTIONS.FORWARD,!0)).deliverable?new N(i.CONSTANTS.VALIDITY.VALID,v.activity,!1,null):(S.default.isEvaluationRequest()||(c.default.process(O),s.default.process(O),o.default.setCurrentActivity(m)),new N(i.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.9-9"))}}},4883:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(4557)),i=o(n(78));function o(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){var t,n,o,s,a,u=r.default.getSuspendedActivity();if(i.default.logger.trace("Clear Suspended Activity Subprocess start..."),void 0!==u){for(t=e.findCommonAncestor(u);u!==t;){if(u.isLeaf())u.setSuspended(!1);else{for(a=!1,o=0,s=(n=u.getAvailableChildren()).length;o<s;o++)if(n[o].isSuspended()){a=!0;break}a||u.setSuspended(!0)}u=u.getParent()}r.default.setSuspendedActivity(void 0)}i.default.logger.trace("Clear Suspended Activity Subprocess end.")}}},2114:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(78)),i=n(5238),o=c(n(4016)),s=c(n(4557)),a=c(n(2326)),u=c(n(4883));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){this.validity=e,this.exception=t}t.default={process:function(e){var t=s.default.getCurrentActivity();if(void 0!==t&&t.isActive())return new l(i.CONSTANTS.VALIDITY.NOT_VALID,"DB.2-1");e!==s.default.getSuspendedActivity()&&u.default.process(e),a.default.process(e);for(var n=e.getPath(!0,null),c=0,d=n.length;c<d;c++){var f=n[c];f.isActive()||(f.isTracked()&&(f.isSuspended()?(f.setSuspended(!1),f.setProgressStatus(!0)):(f.incrementAttemptCount(),1===f.getAttemptCount()?f.setProgressStatus(!0):f.prepareForNewAttempt(!1,!1)),f.setAttemptStartTime()),f.setActive(!0))}return s.default.setCurrentActivity(e),s.default.setSuspendedActivity(void 0),e.isTracked()||r.default.logger.warn("The Objective and Attempt Progress information for the activity should not be recorded during delivery 8.1.2. The delivery environment begins tracking the Attempt Absolute duration and the Attempt Experienced Duration"),o.default.initializeApi(),new l(i.CONSTANTS.VALIDITY.VALID,null)}}},1866:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=a(n(4557)),o=a(n(2543)),s=a(n(3268));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(){var e=i.default.getCurrentActivity();if(void 0===e)return new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.7-1");if(e!==o.default.getRoot()&&!e.getParent().isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FLOW))return new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.7-2");var t=s.default.process(e,r.CONSTANTS.DIRECTIONS.FORWARD,!1);return t.deliverable?new u(r.CONSTANTS.VALIDITY.VALID,t.activity,!1,null):new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,t.endSession,t.exception)}}},7005:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(5238),o=(r=n(9212))&&r.__esModule?r:{default:r};function s(e,t){this.validity=e,this.exception=t}t.default={process:function(e){if(!e.isLeaf())return new s(i.CONSTANTS.VALIDITY.NOT_VALID,"DB.1.1-1");var t=e.getPath(!1,null);if(!t.length)return new s(i.CONSTANTS.VALIDITY.NOT_VALID,"DB.1.1-2");for(;t.length;){var n=t.pop();if(o.default.process(n))return new s(i.CONSTANTS.VALIDITY.NOT_VALID,"DB.1.1-3")}return new s(i.CONSTANTS.VALIDITY.VALID,null)}}},3697:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(78)),i=o(n(1556));function o(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){var t,n,o;if(r.default.logger.trace("End Attempt Process start..."),e.isLeaf())e.isTracked()&&(e.isSuspended()||(e.isCompletionSetByContent()||e.getAttemptProgressStatus(!1)||(e.setAttemptProgressStatus(!0),e.setAttemptCompletionStatus(!0)),e.isObjectiveSetByContent()||(t=e.getPrimaryObjective()).getProgressStatus(!1)||t.getSatisfiedByMeasure()||(t.setProgressStatus(!0),t.setSatisfiedStatus(!0))));else{o=!1;for(var s=0,a=(n=e.getAvailableChildren()).length;s<a;s++)if(n[s].isSuspended()){o=!0;break}e.setSuspended(o)}e.setAttemptEndTime(),e.setActive(!1),i.default.process(e),r.default.logger.trace("End Attempt Process end.")}}},1395:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(78))&&r.__esModule?r:{default:r},o=n(5238);t.default={process:function(e,t){i.default.logger.trace("Evaluate Rollup Conditions Subprocess start...");for(var n,r,s=t.rollupConditions,a=[],u=0,c=s.length;u<c;u++)r=(n=s[u]).evaluate(e),n.operator===o.CONSTANTS.OPERATORS.NOT&&(r=n.negate(r)),a.push(r);return a.length?(r=t.applyConditionCombination(a),i.default.logger.trace("Evaluate Rollup Conditions Subprocess end."),r):o.CONSTANTS.UNKNOWN}}},4825:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(4557)),o=s(n(2543));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(){var e=i.default.getCurrentActivity(),t=o.default.getRoot();return e?e.isActive()?new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.11-2"):new a(r.CONSTANTS.VALIDITY.VALID,null,e===t,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.11-1")}}},1594:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=a(n(9212)),o=a(n(8499)),s=a(n(354));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){this.deliverable=e,this.activity=t,this.endSession=n,this.exception=r}t.default={process:function e(t,n,a){var c;return t.getParent().isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FLOW)?null!==o.default.process(t,r.CONSTANTS.SEQUENCING_RULES.PRE_CONDITION,r.CONSTANTS.PRE_CONDITION_RULES_ACTIONS.SKIP)?null===(c=s.default.process(t,n,!1,a)).activity?new u(!1,t,c.endSession,c.exception):n===r.CONSTANTS.DIRECTIONS.BACKWARD&&c.direction===r.CONSTANTS.DIRECTIONS.BACKWARD?e(c.activity,n,r.CONSTANTS.DIRECTIONS.UNDEFINED):e(c.activity,c.direction,a):i.default.process(t)?new u(!1,t,!1,"SB.2.2-2"):t.isLeaf()?new u(!0,t,!1,null):null===(c=s.default.process(t,n,!0,r.CONSTANTS.DIRECTIONS.UNDEFINED)).activity?new u(!1,t,c.endSession,c.exception):n===r.CONSTANTS.DIRECTIONS.BACKWARD&&c.direction===r.CONSTANTS.DIRECTIONS.FORWARD?e(c.activity,r.CONSTANTS.DIRECTIONS.FORWARD,r.CONSTANTS.DIRECTIONS.BACKWARD):e(c.activity,n,r.CONSTANTS.DIRECTIONS.UNDEFINED):new u(!1,t,!1,"SB.2.2-1")}}},3268:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(1594)),o=s(n(354));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){this.activity=e,this.deliverable=t,this.endSession=n,this.exception=r}t.default={process:function(e,t,n){var s=e,u=o.default.process(s,t,n,r.CONSTANTS.DIRECTIONS.UNDEFINED);if(null===u.activity)return new a(s,!1,u.endSession,u.exception);s=u.activity;var c=i.default.process(s,t,r.CONSTANTS.DIRECTIONS.UNDEFINED);return new a(c.activity,c.deliverable,c.endSession,c.exception)}}},354:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(2543)),o=s(n(2326));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){this.activity=e,this.direction=t,this.endSession=n,this.exception=r}t.default={process:function e(t,n,s,u){var c=!1,l=t.getParent(),d=i.default.getRoot();if(u===r.CONSTANTS.DIRECTIONS.BACKWARD&&l.getLastAvailableChild()===t&&(n=r.CONSTANTS.DIRECTIONS.BACKWARD,t=l.getFirstAvailableChild(),c=!0),n===r.CONSTANTS.DIRECTIONS.FORWARD){if(t===i.default.getLastAvailableActivity()||t===d&&!s)return o.default.process(d),new a(null,null,!0,null);if(t.isLeaf()||!s){var f=i.default.getNextAvailableSibling(t);return null===f?e(l,r.CONSTANTS.DIRECTIONS.FORWARD,!1,r.CONSTANTS.DIRECTIONS.UNDEFINED):new a(f,n,!1,null)}return t.getAvailableChildren().length?new a(t.getFirstAvailableChild(),n,!1,null):new a(null,null,!1,"SB.2.1-2")}if(n===r.CONSTANTS.DIRECTIONS.BACKWARD){if(t===d)return new a(null,null,!1,"SB.2.1-3");if(t.isLeaf()||!s){if(!c&&l.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY))return new a(null,null,!1,"SB.2.1-4");var S=i.default.getPreviousAvailableSibling(t);return null===S?e(l,r.CONSTANTS.DIRECTIONS.BACKWARD,!1,r.CONSTANTS.DIRECTIONS.UNDEFINED):new a(S,n,!1,null)}return t.getAvailableChildren().length?t.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY)?new a(t.getFirstAvailableChild(),r.CONSTANTS.DIRECTIONS.FORWARD,!1,null):new a(t.getLastAvailableChild(),r.CONSTANTS.DIRECTIONS.BACKWARD,!1,null):new a(null,null,!1,"SB.2.1-2")}}}},9843:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={process:function(e){return!(!e.isTracked()||e.isActive()||e.isSuspended()||!(e.getAttemptControl()&&e.getProgressStatus()&&e.getAttemptCount()>=e.getAttemptLimit()))}}},4527:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238);t.default={process:function(e){for(var t,n,i,o=e.getPrimaryObjective(),s=0,a=!1,u=0,c=!1,l=e.getObjectives(),d=0;d<l.length;d++)if(/^SubmitAll$/.test(l[d].getId())&&(c=!0,l[d].getProgressStatus()===r.CONSTANTS.SCORM.TRUE&&l[d].getSatisfiedStatus()===r.CONSTANTS.SCORM.TRUE)){c=!1;break}if(!c)for(var f=e.getAvailableChildren(),S=0,T=f.length;S<T;S++)n=(t=f[S]).getPrimaryObjective(),t.isTracked()&&(u+=i=t.getRollupObjectiveMeasureWeight(),i>0&&n.getMeasureStatus(!1)===r.CONSTANTS.SCORM.TRUE&&(s+=n.getNormalizedMeasure(!1)*i,a=!0));a&&u>0?(o.setMeasureStatus(!0),o.setNormalizedMeasure(s/u)):o.setMeasureStatus(!1)}}},5280:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(4557)),o=s(n(2543));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,i){this.validity=e,this.terminationRequest=t,this.sequencingRequest=n,this.targetActivity=r,this.exception=i}t.default={process:function(e,t){switch(e){case r.CONSTANTS.NAVIGATION_REQUESTS.START:return void 0===i.default.getCurrentActivity()?new a(r.CONSTANTS.VALIDITY.VALID,null,r.CONSTANTS.SEQUENCING_REQUESTS.START,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-1");case r.CONSTANTS.NAVIGATION_REQUESTS.RESUME_ALL:return n=i.default.getCurrentActivity(),s=i.default.getSuspendedActivity(),n?new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-1"):s?new a(r.CONSTANTS.VALIDITY.VALID,null,r.CONSTANTS.SEQUENCING_REQUESTS.RESUME_ALL,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-3");case r.CONSTANTS.NAVIGATION_REQUESTS.CONTINUE:return function(){var e=i.default.getCurrentActivity();return void 0===e?new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2"):e!==o.default.getRoot()&&e.getParent().isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FLOW)?e.isActive()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.EXIT,r.CONSTANTS.SEQUENCING_REQUESTS.CONTINUE,null,null):new a(r.CONSTANTS.VALIDITY.VALID,null,r.CONSTANTS.SEQUENCING_REQUESTS.CONTINUE,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-4")}();case r.CONSTANTS.NAVIGATION_REQUESTS.PREVIOUS:return function(){var e=i.default.getCurrentActivity();if(void 0===e)return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2");if(e!==o.default.getRoot()){var t=e.getParent();return t.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FLOW)&&!t.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FORWARD_ONLY)?e.isActive()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.EXIT,r.CONSTANTS.SEQUENCING_REQUESTS.PREVIOUS,null,null):new a(r.CONSTANTS.VALIDITY.VALID,null,r.CONSTANTS.SEQUENCING_REQUESTS.PREVIOUS,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-5")}return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-6")}();case r.CONSTANTS.NAVIGATION_REQUESTS.FORWARD:case r.CONSTANTS.NAVIGATION_REQUESTS.BACKWARD:return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-7");case r.CONSTANTS.NAVIGATION_REQUESTS.CHOICE:return function(e){var t,n,s,u=o.default.getActivityById(e),c=u.getParent(),l=o.default.getRoot(),d=i.default.getCurrentActivity();if(u){if(u===l||c.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.CHOICE)===r.CONSTANTS.SCORM.TRUE){if(!d)return new a(r.CONSTANTS.VALIDITY.VALID,null,r.CONSTANTS.SEQUENCING_REQUESTS.CHOICE,u,null);if(!d.isSiblingTo(u)){if(t=u.findCommonAncestor(d),!(n=d.getPath(!1,t)).length)return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-9");for(var f=0,S=n.length;f<S;f++)if((s=n[f]).isActive()&&!s.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT))return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-8")}return d.isActive()&&!d.isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.CHOICE_EXIT)?new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-8"):d.isActive()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.EXIT,r.CONSTANTS.SEQUENCING_REQUESTS.CHOICE,u,null):new a(r.CONSTANTS.VALIDITY.VALID,null,r.CONSTANTS.SEQUENCING_REQUESTS.CHOICE,u,null)}return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-10")}return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-11")}(t);case r.CONSTANTS.NAVIGATION_REQUESTS.EXIT:return function(){var e=i.default.getCurrentActivity();return e?e.isActive()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.EXIT,null,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-12"):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2")}();case r.CONSTANTS.NAVIGATION_REQUESTS.EXIT_ALL:return i.default.getCurrentActivity()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.EXIT_ALL,r.CONSTANTS.SEQUENCING_REQUESTS.EXIT_ALL,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2");case r.CONSTANTS.NAVIGATION_REQUESTS.ABANDON:return function(){var e=i.default.getCurrentActivity();return e?e.isActive()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.ABANDON,r.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-12"):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2")}();case r.CONSTANTS.NAVIGATION_REQUESTS.ABANDON_ALL:return i.default.getCurrentActivity()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.ABANDON_ALL,r.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2");case r.CONSTANTS.NAVIGATION_REQUESTS.SUSPEND_ALL:return i.default.getCurrentActivity()?new a(r.CONSTANTS.VALIDITY.VALID,r.CONSTANTS.TERMINATION_REQUESTS.SUSPEND_ALL,r.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-2")}var n,s;return new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,null,null,"NB.2.1-13")}}},3902:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(78)),i=n(5238),o=u(n(3578)),s=u(n(3231)),a=u(n(6741));function u(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){r.default.logger.trace("Objective Rollup Process start...");var t=!1,n=!1,u=e.getRollupRules(i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED).length>0,c=e.getRollupRules(i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED).length>0,l=e.getPrimaryObjective();l&&(l.getSatisfiedByMeasure()?o.default.process(e):(u&&(t=a.default.processNotSatisfiedAction(e)),c&&(n=a.default.processSatisfiedAction(e)),t||n||s.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED),n||t||s.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED))),r.default.logger.trace("Objective Rollup Process end.")}}},3231:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(78)),i=n(5238),o=s(n(8146));function s(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e,t){var n,s=e.getAvailableChildren(),a=e.getPrimaryObjective(),u=!0,c=!0,l=!1;if(t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED){if(r.default.logger.trace("Objective Rollup Using Default Process (satisfied action) start..."),s.length){for(var d=0,f=s.length;d<f;d++)if(n=s[d],o.default.process(n,i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED)&&(l=!0,n.getSatisfiedStatus()!==i.CONSTANTS.SCORM.TRUE)){u=!1;break}l&&u&&(a.setProgressStatus(!0),a.setSatisfiedStatus(!0))}r.default.logger.trace("Objective Rollup Using Default Process (satisfied action) end.")}if(t===i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED){if(r.default.logger.trace("Objective Rollup Using Default Process (notsatisfied action) start..."),s.length){for(var S=0,T=s.length;S<T;S++)if(n=s[S],o.default.process(n,i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED)&&(l=!0,!n.isAttempted())){c=!1;break}l&&c&&(a.setProgressStatus(!0),a.setSatisfiedStatus(!1))}r.default.logger.trace("Objective Rollup Using Default Process (notsatisfied action) end.")}}}},3578:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(78))&&r.__esModule?r:{default:r};t.default={process:function(e,t){i.default.logger.trace("Objective Rollup Using Measure Process start...");var n=t?e.getObjective(t):e.getPrimaryObjective();n.getSatisfiedByMeasure()&&(n.getMeasureStatus(!1)&&(!e.isActive()||e.isActive()&&e.getMeasureSatisfactionIfActive())?+n.getNormalizedMeasure(!1)>=+n.getMinimumSatisfiedNormalizedMeasure()?(n.setProgressStatus(!0),n.setSatisfiedStatus(!0)):(n.setProgressStatus(!0),n.setSatisfiedStatus(!1)):n.setProgressStatus(!1)),i.default.logger.trace("Objective Rollup Using Measure Process end.")}}},6741:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(78)),i=n(5238),o=s(n(1162));function s(e){return e&&e.__esModule?e:{default:e}}t.default={processNotSatisfiedAction:function(e){r.default.logger.trace("Objective Rollup Using Rules Process (notsatisfied action) start...");var t=!1,n=e.getPrimaryObjective();return o.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.NOT_SATISFIED)&&(n.setProgressStatus(!0),n.setSatisfiedStatus(!1),t=!0),r.default.logger.trace("Objective Rollup Using Rules Process (notsatisfied action) end."),t},processSatisfiedAction:function(e){r.default.logger.trace("Objective Rollup Using Rules Process (satisfied action) start...");var t=!1,n=e.getPrimaryObjective();return o.default.process(e,i.CONSTANTS.ROLLUP_RULES_ACTIONS.SATISFIED)&&(n.setProgressStatus(!0),n.setSatisfiedStatus(!0),t=!0),r.default.logger.trace("Objective Rollup Using Rules Process end."),t}}},1556:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(3902)),i=s(n(8002)),o=s(n(4527));function s(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){var t,n=e.getRollupSet();if(n.length)for(;n.length;)(t=n.pop()).isLeaf()||o.default.process(t),r.default.process(t),i.default.process(t),t.transferLocalStateToGlobal()}}},8660:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(78)),i=n(5238),o=l(n(2590)),s=l(n(752)),a=l(n(2114)),u=l(n(7005)),c=l(n(5280));function l(e){return e&&e.__esModule?e:{default:e}}var d={"NB.2.1-1":"Current Activity is already defined / Sequencing session has already begun.","NB.2.1-2":"Current Activity is not defined / Sequencing session has not begun.","NB.2.1-3":"Suspended Activity is not defined","NB.2.1-4":"Flow Sequencing Control Mode violation","NB.2.1-5":"Flow or Forward Only Sequencing Control Mode violation","NB.2.1-6":"No activity is previous to the root","NB.2.1-7":"Unsupported navigation request","NB.2.1-8":"Choice Exit Sequencing Control Mode violation","NB.2.1-9":"No activities to consider","NB.2.1-10":"Choice Sequencing Control Mode violation","NB.2.1-11":"Target activity does not exist","NB.2.1-12":"Current Activity already terminated","NB.2.1-13":"Undefined navigation request","TB.2.3-1":"Current Activity is not defined / Sequencing session has not begun","TB.2.3-2":"Current Activity already terminated","TB.2.3-3":"Cannot suspend an inactive root","TB.2.3-4":"Activity tree root has no parent","TB.2.3-5":"Nothing to suspend; No active activities","TB.2.3-6":"Nothing to abandon; No active activities","TB.2.3-7":"Undefined termination request","SB.2.1-1":"Last activity in the tree","SB.2.1-2":"Cluster has no available children","SB.2.1-3":"No activity is previous to the root","SB.2.1-4":"Forward Only Sequencing Control Mode violation","SB.2.2-1":"Flow Sequencing Control Mode violation","SB.2.2-2":"Activity unavailable","SB.2.4-1":"Forward Traversal Blocked","SB.2.4-2":"Forward Only Sequencing Control Mode violation","SB.2.4-3":"No activity is previous to the root","SB.2.5-1":"Current Activity is defined / Sequencing session already begun","SB.2.6-1":"Current Activity is defined / Sequencing session already begun","SB.2.6-2":"No Suspended Activity defined","SB.2.7-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.7-2":"Flow Sequencing Control Mode violation","SB.2.8-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.8-2":"Flow Sequencing Control Mode violation","SB.2.9-1":"No target for Choice","SB.2.9-2":"Target activity does not exist or is unavailable","SB.2.9.3":"Target activity hidden from choice","SB.2.9-4":"Choice Sequencing Control Mode violation","SB.2.9-5":"No activities to consider","SB.2.9-6":"Unable to activate target; target is not a child of the Current Activity","SB.2.9-7":"Choice Exit Sequencing Control Mode violation","SB.2.9-8":"Unable to choose target activity  constrained choice","SB.2.9-9":"Choice request prevented by Flow-only activity","SB.2.10-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.10-2":"Current Activity is active or suspended","SB.2.10-3":"Flow Sequencing Control Mode violation","SB.2.11-1":"Current Activity is not defined / Sequencing session has not begun","SB.2.11-2":"Current Activity has not been terminated","SB.2.12-1":"Undefined sequencing request","DB.1.1-1":"Cannot deliver a non-leaf activity","DB.1.1-2":"Nothing to deliver","DB.1.1-3":"Activity unavailable","DB.2-1":"Identified activity is already active"};t.default={process:function(e,t){var n,l,f=c.default.process(e,t),S=null;if(f.validity===i.CONSTANTS.VALIDITY.NOT_VALID)return r.default.logger.error("SCORM: code - ".concat(f.exception,", exception - ").concat(d[f.exception])),f.exception;if(null!==f.terminationRequest){if((n=o.default.process(f.terminationRequest)).validity===i.CONSTANTS.VALIDITY.NOT_VALID)return n.exception;n.sequencingRequest&&(f.sequencingRequest=n.sequencingRequest)}if(null!==f.sequencingRequest){if(!0===(l=s.default.process(f.sequencingRequest,t)).endSession)return!1;if(l.validity===i.CONSTANTS.VALIDITY.NOT_VALID)return r.default.logger.error("SCORM: code - ".concat(l.exception,", exception - ").concat(d[l.exception])),l.exception;if(null===l.deliveryRequest)return;S=l.deliveryRequest}if(null!==S){var T=u.default.process(S);if(T.validity===i.CONSTANTS.VALIDITY.NOT_VALID)return r.default.logger.error("SCORM: code - ".concat(T.exception,", exception - ").concat(d[T.exception])),T.exception;var N=a.default.process(S);return N.validity===i.CONSTANTS.VALIDITY.VALID||(r.default.logger.error("SCORM: code - ".concat(N.exception,", exception - ").concat(d[N.exception])),N.exception)}}}},934:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=a(n(4557)),o=a(n(2543)),s=a(n(3268));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(){var e=i.default.getCurrentActivity();if(void 0===e)return new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.8-1");if(e!==o.default.getRoot()&&!e.getParent().isSequencingControlMode(r.CONSTANTS.SEQUENCING_MODES.FLOW))return new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.8-2");var t=s.default.process(e,r.CONSTANTS.DIRECTIONS.BACKWARD,!1);return t.deliverable?new u(r.CONSTANTS.VALIDITY.VALID,t.activity,!1,null):new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,t.exception)}}},3735:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(78))&&r.__esModule?r:{default:r},o=n(5238);function s(e){var t=e.getAvailableChildren();Array.isArray(t)&&t.length>0&&e.setAvailableChildren(i.default.shuffle(t.slice()))}t.default={process:function(e){if(!e.isLeaf()&&!e.isSuspended()&&!e.isActive())switch(e.getRandomizationTiming()){case o.CONSTANTS.TIMING.NEVER:break;case o.CONSTANTS.TIMING.ONCE:e.getProgressStatus()||e.getReorderChildren()&&s(e);break;case o.CONSTANTS.TIMING.ON_EACH_NEW_ATTEMPT:e.getReorderChildren()&&s(e)}}}},6658:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(4557))&&r.__esModule?r:{default:r},o=n(5238);function s(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(){var e=i.default.getCurrentActivity(),t=i.default.getSuspendedActivity();return e?new s(o.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.6-1"):t?new s(o.CONSTANTS.VALIDITY.VALID,t,!1,null):new s(o.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.6-2")}}},3741:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(4557)),o=s(n(3268));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(){var e,t=i.default.getCurrentActivity();return t?t.isActive()||t.isSuspended()?new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.10-2"):t.isLeaf()?new a(r.CONSTANTS.VALIDITY.VALID,t,!1,null):(e=o.default.process(t,r.CONSTANTS.DIRECTIONS.FORWARD,!0)).deliverable?new a(r.CONSTANTS.VALIDITY.VALID,e.activity,!1,null):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.10-3"):new a(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.10-1")}}},1162:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(78)),i=n(5238),o=a(n(1395)),s=a(n(8146));function a(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e,t){r.default.logger.trace("Rollup Rule Check Subprocess start...");var n,a,u=e.getRollupRules(t),c=e.getAvailableChildren(),l=[],d=!1;if(u.length)for(var f=0,S=u.length;f<S;f++){n=u[f];for(var T=0,N=c.length;T<N;T++)(a=c[T]).isTracked()&&s.default.process(a,t)&&l.push(o.default.process(a,n));switch(d=!1,n.childActivitySet){case i.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ALL:d=r.default.filter(l,(function(e){return!0===e})).length===l.length;break;case i.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.ANY:d=r.default.filter(l,(function(e){return!0===e})).length>0;break;case i.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.NONE:d=r.default.filter(l,(function(e){return!1===e})).length===l.length;break;case i.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_COUNT:d=r.default.filter(l,(function(e){return!0===e})).length>=n.minimumCount;break;case i.CONSTANTS.ROLLUP_CHILD_ACTIVITY_SET.AT_LEAST_PERCENT:d=r.default.filter(l,(function(e){return!0===e})).length/l.length>=n.minimumPercent}if(d)return!0}return r.default.logger.trace("Rollup Rule Check Subprocess end."),!1}}},4624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(78))&&r.__esModule?r:{default:r},o=n(5238);t.default={process:function(e){var t,n,r,s,a,u,c;if(!e.isLeaf()&&!e.isSuspended()&&!e.isActive())switch(e.getSelectionTiming()){case o.CONSTANTS.TIMING.NEVER:t=e.getAllChildren(),e.setAvailableChildren(t);break;case o.CONSTANTS.TIMING.ONCE:break;case o.CONSTANTS.TIMING.ON_EACH_NEW_ATTEMPT:if(e.getSelectCountStatus()){for(t=[],(s=e.getSelectCount())>(a=e.getAllChildren()).length&&(s=a.length),n=[];n.length!==s;)r=Math.floor(Math.random()*a.length),i.default.contains(n,r)||n.push(r);for(n.sort(),u=0,c=n.length;u<c;u++)t.push(a[n[u]])}e.setAvailableChildren(t)}}}},5288:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=u(n(4557)),o=u(n(3697)),s=u(n(8499)),a=u(n(2326));function u(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){for(var t,n=e.getPath(!0,e),u=void 0,c=0,l=n.length;c<l;c++)if(t=n[c],null!==s.default.process(t,r.CONSTANTS.SEQUENCING_RULES.EXIT_CONDITION,null)){u=t;break}void 0!==u&&(a.default.process(u),o.default.process(u),i.default.setCurrentActivity(u))}}},2141:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=s(n(2543)),o=s(n(8499));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){this.terminationRequest=e,this.sequencingRequest=t}t.default={process:function(e,t){if(e.isSuspended())return new a(null,null);var n=o.default.process(e,r.CONSTANTS.SEQUENCING_RULES.POST_CONDITION,null);return n===r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.RETRY?(e.prepareForNewAttempt(t,!0),new a(null,n)):n===r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.CONTINUE||n===r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.PREVIOUS?new a(null,n):n===r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.EXIT_PARENT||n===r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.EXIT_ALL?new a(n,null):n===r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.RETRY_ALL?(i.default.getRoot().prepareForNewAttempt(!0,!0),new a(r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.EXIT_ALL,r.CONSTANTS.POST_CONDITION_RULES_ACTIONS.RETRY)):new a(null,null)}}},752:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=d(n(4825)),o=d(n(3741)),s=d(n(3267)),a=d(n(9876)),u=d(n(1866)),c=d(n(934)),l=d(n(6658));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(e,t){switch(e){case r.CONSTANTS.SEQUENCING_REQUESTS.START:return s.default.process();case r.CONSTANTS.SEQUENCING_REQUESTS.RESUME_ALL:return l.default.process();case r.CONSTANTS.SEQUENCING_REQUESTS.EXIT:return i.default.process();case r.CONSTANTS.SEQUENCING_REQUESTS.RETRY:return o.default.process();case r.CONSTANTS.SEQUENCING_REQUESTS.CONTINUE:return u.default.process();case r.CONSTANTS.SEQUENCING_REQUESTS.PREVIOUS:return c.default.process();case r.CONSTANTS.SEQUENCING_REQUESTS.CHOICE:return a.default.process(t)}return new f(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.12-1")}}},8499:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(78)),i=n(5238),o=s(n(9927));function s(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e,t,n){r.default.logger.trace("Sequencing Rules Check Process start...");var s,a,u,c=e.getSequencingRules(t,n),l=null;for(a=0,u=c.length;a<u;a++)if(s=c[a],o.default.process(e,s)===i.CONSTANTS.SCORM.TRUE){l=s.ruleAction;break}return r.default.logger.trace("Sequencing Rules Check Process end."),l}}},9927:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238);t.default={process:function(e,t){for(var n,i,o=[],s=0,a=t.conditions.length;s<a;s++)i=(n=t.conditions[s]).evaluate(e),n.operator===r.CONSTANTS.OPERATORS.NOT&&(i=n.negate(i)),o.push(i);return t.applyConditionCombination(o)}}},3267:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5238),i=a(n(4557)),o=a(n(2543)),s=a(n(3268));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){this.validity=e,this.deliveryRequest=t,this.endSession=n,this.exception=r}t.default={process:function(){if(void 0!==i.default.getCurrentActivity())return new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,"SB.2.5-1");var e=o.default.getRoot();if(e.isLeaf())return new u(r.CONSTANTS.VALIDITY.VALID,e,!1,null);var t=s.default.process(e,r.CONSTANTS.DIRECTIONS.FORWARD,!0);return t.deliverable?new u(r.CONSTANTS.VALIDITY.VALID,t.activity,!1,null):new u(r.CONSTANTS.VALIDITY.NOT_VALID,null,!1,t.exception)}}},2326:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(4557)),i=o(n(3697));function o(e){return e&&e.__esModule?e:{default:e}}t.default={process:function(e){var t=r.default.getCurrentActivity();if(t){var n=e.findCommonAncestor(t),o=t.getPath(!1,n);for(o.shift();o.length;)i.default.process(o.pop())}}}},2590:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(78)),i=n(5238),o=f(n(4557)),s=f(n(2543)),a=f(n(3697)),u=f(n(1556)),c=f(n(2326)),l=f(n(5288)),d=f(n(2141));function f(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n){this.validity=e,this.sequencingRequest=t,this.exception=n}function T(e,t){r.default.logger.trace("Termination Request Exit All Process start...");var n=s.default.getRoot();return t=t||i.CONSTANTS.SEQUENCING_REQUESTS.EXIT,e.isActive()&&a.default.process(e),c.default.process(n),a.default.process(n),o.default.setCurrentActivity(n),r.default.logger.trace("Termination Request Exit All Process end."),new S(i.CONSTANTS.VALIDITY.VALID,t,null)}t.default={process:function(e){r.default.logger.trace("Termination Request Process start...");var t,n=o.default.getCurrentActivity();if(!n)return r.default.logger.trace("Termination Request Process end."),new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-1");if((e===i.CONSTANTS.TERMINATION_REQUESTS.EXIT||e===i.CONSTANTS.TERMINATION_REQUESTS.ABANDON)&&!n.isActive())return r.default.logger.trace("Termination Request Process end."),new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-2");switch(e){case i.CONSTANTS.TERMINATION_REQUESTS.EXIT:t=function(e){var t,n;r.default.logger.trace("Termination Request Exit Process start...");var u=e;a.default.process(e),l.default.process(e);var c=u===(e=o.default.getCurrentActivity())||e===s.default.getRoot();do{if(t=!1,(n=d.default.process(e,c)).terminationRequest===i.CONSTANTS.TERMINATION_REQUESTS.EXIT_ALL)return r.default.logger.trace("Termination Request Exit Process end."),T(e,n.sequencingRequest);if(n.terminationRequest===i.CONSTANTS.TERMINATION_REQUESTS.EXIT_PARENT){if(e===s.default.getRoot())return r.default.logger.trace("Termination Request Exit Process end."),new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-4");e=e.getParent(),o.default.setCurrentActivity(e),a.default.process(e),t=!0}else if(e===s.default.getRoot()&&n.sequencingRequest!==i.CONSTANTS.SEQUENCING_REQUESTS.RETRY)return r.default.logger.trace("Termination Request Exit Process end."),new S(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null)}while(t);return r.default.logger.trace("Termination Request Exit Process end."),new S(i.CONSTANTS.VALIDITY.VALID,n.sequencingRequest,null)}(n);break;case i.CONSTANTS.TERMINATION_REQUESTS.EXIT_ALL:t=T(n);break;case i.CONSTANTS.TERMINATION_REQUESTS.SUSPEND_ALL:t=function(e){r.default.logger.trace("Termination Request Suspend All Process start...");var t,n=s.default.getRoot();if(e.isActive()||e.isSuspended())u.default.process(e),o.default.setSuspendedActivity(e);else{if(e===n)return r.default.logger.trace("Termination Request Suspend All Process end."),new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-3");o.default.setSuspendedActivity(e.getParent())}var a=o.default.getSuspendedActivity(),c=a?a.getPath(!1,null):[];if(!c.length)return r.default.logger.trace("Termination Request Suspend All Process end."),new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-5");for(var l=0,d=c.length;l<d;l++)(t=c[l]).setActive(!1),t.setSuspended(!0);return o.default.setCurrentActivity(n),r.default.logger.trace("Termination Request Suspend All Process end."),new S(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null)}(n);break;case i.CONSTANTS.TERMINATION_REQUESTS.ABANDON:t=function(e){return r.default.logger.trace("Termination Request Abandon Process start..."),e.setActive(!1),r.default.logger.trace("Termination Request Abandon Process end."),new S(i.CONSTANTS.VALIDITY.VALID,null,null)}(n);break;case i.CONSTANTS.TERMINATION_REQUESTS.ABANDON_ALL:t=function(e){r.default.logger.trace("Termination Request Abandon All Process start...");var t=e.getPath(!1,null);if(!t.length)return r.default.logger.trace("Termination Request Abandon All Process end."),new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-6");for(var n=0,a=t.length;n<a;n++)t[n].setActive(!1);return o.default.setCurrentActivity(s.default.getRoot()),r.default.logger.trace("Termination Request Abandon All Process end."),new S(i.CONSTANTS.VALIDITY.VALID,i.CONSTANTS.SEQUENCING_REQUESTS.EXIT,null)}(n)}return r.default.logger.trace("Termination Request Process end."),t||new S(i.CONSTANTS.VALIDITY.NOT_VALID,null,"TB.2.3-7")}}},2385:function(e,t,n){var r=n(7250);e.exports=r},6404:function(e,t,n){var r=n(9609);e.exports=r},7330:function(e,t,n){var r=n(6105);e.exports=r},7255:function(e,t,n){n(113);var r=n(7015);e.exports=r("Array","find")},4014:function(e,t,n){n(6034);var r=n(9167);e.exports=r.Object.values},1936:function(e,t,n){n(1392);var r=n(7015);e.exports=r("String","startsWith")},590:function(e,t,n){e.exports=n(9268)},8029:function(e,t,n){e.exports=n(9311)},2557:function(e,t,n){e.exports=n(1635)},9268:function(e,t,n){var r=n(2385);e.exports=r},9311:function(e,t,n){var r=n(6404);e.exports=r},1635:function(e,t,n){var r=n(7330);e.exports=r},9306:function(e,t,n){var r=n(4901),i=n(6823),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},6469:function(e,t,n){var r=n(8227),i=n(2360),o=n(4913).f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},8551:function(e,t,n){var r=n(34),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},9617:function(e,t,n){var r=n(5397),i=n(5610),o=n(6198),s=function(e){return function(t,n,s){var a=r(t),u=o(a);if(0===u)return!e&&-1;var c,l=i(s,u);if(e&&n!=n){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((e||l in a)&&a[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},9213:function(e,t,n){var r=n(6080),i=n(9504),o=n(7055),s=n(8981),a=n(6198),u=n(1469),c=i([].push),l=function(e){var t=1===e,n=2===e,i=3===e,l=4===e,d=6===e,f=7===e,S=5===e||d;return function(T,N,p,g){for(var O,v,A=s(T),m=o(A),C=a(m),E=r(N,p),I=0,h=g||u,_=t?h(T,C):n||f?h(T,0):void 0;C>I;I++)if((S||I in m)&&(v=E(O=m[I],I,A),e))if(t)_[I]=v;else if(v)switch(e){case 3:return!0;case 5:return O;case 6:return I;case 2:c(_,O)}else switch(e){case 4:return!1;case 7:c(_,O)}return d?-1:i||l?l:_}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7433:function(e,t,n){var r=n(4376),i=n(3517),o=n(34),s=n(8227)("species"),a=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===a||r(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},1469:function(e,t,n){var r=n(7433);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},2195:function(e,t,n){var r=n(9504),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},6955:function(e,t,n){var r=n(2140),i=n(4901),o=n(2195),s=n(8227)("toStringTag"),a=Object,u="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?n:u?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},7740:function(e,t,n){var r=n(9297),i=n(5031),o=n(7347),s=n(4913);e.exports=function(e,t,n){for(var a=i(t),u=s.f,c=o.f,l=0;l<a.length;l++){var d=a[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},1436:function(e,t,n){var r=n(8227)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},2211:function(e,t,n){var r=n(9039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6699:function(e,t,n){var r=n(3724),i=n(4913),o=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6840:function(e,t,n){var r=n(4901),i=n(4913),o=n(283),s=n(9433);e.exports=function(e,t,n,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&o(n,c,a),a.global)u?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9433:function(e,t,n){var r=n(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},3724:function(e,t,n){var r=n(9039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(e,t,n){var r=n(4576),i=n(34),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},7015:function(e,t,n){var r=n(4576),i=n(9504);e.exports=function(e,t){return i(r[e].prototype[t])}},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:function(e,t,n){var r=n(4576).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},9519:function(e,t,n){var r,i,o=n(4576),s=n(2839),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},6518:function(e,t,n){var r=n(4576),i=n(7347).f,o=n(6699),s=n(6840),a=n(9433),u=n(7740),c=n(2796);e.exports=function(e,t){var n,l,d,f,S,T=e.target,N=e.global,p=e.stat;if(n=N?r:p?r[T]||a(T,{}):r[T]&&r[T].prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(S=i(n,l))&&S.value:n[l],!c(N?l:T+(p?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(n,l,f,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},6080:function(e,t,n){var r=n(7476),i=n(9306),o=n(616),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,n){var r=n(9039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,n){var r=n(616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(e,t,n){var r=n(3724),i=n(9297),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},7476:function(e,t,n){var r=n(2195),i=n(9504);e.exports=function(e){if("Function"===r(e))return i(e)}},9504:function(e,t,n){var r=n(616),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},7751:function(e,t,n){var r=n(4576),i=n(4901);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},5966:function(e,t,n){var r=n(9306),i=n(4117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},4576:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},421:function(e){e.exports={}},397:function(e,t,n){var r=n(7751);e.exports=r("document","documentElement")},5917:function(e,t,n){var r=n(3724),i=n(9039),o=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){var r=n(9504),i=n(9039),o=n(2195),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},3706:function(e,t,n){var r=n(9504),i=n(4901),o=n(7629),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},1181:function(e,t,n){var r,i,o,s=n(8622),a=n(4576),u=n(34),c=n(6699),l=n(9297),d=n(7629),f=n(6119),S=n(421),T="Object already initialized",N=a.TypeError,p=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new p);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw new N(T);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var O=f("state");S[O]=!0,r=function(e,t){if(l(e,O))throw new N(T);return t.facade=e,c(e,O,t),t},i=function(e){return l(e,O)?e[O]:{}},o=function(e){return l(e,O)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw new N("Incompatible receiver, "+e+" required");return n}}}},4376:function(e,t,n){var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4901:function(e){var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},3517:function(e,t,n){var r=n(9504),i=n(9039),o=n(4901),s=n(6955),a=n(7751),u=n(3706),c=function(){},l=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),S=!d.test(c),T=function(e){if(!o(e))return!1;try{return l(c,[],e),!0}catch(e){return!1}},N=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!f(d,u(e))}catch(e){return!0}};N.sham=!0,e.exports=!l||i((function(){var e;return T(T.call)||!T(Object)||!T((function(){e=!0}))||e}))?N:T},2796:function(e,t,n){var r=n(9039),i=n(4901),o=/#|\.prototype\./,s=function(e,t){var n=u[a(e)];return n===l||n!==c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},4117:function(e){e.exports=function(e){return null==e}},34:function(e,t,n){var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},6395:function(e){e.exports=!1},788:function(e,t,n){var r=n(34),i=n(2195),o=n(8227)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},757:function(e,t,n){var r=n(7751),i=n(4901),o=n(1625),s=n(7040),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},6198:function(e,t,n){var r=n(8014);e.exports=function(e){return r(e.length)}},283:function(e,t,n){var r=n(9504),i=n(9039),o=n(4901),s=n(9297),a=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),d=l.enforce,f=l.get,S=String,T=Object.defineProperty,N=r("".slice),p=r("".replace),g=r([].join),O=a&&!i((function(){return 8!==T((function(){}),"length",{value:8}).length})),v=String(String).split("String"),A=e.exports=function(e,t,n){"Symbol("===N(S(t),0,7)&&(t="["+p(S(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||u&&e.name!==t)&&(a?T(e,"name",{value:t,configurable:!0}):e.name=t),O&&n&&s(n,"arity")&&e.length!==n.arity&&T(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&T(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return s(r,"source")||(r.source=g(v,"string"==typeof t?t:"")),e};Function.prototype.toString=A((function(){return o(this)&&f(this).source||c(this)}),"toString")},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},511:function(e,t,n){var r=n(788),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},2360:function(e,t,n){var r,i=n(8551),o=n(6801),s=n(8727),a=n(421),u=n(397),c=n(4055),l=n(6119),d="prototype",f="script",S=l("IE_PROTO"),T=function(){},N=function(e){return"<"+f+">"+e+"</"+f+">"},p=function(e){e.write(N("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;g="undefined"!=typeof document?document.domain&&r?p(r):(t=c("iframe"),n="java"+f+":",t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(N("document.F=Object")),e.close(),e.F):p(r);for(var i=s.length;i--;)delete g[d][s[i]];return g()};a[S]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(T[d]=i(e),n=new T,T[d]=null,n[S]=e):n=g(),void 0===t?n:o.f(n,t)}},6801:function(e,t,n){var r=n(3724),i=n(8686),o=n(4913),s=n(8551),a=n(5397),u=n(1072);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);for(var n,r=a(t),i=u(t),c=i.length,l=0;c>l;)o.f(e,n=i[l++],r[n]);return e}},4913:function(e,t,n){var r=n(3724),i=n(5917),o=n(8686),s=n(8551),a=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",S="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&S in n&&!n[S]){var r=l(e,t);r&&r[S]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){var r=n(3724),i=n(9565),o=n(8773),s=n(6980),a=n(5397),u=n(6969),c=n(9297),l=n(5917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return s(!i(o.f,e,t),e[t])}},8480:function(e,t,n){var r=n(1828),i=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},2787:function(e,t,n){var r=n(9297),i=n(4901),o=n(8981),s=n(6119),a=n(2211),u=s("IE_PROTO"),c=Object,l=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=o(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},1625:function(e,t,n){var r=n(9504);e.exports=r({}.isPrototypeOf)},1828:function(e,t,n){var r=n(9504),i=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~s(l,n)||u(l,n));return l}},1072:function(e,t,n){var r=n(1828),i=n(8727);e.exports=Object.keys||function(e){return r(e,i)}},8773:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},2357:function(e,t,n){var r=n(3724),i=n(9039),o=n(9504),s=n(2787),a=n(1072),u=n(5397),c=o(n(8773).f),l=o([].push),d=r&&i((function(){var e=Object.create(null);return e[2]=2,!c(e,2)})),f=function(e){return function(t){for(var n,i=u(t),o=a(i),f=d&&null===s(i),S=o.length,T=0,N=[];S>T;)n=o[T++],r&&!(f?n in i:c(i,n))||l(N,e?[n,i[n]]:i[n]);return N}};e.exports={entries:f(!0),values:f(!1)}},4270:function(e,t,n){var r=n(9565),i=n(4901),o=n(34),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},5031:function(e,t,n){var r=n(7751),i=n(9504),o=n(8480),s=n(3717),a=n(8551),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?u(t,n(e)):t}},9167:function(e,t,n){var r=n(4576);e.exports=r},7750:function(e,t,n){var r=n(4117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},6119:function(e,t,n){var r=n(5745),i=n(3392),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},7629:function(e,t,n){var r=n(6395),i=n(4576),o=n(9433),s="__core-js_shared__",a=e.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:r?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},4495:function(e,t,n){var r=n(9519),i=n(9039),o=n(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(e,t,n){var r=n(1291),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5397:function(e,t,n){var r=n(7055),i=n(7750);e.exports=function(e){return r(i(e))}},1291:function(e,t,n){var r=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},8014:function(e,t,n){var r=n(1291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},8981:function(e,t,n){var r=n(7750),i=Object;e.exports=function(e){return i(r(e))}},2777:function(e,t,n){var r=n(9565),i=n(34),o=n(757),s=n(5966),a=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=s(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},6969:function(e,t,n){var r=n(2777),i=n(757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2140:function(e,t,n){var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},655:function(e,t,n){var r=n(6955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:function(e,t,n){var r=n(9504),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},7040:function(e,t,n){var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){var r=n(3724),i=n(9039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:function(e,t,n){var r=n(4576),i=n(4901),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},8227:function(e,t,n){var r=n(4576),i=n(5745),o=n(9297),s=n(3392),a=n(4495),u=n(7040),c=r.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return o(l,e)||(l[e]=a&&o(c,e)?c[e]:d("Symbol."+e)),l[e]}},113:function(e,t,n){var r=n(6518),i=n(9213).find,o=n(6469),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},6034:function(e,t,n){var r=n(6518),i=n(2357).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},1392:function(e,t,n){var r,i=n(6518),o=n(7476),s=n(7347).f,a=n(8014),u=n(655),c=n(511),l=n(7750),d=n(1436),f=n(6395),S=o("".slice),T=Math.min,N=d("startsWith");i({target:"String",proto:!0,forced:!(!f&&!N&&(r=s(String.prototype,"startsWith"),r&&!r.writable)||N)},{startsWith:function(e){var t=u(l(this));c(e);var n=a(T(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return S(t,n,n+r.length)===r}})},7250:function(e,t,n){var r=n(7255);e.exports=r},9609:function(e,t,n){var r=n(4014);e.exports=r},6105:function(e,t,n){var r=n(1936);e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8348)}()}));